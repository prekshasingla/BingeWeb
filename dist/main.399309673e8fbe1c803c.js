(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return l}),n.d(e,"__decorate",function(){return u}),n.d(e,"__param",function(){return a}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function u(t,e,n,r){var o,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(l=(i<3?o(l):i>3?o(e,n,l):o(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(o,i){function l(t){try{a(r.next(t))}catch(t){i(t)}}function u(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(l,u)}a((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(a,s):c(i[0][2],n)}catch(t){c(i[0][3],t)}var n}function a(t){u("next",t)}function s(t){u("throw",t)}function c(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"+EG8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}()},"+gEr":function(t,e,n){"use strict";n.r(e),n.d(e,"defaultThrottleConfig",function(){return l}),n.d(e,"throttle",function(){return u});var r=n("mrSG"),o=n(null),i=n(null),l={leading:!0,trailing:!1};function u(t,e){return void 0===e&&(e=l),function(n){return n.lift(new a(t,e.leading,e.trailing))}}var a=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector,this.leading,this.trailing))},t}(),s=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.destination=e,i.durationSelector=n,i._leading=r,i._trailing=o,i._hasValue=!1,i}return r.__extends(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._sendValue;this._hasValue&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(i.a)(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,n,r,o){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(o.a)},"/21U":function(t,e,n){"use strict";n.r(e),n.d(e,"isNumeric",function(){return o});var r=n(null);function o(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},"02O7":function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeOnObservable",function(){return u});var r=n("mrSG"),o=n(null),i=n("KQya"),l=n("/21U"),u=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.asap);var o=t.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=r,(!Object(l.isNumeric)(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=i.asap),o}return r.__extends(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=i.asap),new e(t,n,r)},e.dispatch=function(t){return this.add(t.source.subscribe(t.subscriber))},e.prototype._subscribe=function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})},e}(o.a)},"1BfG":function(t,e,n){"use strict";n.r(e),n.d(e,"Immediate",function(){return i});var r=0,o={},i={setImmediate:function(t){var e=r++;return o[e]=t,Promise.resolve().then(function(){return function(t){var e=o[t];e&&e()}(e)}),e},clearImmediate:function(t){delete o[t]}}},"2WBS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=function(t,e){var n=new r(t,e);return n.subscribe.bind(n)};var r=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=o),void 0===r.error&&(r.error=o),void 0===r.complete&&(r.complete=o);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function o(){}e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}},"3U0i":function(t,e,n){"use strict";n.r(e),n.d(e,"TimeoutError",function(){return o});var r=n("mrSG"),o=function(t){function e(){var n=t.call(this,"Timeout has occurred")||this;return Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error)},"5IO1":function(t,e,n){"use strict";n.r(e),n.d(e,"timestamp",function(){return i}),n.d(e,"Timestamp",function(){return l});var r=n(null),o=n(null);function i(t){return void 0===t&&(t=r.a),Object(o.a)(function(e){return new l(e,t.now())})}var l=function(t,e){this.value=t,this.timestamp=e}},"6gWd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=function(){this.blockSize=-1}},"6wkY":function(t,e,n){"use strict";n.r(e),n.d(e,"timeInterval",function(){return u}),n.d(e,"TimeInterval",function(){return a});var r=n(null),o=n(null),i=n("lYZG"),l=n(null);function u(t){return void 0===t&&(t=r.a),function(e){return Object(i.defer)(function(){return e.pipe(Object(o.a)(function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}},{current:t.now(),value:void 0,last:void 0}),Object(l.a)(function(t){return new a(t.value,t.current-t.last)}))})}}var a=function(t,e){this.value=t,this.interval=e}},"7Qw6":function(t,e,n){"use strict";n.r(e),n.d(e,"using",function(){return l});var r=n(null),o=n(null),i=n(null);function l(t,e){return new r.a(function(n){var r,l;try{r=t()}catch(t){return void n.error(t)}try{l=e(r)}catch(t){return void n.error(t)}var u=(l?Object(o.a)(l):i.b).subscribe(n);return function(){u.unsubscribe(),r&&r.unsubscribe()}})}},9:function(t,e,n){t.exports=n("zUnb")},"909l":function(t,e,n){"use strict";n.r(e),n.d(e,"zip",function(){return c}),n.d(e,"ZipOperator",function(){return h}),n.d(e,"ZipSubscriber",function(){return d});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null),a=n(null),s=n(null);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(o.a)(t,void 0).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return r.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;Object(i.a)(t)?e.push(new f(t)):e.push("function"==typeof t[s.a]?new p(t[s.a]()):new g(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(l=t[r]).hasValue&&!l.hasValue())return;var o=!1,i=[];for(r=0;r<e;r++){var l,u=(l=t[r]).next();if(l.hasCompleted()&&(o=!0),u.done)return void n.complete();i.push(u.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(l.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[s.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),g=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(a.a)(this,this.observable,this,e)},e}(u.a)},"9aZH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},D2hM:function(t,e,n){"use strict";n.r(e),n.d(e,"webSocket",function(){return o});var r=n("N8wI");function o(t){return new r.WebSocketSubject(t)}},ELzr:function(t,e,n){"use strict";n.r(e),n.d(e,"onErrorResumeNext",function(){return u});var r=n(null),o=n(null),i=n(null),l=n(null);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return l.b;var n=t[0],a=t.slice(1);return 1===t.length&&Object(i.a)(n)?u.apply(void 0,n):new r.a(function(t){var e=function(){return t.add(u.apply(void 0,a).subscribe(t))};return Object(o.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}},EWOM:function(t,e,n){"use strict";n.r(e),n.d(e,"pairs",function(){return i}),n.d(e,"dispatch",function(){return l});var r=n(null),o=n(null);function i(t,e){return new r.a(e?function(n){var r=Object.keys(t),i=new o.a;return i.add(e.schedule(l,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var o=n[r];t.hasOwnProperty(o)&&e.next([o,t[o]])}e.complete()})}function l(t){var e=t.keys,n=t.index,r=t.subscriber,o=t.subscription,i=t.obj;if(!r.closed)if(n<e.length){var l=e[n];r.next([l,i[l]]),o.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}},FGoP:function(module,exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n="",r=(t=t.split("%s")).length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");ka.call(this,n+t[r])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=l(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<Ga.length;i++)n=Ga[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra,a;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa="",Ta=(a=x,Oa?/rv:([^\);]+)(\)|;)/.exec(a):Ma?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Pa?/WebKit\/(\S+)/.exec(a):La?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),r=ya(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var l=n[i]||"",u=r[i]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==l[0].length&&0==u[0].length)break;e=za(0==l[1].length?0:parseInt(l[1],10),0==u[1].length?0:parseInt(u[1],10))||za(0==l[2].length,0==u[2].length)||za(l[2],u[2]),l=l[3],u=u[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=o,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=qa(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.Z&&i.listener==e&&i.capture==!!n&&i.ga==r)return o}return-1}hb.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var l=ib(t,e,r,o);return-1<l?(e=t[l],n||(e.ba=!1)):((e=new fb(e,this.src,i,!!r,o)).ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,o){if(r&&r.once)return ob(t,e,n,r,o);if(p(e)){for(var i=0;i<e.length;i++)nb(t,e[i],n,r,o);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,o):qb(t,e,n,!1,r,o)}function qb(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var l=ea(o)?!!o.capture:!!o,u=rb(t);if(u||(t[kb]=u=new hb(t)),(n=u.add(e,n,r,l,i)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(o=l),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,o){if(p(e)){for(var i=0;i<e.length;i++)ob(t,e[i],n,r,o);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,o):qb(t,e,n,!0,r,o)}function vb(t,e,n,r,o){if(p(e))for(var i=0;i<e.length;i++)vb(t,e[i],n,r,o);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(i=t.a[e],n,r,o))&&(gb(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,o)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var o=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.Z&&(i=yb(i,r),o=o&&!1!==i)}return o}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n("window.event");e=new bb(r,this);var o=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var l=xb(r[i],t,!0,e);o=o&&l}for(i=0;i<r.length;i++)e.a=r[i],l=xb(r[i],t,!1,e),o=o&&l}return o}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var l=e[i];if(l&&!l.Z&&l.capture==n){var u=l.listener,a=l.ga||l.src;l.ba&&jb(t.f,l),o=!1!==u.call(a,r)&&o}}return o&&0!=r.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var r=e;e=r.length,n.push("[");for(var o="",i=0;i<e;i++)n.push(o),Eb(t,r[i],n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),o="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(i=e[r])&&(n.push(o),Gb(r,n),n.push(":"),Eb(t,i,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var o=t;Ha(t=new A(r,n),o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var u=t.a=e[i];o=Ab(u,r,!0,t)&&o}if(o=Ab(u=t.a=n,r,!0,t)&&o,o=Ab(u,r,!1,t)&&o,e)for(i=0;i<e.length;i++)o=Ab(u=t.a=e[i],r,!1,t)&&o;return o},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),o="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=o&&t.origin!=o||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,o)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},o=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){o.next={za:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var o=0;o<n.length;o++){var i=nb(e,n[o],r||t.handleEvent,!1,t.b||t);if(!i)break;t.a[i.key]=i}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,o,i){"number"==typeof i||gc++,o||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(""),oc[""]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,r,o,i){F(t,function(){if(t.b)if(i)for(var l="",u=i.split("&"),a=0;a<u.length;a++){var s=u[a].split("=");if(1<s.length){var c=s[0];s=s[1];var h=c.split("_");l=2<=h.length&&"type"==h[1]?l+(c+"=")+s+"&":l+(c+"=redacted&")}}else l=null;else l=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+l})}function uc(t,e,n,r,o,i,l){F(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+l})}function G(t,e,n,r){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(r?" "+r:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var o=n[r];if(!(2>o.length)){var i=o[1];if(p(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return Db(n)}catch(n){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"},Oc;function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,this.S=new Xb(t=Na?125:void 0),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var o=t.a.W();t.C=o,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+o}),t.f=200==o,uc(t.b,t.o,t.g,t.c,t.T,e,o),t.f?((r=cd(t))&&(G(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==o&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+o+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var o=jd(t,n);if(o==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(o==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),r=!1;break}G(t.b,t.c,o,null),dd(t,o)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf("\n",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else n=Ea(t);o=(r=ld(t)).length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)P(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,t,"No response text")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Q(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var o=new Q(null,void 0);return t&&sd(o,t),e&&td(o,e),n&&ud(o,n),r&&(o.a=r),o}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=e.a.lastIndexOf("/");-1!=o&&(r=e.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],l=0;l<o.length;){var u=o[l++];"."==u?r&&l==o.length&&i.push(""):".."==u?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&l==o.length&&i.push("")):(i.push(u),r=!0)}r=i.join("/")}else r=o}return n?e.a=r:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.A(r);for(var i=0;i<r.length;i++){var l=o;""!==r[i]&&(l+="="+encodeURIComponent(String(r[i]))),t.push(l)}}return this.c=t.join("&")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var r=t.a.j,o=t.a.K;r&&o&&R(n,r,o),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=r[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||"";try{md(t,function(t,n){var o=t;ea(t)&&(o=Db(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(me,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(me,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,o){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var o;if(o=0===n){var i=String(t.B).match(qd)[1]||null;if(!i&&k.self&&k.self.location){var l=k.self.location.protocol;i=l.substr(0,l.length-1)}o=!oe.test(i?i.toLowerCase():"")}e=o}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);n=(t=[t.substr(0,r),o,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,"SID",e.J),R(r,"RID",n),R(r,"TYPE","terminate"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,"SID",t.J),R(r,"RID",n),R(r,"AID",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),o=t.f?r(t.f.ab,t.f,t):null;t:for(var i=t.g,l=-1;;){var u=["count="+n];-1==l?0<n?u.push("ofs="+(l=i[0].a)):l=0:u.push("ofs="+l);for(var a=!0,s=0;s<n;s++){var c=i[s].a,h=i[s].b;if(0>(c-=l))l=Math.max(0,i[s].a-100),a=!1;else try{ke(h,u,"req"+c+"_")}catch(t){o&&o(h)}}if(a){o=u.join("&");break t}}return t=t.g.splice(0,n),e.u=t,o}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B||(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,"Test Connection Finished");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var o=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),o)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var r=Hd(n);if(""!=r.b)e&&td(r,e+"."+r.b),ud(r,r.i);else{var o=k.location;r=Id(o.protocol,e?e+"."+o.hostname:o.hostname,o.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),n=t.K,(e=t.j)&&n&&R(r,e,n),R(r,"VER",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?e=o:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?o:"/"+o)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,o){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,"Error opening Xhr: "+t.message)),void qe(this,t)}t=n||"";var i=new O(this.headers);o&&md(o,function(t,e){i.set(e,t)}),o=sa(i.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||o||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,"Send error: "+t.message)),qe(this,t)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return E(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return E(this.b,"Can not get responseText: "+t.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),o=M(this.D);R(o,"RID",t),R(o,"CVER",22),this.o&&this.j&&R(o,"X-HTTP-Session-Id",this.j),Be(this,o),this.h&&n&&xe(o,this.h,n),ce(this.c,e),this.va?(R(o,"$req",r),R(o,"SID","null"),e.X=!0,Vc(e,o,null)):Vc(e,o,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(H(this.a,(e=e[2])+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var o=e[n];if(this.N=o[0],o=o[1],2==this.F)if("c"==o[0]){this.J=o[1],this.X=o[2];var i=o[3];null!=i&&(this.na=i,F(this.a,"VER="+this.na)),null!=(i=o[4])&&(this.ya=i,F(this.a,"SVER="+this.ya)),null!=(o=o[5])&&"number"==typeof o&&0<o&&(this.G=o*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+o)),this.o&&(o=t.a)&&((i=id(o,"X-Client-Wire-Protocol"))&&be(this.c,i),this.j&&((o=id(o,"X-HTTP-Session-Id"))?(this.K=o,R(this.D,this.j,o)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),o=t,this.ua=Ud(this,this.X,this.ja),o.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,o),(i=this.G)&&o.setTimeout(i),o.s&&(bd(o),Zc(o)),this.b=o):Ke(this)}else"stop"!=o[0]&&"close"!=o[0]||V(this,7);else 3==this.F&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?V(this,7):ze(this):"noop"!=o[0]&&this.f&&this.f.Ca(o),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var o=e.m;if(3==o||0==o&&0<this.u)H(this.a,"Not retrying due to error type");else{var i=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(o,i.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),o){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,o=r.length,i=r[0];if(0>=o)i=void 0;else{if(1==o)ua(r);else{r[0]=r.pop(),o=(n=n.a).length;for(var l=n[r=0];r<o>>1;){var u=2*r+1,a=2*r+2;if(n[u=a<o&&n[a].a<n[u].a?a:u].a>l.a)break;n[r]=n[u],r=u}n[r]=l}i=i.b}i.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},GDxn:function(t,e,n){"use strict";n.r(e),n.d(e,"NEVER",function(){return i}),n.d(e,"never",function(){return l});var r=n(null),o=n(null),i=new r.a(o.a);function l(){return i}},GFlT:function(t,e,n){"use strict";n.r(e),n.d(e,"generate",function(){return l});var r=n(null),o=n(null),i=n(null);function l(t,e,n,l,a){var s,c;return 1==arguments.length?(c=t.initialState,e=t.condition,n=t.iterate,s=t.resultSelector||o.a,a=t.scheduler):void 0===l||Object(i.a)(l)?(c=t,s=o.a,a=l):(c=t,s=l),new r.a(function(t){var r=c;if(a)return a.schedule(u,0,{subscriber:t,iterate:n,condition:e,resultSelector:s,state:r});for(;;){if(e){var o=void 0;try{o=e(r)}catch(e){return void t.error(e)}if(!o){t.complete();break}}var i=void 0;try{i=s(r)}catch(e){return void t.error(e)}if(t.next(i),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function u(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}}},HP4C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),o=n("6gWd");e.Sha1=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var o,i,l=this.chain_[0],u=this.chain_[1],a=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=s^u&(a^s),i=1518500249):(o=u^a^s,i=1859775393):r<60?(o=u&a|s&(u|a),i=2400959708):(o=u^a^s,i=3395469782);var h=(l<<5|l>>>27)+o+c+i+n[r]&4294967295;c=s,s=a,a=4294967295&(u<<30|u>>>2),u=l,l=h}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},e}(o.Hash)},IxPp:function(t,e,n){"use strict";n.r(e),n.d(e,"groupBy",function(){return a}),n.d(e,"GroupedObservable",function(){return d});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null);function a(t,e,n,r){return function(o){return o.lift(new s(t,e,n,r))}}var s=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),c=function(t){function e(e,n,r,o,i){var l=t.call(this,e)||this;return l.keySelector=n,l.elementSelector=r,l.durationSelector=o,l.subjectSelector=i,l.groups=null,l.attemptedToUnsubscribe=!1,l.count=0,l}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!o){o=this.subjectSelector?this.subjectSelector():new u.a,n.set(e,o);var i=new d(e,o,this);if(this.destination.next(i),this.durationSelector){var l=void 0;try{l=this.durationSelector(new d(e,o))}catch(t){return void this.error(t)}this.add(l.subscribe(new h(e,o,this)))}}o.closed||o.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.a),h=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.key=e,o.group=n,o.parent=r,o}return r.__extends(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(o.a),d=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=r,o}return r.__extends(e,t),e.prototype._subscribe=function(t){var e=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new p(n)),e.add(r.subscribe(t)),e},e}(l.a),p=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.__extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(i.a)},KQya:function(t,e,n){"use strict";var r=n("mrSG"),o=n("1BfG"),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(n(null).a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(null).a);n.d(e,"asap",function(){return u});var u=new l(i)},N8wI:function(t,e,n){"use strict";n.r(e),n.d(e,"WebSocketSubject",function(){return d});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null),a=n("S5bw"),s=n(null),c=n(null),h={url:"",deserializer:function(t){return JSON.parse(t.data)},serializer:function(t){return JSON.stringify(t)}},d=function(t){function e(e,n){var i=t.call(this)||this;if(e instanceof l.a)i.destination=n,i.source=e;else{var u=i._config=r.__assign({},h);if(u.WebSocketCtor=WebSocket,i._output=new o.a,"string"==typeof e)u.url=e;else for(var s in e)e.hasOwnProperty(s)&&(u[s]=e[s]);if(!u.WebSocketCtor)throw new Error("no WebSocket constructor can be found");i.destination=new a.ReplaySubject}return i}return r.__extends(e,t),e.prototype.lift=function(t){var n=new e(this._config,this.destination);return n.operator=t,n.source=this,n},e.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new a.ReplaySubject),this._output=new o.a},e.prototype.multiplex=function(t,e,n){var r=this;return new l.a(function(o){var i=Object(s.a)(t)();i===c.a?o.error(c.a.e):r.next(i);var l=r.subscribe(function(t){var e=Object(s.a)(n)(t);e===c.a?o.error(c.a.e):e&&o.next(t)},function(t){return o.error(t)},function(){return o.complete()});return function(){var t=Object(s.a)(e)();t===c.a?o.error(c.a.e):r.next(t),l.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this._config,n=e.WebSocketCtor,r=e.protocol,o=e.url,l=e.binaryType,h=this._output,d=null;try{d=r?new n(o,r):new n(o),this._socket=d,l&&(this._socket.binaryType=l)}catch(t){return void h.error(t)}var p=new u.a(function(){t._socket=null,d&&1===d.readyState&&d.close()});d.onopen=function(e){var n=t._config.openObserver;n&&n.next(e);var r=t.destination;t.destination=i.a.create(function(e){if(1===d.readyState){var n=t._config.serializer,r=Object(s.a)(n)(e);if(r===c.a)return void t.destination.error(c.a.e);d.send(r)}},function(e){var n=t._config.closingObserver;n&&n.next(void 0),e&&e.code?d.close(e.code,e.reason):h.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t._config.closingObserver;e&&e.next(void 0),d.close(),t._resetState()}),r&&r instanceof a.ReplaySubject&&p.add(r.subscribe(t.destination))},d.onerror=function(e){t._resetState(),h.error(e)},d.onclose=function(e){t._resetState();var n=t._config.closeObserver;n&&n.next(e),e.wasClean?h.complete():h.error(e)},d.onmessage=function(e){var n=t._config.deserializer,r=Object(s.a)(n)(e);r===c.a?h.error(c.a.e):h.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this._socket||this._connectSocket();var r=new u.a;return r.add(this._output.subscribe(t)),r.add(function(){var t=e._socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),r},e.prototype.unsubscribe=function(){var e=this.source,n=this._socket;n&&1===n.readyState&&(n.close(),this._resetState()),t.prototype.unsubscribe.call(this),e||(this.destination=new a.ReplaySubject)},e}(o[!1])},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,l,u,a,s,c,h,d,p,f,g=n("zVF4"),y=n("q/0M"),m=n("mAIw"),v=(r=n("geFX"))&&"object"==typeof r&&"default"in r?r.default:r,_=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),g.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:g.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),b=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return g.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),w=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _(e)}}catch(t){}return new b},C=w("localStorage"),E=w("sessionStorage"),S=new y.Logger("@firebase/database"),T=(o=1,function(){return o++}),O=function(t){var e=g.stringToByteArray(t),n=new g.Sha1;n.update(e);var r=n.digest();return g.base64.encodeByteArray(r)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=I.apply(null,t[r]):n+="object"==typeof t[r]?g.stringify(t[r]):t[r],n+=" ";return n},x=null,P=!0,k=function(t,e){g.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=y.LogLevel.VERBOSE,x=S.log.bind(S),e&&E.set("logging_enabled",!0)):"function"==typeof t?x=t:(x=null,E.remove("logging_enabled"))},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===P&&(P=!1,null===x&&!0===E.get("logging_enabled")&&k(!0)),x){var n=I.apply(null,t);x(n)}},N=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];A.apply(void 0,[t].concat(e))}},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+I.apply(void 0,t);S.error(n)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+I.apply(void 0,t);throw S.error(n),new Error(n)},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+I.apply(void 0,t);S.warn(n)},L=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",V="[MAX_NAME]",j=function(t,e){if(t===e)return 0;if(t===F||e===V)return-1;if(e===F||t===V)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},U=function(t,e){return t===e?0:t<e?-1:1},q=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+g.stringify(e))},B=function(t){if("object"!=typeof t||null===t)return g.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=g.stringify(e[o]),r+=":",r+=B(t[e[o]]);return r+"}"},H=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)r.push(t.substring(o,o+e>n?n:o+e));return r},W=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else g.forEach(t,function(t,n){return e(n,t)})},Q=function(t){var e,n,r,o,i,l,u;for(g.assert(!L(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),l=[],i=52;i;i-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse(),u=l.join("");var a="";for(i=0;i<64;i+=8){var s=parseInt(u.substr(i,8),2).toString(16);1===s.length&&(s="0"+s),a+=s}return a.toLowerCase()},z=new RegExp("^-?\\d{1,10}$"),G=function(t){if(z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(t){setTimeout(function(){throw M("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},X=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},$=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var o=e.split("/");for(r=0;r<o.length;r++)o[r].length>0&&n.push(o[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),o=0;o<n.length&&o<r.length;o++){var i=j(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=g.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=g.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=g.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",tt=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=C.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&C.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(g.assert("string"==typeof t,"typeof type must == string"),g.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return g.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.subdomain;return"firebase"===e.domain&&R(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new $(e.pathString)}},nt=function(t){var e="",n="",r="",o="",i=!0,l="https",u=443;if("string"==typeof t){var a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));var s=t.indexOf("/");-1===s&&(s=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(s,c)),s<c&&(o=function(e){for(var n="",r=t.substring(s,c).split("/"),o=0;o<r.length;o++)if(r[o].length>0){var i=r[o];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}n+="/"+i}return n}());var h=function(t){var e={};t.startsWith("?")&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var i=o.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):M("Invalid query segment '"+o+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(a=e.indexOf(":"))>=0?(i="https"===l||"wss"===l,u=parseInt(e.substring(a+1),10)):a=t.length;var d=e.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,a).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:i,scheme:l,pathString:o}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,it=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},lt=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ut=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!L(t)||t&&"object"==typeof t&&g.contains(t,".sv")},at=function(t,e,n,r,o){o&&void 0===n||st(g.errorPrefix(t,e,o),n,r)},st=function(t,e,n){var r=n instanceof $?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(L(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&g.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,i=!1;if(g.forEach(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!it(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),st(t,n,r),r.pop()}),o&&i)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,r,o){if(!o||void 0!==n){var i=g.errorPrefix(t,e,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var l=[];g.forEach(n,function(t,e){var n=new $(t);if(st(i,e,r.child(n)),".priority"===n.getBack()&&!ut(e))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var o=(r=e[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!it(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort($.comparePaths);var l=null;for(n=0;n<e.length;n++){if(r=e[n],null!==l&&l.contains(r))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+r.toString());l=r}}(i,l)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(L(n))throw new Error(g.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ut(n))throw new Error(g.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(g.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,r){if(!(r&&void 0===n||lt(n)))throw new Error(g.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!it(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lt(t)}(r))throw new Error(g.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){g.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),g.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){g.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),g.validateCallback("OnDisconnect.remove",1,t,!0);var e=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){g.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),g.validateCallback("OnDisconnect.set",2,e,!0);var n=new g.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){g.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),g.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new g.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(g.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),g.validateCallback("OnDisconnect.update",2,e,!0);var o=new g.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}(),vt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return g.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),_t=(i="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",l=0,u=[],function(t){var e,n=t===l;l=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=i.charAt(t%64),t=Math.floor(t/64);g.assert(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===u[e];e--)u[e]=0;u[e]++}else for(e=0;e<12;e++)u[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=i.charAt(u[e]);return g.assert(20===o.length,"nextPushId: Length should be 20."),o}),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(F,t),r=new bt(F,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return a},set:function(t){a=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return j(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw g.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(V,a)},e.prototype.makePost=function(t,e){return g.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,a)},e.prototype.toString=function(){return".key"},e}(wt),Et=new Ct,St=function(t){return"number"==typeof t?"number:"+Q(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();g.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&g.contains(e,".sv"),"Priority must be a string or number.")}else g.assert(t===s||t.isEmpty(),"priority of unexpected type.");g.assert(t===s||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ot=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,g.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(g.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Q(this.value_):this.value_,this.lazyHash_=O(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(g.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),i=t.VALUE_TYPE_ORDER.indexOf(r);return g.assert(o>=0,"Unknown leaf type: "+n),g.assert(i>=0,"Unknown leaf type: "+r),o===i?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?j(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(V,new Ot("[PRIORITY-POST]",d))},e.prototype.makePost=function(t,e){var n=h(t);return new bt(e,new Ot("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),xt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:At.EMPTY_NODE,this.right=null!=i?i:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return(o=(r=n(t,(o=this).key))<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}(),Nt=Math.log(2),Dt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var o=function(e,r){var i,l,u=r-e;if(0==u)return null;if(1==u)return i=t[e],l=n?n(i):i,new Pt(l,i.node,Pt.BLACK,null,null);var a=parseInt(u/2,10)+e,s=o(e,a),c=o(a+1,r);return i=t[a],l=n?n(i):i,new Pt(l,i.node,Pt.BLACK,s,c)},i=function(e){for(var r=null,i=null,l=t.length,u=function(e,r){var i=l-e,u=l;l-=e;var s=o(i+1,u),c=t[i],h=n?n(c):c;a(new Pt(h,c.node,r,null,s))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},s=0;s<e.count;++s){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(s+1));c?u(h,Pt.BLACK):(u(h,Pt.BLACK),u(h,Pt.RED))}return i}(new Dt(t.length));return new At(r||e,i)},Mt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return g.assert(Mt&&It,"ChildrenNode.ts has not been loaded"),p=p||new t({".priority":Mt},{".priority":It})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=g.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return g.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){g.assert(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],i=!1,l=n.getIterator(bt.Wrap),u=l.getNext();u;)i=i||e.isDefinedOn(u.node),o.push(u),u=l.getNext();r=i?Rt(o,e.getCompare()):Mt;var a=e.toString(),s=g.clone(this.indexSet_);s[a]=e;var c=g.clone(this.indexes_);return c[a]=r,new t(c,s)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(g.map(this.indexes_,function(t,o){var i=g.safeGet(r.indexSet_,o);if(g.assert(i,"Missing index implementation for "+o),t===Mt){if(i.isDefinedOn(e.node)){for(var l=[],u=n.getIterator(bt.Wrap),a=u.getNext();a;)a.name!=e.name&&l.push(a),a=u.getNext();return l.push(e),Rt(l,i.getCompare())}return Mt}var s=n.get(e.name),c=t;return s&&(c=c.remove(new bt(e.name,s))),c.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(g.map(this.indexes_,function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t}),this.indexSet_)},t}();function Ft(t,e){return j(t.name,e.name)}function Vt(t,e){return j(t,e)}var jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&g.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return f||(f=new t(new At(Vt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||f},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?f:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(g.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new bt(e,n),o=void 0,i=void 0;return n.isEmpty()?(o=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_)),new t(o,o.isEmpty()?f:this.priorityNode_,i)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;g.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(It,function(l,u){n[l]=u.val(e),r++,i&&t.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):i=!1}),!e&&i&&o<2*r){var l=[];for(var u in n)l[u]=n[u];return l}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(It,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":O(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new bt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(It),r=e.getIterator(It),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new At(Vt),jt.EMPTY_NODE,Lt.Default)||this}return m.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(jt));Object.defineProperties(bt,{MIN:{value:new bt(F,jt.EMPTY_NODE)},MAX:{value:new bt(V,Ut)}}),Ct.__EMPTY_NODE=jt.EMPTY_NODE,Ot.__childrenNodeConstructor=jt,s=Ut,d=Ut;var qt=!0;function Bt(t,e){if(void 0===e&&(e=null),null===t)return jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),g.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ot(t,Bt(e));if(t instanceof Array||!qt){var n=jt.EMPTY_NODE,r=t;return g.forEach(r,function(t,e){if(g.contains(r,t)&&"."!==t.substring(0,1)){var o=Bt(e);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(Bt(e))}var o=[],i=!1,l=t;if(g.forEach(l,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Bt(l[t]);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),o.push(new bt(t,n)))}}),0==o.length)return jt.EMPTY_NODE;var u=Rt(o,Ft,function(t){return t.name},Vt);if(i){var a=Rt(o,It.getCompare());return new jt(u,Bt(e),new Lt({".priority":a},{".priority":It}))}return new jt(u,Bt(e),Lt.Default)}h=Bt;var Ht,Wt,Qt,zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?j(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),Gt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,g.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return m.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?j(t.name,e.name):o},e.prototype.makePost=function(t,e){var n=Bt(t),r=jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=jt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new bt(V,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return g.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return g.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return g.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return g.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){g.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new $(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,It)},t.prototype.hasChild=function(t){g.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new $(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return g.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return g.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),g.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),It))})},t.prototype.hasChildren=function(){return g.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return g.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return g.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+g.stringify(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Zt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return g.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){g.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){g.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=g.getCount(e.callbacks_);if(n===g.getCount(this.callbacks_)){if(1===n){var r=g.getAnyKey(e.callbacks_),o=g.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return g.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=F)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=V)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===It){if(null!=e&&!ut(e)||null!=n&&!ut(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(g.assert(t.getIndex()instanceof Gt||t.getIndex()===zt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return g.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){g.validateArgCount("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),g.validateCallback("Query.on",2,n,!1);var i=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,i.cancel,i.context);else{var l={};l[e]=n,this.onChildEvent(l,i.cancel,i.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Zt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){g.validateArgCount("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),g.validateCallback("Query.off",2,e,!0),g.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===t?r=new $t(e||null,null,n||null):t&&(e&&((o={})[t]=e),r=new Zt(o,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var i=this;g.validateArgCount("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),g.validateCallback("Query.once",2,n,!0);var l=t.getCancelAndContextArgs_("Query.once",r,o),u=!0,a=new g.Deferred;a.promise.catch(function(){});var s=function(t){u&&(u=!1,i.off(e,s),n&&n.bind(l.context)(t),a.resolve(t))};return this.on(e,s,function(t){i.off(e,s),l.cancel&&l.cancel.bind(l.context)(t),a.reject(t)}),a.promise},t.prototype.limitToFirst=function(e){if(g.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(g.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(g.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new $(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Gt(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){g.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){g.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){g.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),g.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(g.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return g.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return g.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=B(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(g.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,g.validateCallback(t,3,r.cancel,!0),r.context=n,g.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(g.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return g.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return g.isEmpty(this.set)},t.prototype.count=function(){return g.getCount(this.set)},t.prototype.each=function(t){g.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return g.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var o=this.children_.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(It,function(t,e){n.remember(new $(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var o=new $(t.toString()+"/"+n);r.forEachTree(o,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(g.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),o=ne(r,e);if(t.isLeafNode()){var i=t,l=ne(i.getValue(),e);return l!==i.getValue()||o!==i.getPriority().val()?new Ot(l,Bt(o)):t}var u=t;return n=u,o!==u.getPriority().val()&&(n=n.updatePriority(new Ot(o))),u.forEachChild(It,function(t,r){var o=re(r,e);o!==r&&(n=n.updateImmediateChild(t,o))}),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ie=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,g.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),le=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=ie.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return g.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new $(e));return new t($.Empty,n,this.revert)}return g.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return Wt||(Wt=new At(U)),Wt},ae=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return g.forEach(e,function(t,e){n=n.set(new $(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:$.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new $(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),i=this.children.insert(r,o);return new t(this.value,i)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,o=e.getFront(),i=(this.children.get(o)||t.Empty).setTree(e.popFront(),n);return r=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_($.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,$.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,$.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_($.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),se=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,$.Empty):new t(this.source,this.path.popFront())},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,$.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new ce(this.source,$.Empty,n.value):new t(this.source,$.Empty,n)}return g.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),de=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new de(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new de(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new de(jt.EMPTY_NODE,!1,!1),new de(jt.EMPTY_NODE,!1,!1)),t}(),fe=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,i){g.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(r).equals(n.getChild(r))&&l.isEmpty()==n.isEmpty()?t:(null!=i&&(n.isEmpty()?t.hasChild(e)?i.trackChildChange(fe.childRemovedChange(e,l)):g.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?i.trackChildChange(fe.childAddedChange(e,n)):i.trackChildChange(fe.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(It,function(t,r){e.hasChild(t)||n.trackChildChange(fe.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(It,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(fe.childChangedChange(e,r,o))}else n.trackChildChange(fe.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;g.assert(e==fe.CHILD_ADDED||e==fe.CHILD_CHANGED||e==fe.CHILD_REMOVED,"Only child changes supported for tracking"),g.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=g.safeGet(this.changeMap_,n);if(r){var o=r.type;if(e==fe.CHILD_ADDED&&o==fe.CHILD_REMOVED)this.changeMap_[n]=fe.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==fe.CHILD_REMOVED&&o==fe.CHILD_ADDED)delete this.changeMap_[n];else if(e==fe.CHILD_REMOVED&&o==fe.CHILD_CHANGED)this.changeMap_[n]=fe.childRemovedChange(n,r.oldSnap);else if(e==fe.CHILD_CHANGED&&o==fe.CHILD_ADDED)this.changeMap_[n]=fe.childAddedChange(n,t.snapshotNode);else{if(e!=fe.CHILD_CHANGED||o!=fe.CHILD_CHANGED)throw g.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=fe.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return g.getValues(this.changeMap_)},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ve=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new de(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),_e=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){g.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),g.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var i,l,u=new ye;if(n.type===oe.OVERWRITE){var a=n;a.source.fromUser?i=this.applyUserOverwrite_(e,a.path,a.snap,r,o,u):(g.assert(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.getServerCache().isFiltered()&&!a.path.isEmpty(),i=this.applyServerOverwrite_(e,a.path,a.snap,r,o,l,u))}else if(n.type===oe.MERGE){var s=n;s.source.fromUser?i=this.applyUserMerge_(e,s.path,s.children,r,o,u):(g.assert(s.source.fromServer,"Unknown source."),l=s.source.tagged||e.getServerCache().isFiltered(),i=this.applyServerMerge_(e,s.path,s.children,r,o,l,u))}else if(n.type===oe.ACK_USER_WRITE){var c=n;i=c.revert?this.revertUserWrite_(e,c.path,r,o,u):this.ackUserWrite_(e,c.path,c.affectedTree,r,o,u)}else{if(n.type!==oe.LISTEN_COMPLETE)throw g.assertionError("Unknown operation type: "+n.type);i=this.listenComplete_(e,n.path,r,u)}var h=u.getChanges();return t.maybeAddValueEvent_(e,i,h),new function(t,e){this.viewCache=t,this.changes=e}(i,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(fe.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var i=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,u=void 0;if(e.isEmpty())if(g.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var a=t.getCompleteServerSnap(),s=n.calcCompleteEventChildren(a instanceof jt?a:jt.EMPTY_NODE);l=this.filter_.updateFullNode(t.getEventCache().getNode(),s,o)}else{var c=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),c,o)}else{var h=e.getFront();if(".priority"==h){g.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=i.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);l=null!=p?this.filter_.updatePriority(d,p):i.getNode()}else{var f=e.popFront(),y=void 0;if(i.isCompleteForChild(h)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,i.getNode(),u);y=null!=m?i.getNode().getImmediateChild(h).updateChild(f,m):i.getNode().getImmediateChild(h)}else y=n.calcCompleteChild(h,t.getServerCache());l=null!=y?this.filter_.updateChild(i.getNode(),h,y,f,r,o):i.getNode()}}return t.updateEventSnap(l,i.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,l){var u,a=t.getServerCache(),s=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())u=s.updateFullNode(a.getNode(),n,null);else if(s.filtersNodes()&&!a.isFiltered()){var c=a.getNode().updateChild(e,n);u=s.updateFullNode(a.getNode(),c,null)}else{var h=e.getFront();if(!a.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=a.getNode().getImmediateChild(h).updateChild(d,n);u=".priority"==h?s.updatePriority(a.getNode(),p):s.updateChild(a.getNode(),h,p,d,me,null)}var f=t.updateServerSnap(u,a.isFullyInitialized()||e.isEmpty(),s.filtersNodes()),g=new ve(r,f,o);return this.generateEventCacheAfterServerEvent_(f,e,r,g,l)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var l,u,a=t.getEventCache(),s=new ve(r,t,o);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),l=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),l=t.updateEventSnap(u,a.isFullyInitialized(),a.isFiltered());else{var h=e.popFront(),d=a.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=s.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):jt.EMPTY_NODE}if(d.equals(p))l=t;else{var g=this.filter_.updateChild(a.getNode(),c,p,h,s,i);l=t.updateEventSnap(g,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,l){var u=this,a=e;return r.foreach(function(r,s){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(a=u.applyUserOverwrite_(a,c,s,o,i,l))}),r.foreach(function(r,s){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(a=u.applyUserOverwrite_(a,c,s,o,i,l))}),a},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,l){var u=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var a,s=t;a=e.isEmpty()?n:ae.Empty.setTree(e,n);var c=t.getServerCache().getNode();return a.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var a=t.getServerCache().getNode().getImmediateChild(e),h=u.applyMerge_(a,n);s=u.applyServerOverwrite_(s,new $(e),h,r,o,i,l)}}),a.children.inorderTraversal(function(e,n){var a=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!a){var h=t.getServerCache().getNode().getImmediateChild(e),d=u.applyMerge_(h,n);s=u.applyServerOverwrite_(s,new $(e),d,r,o,i,l)}}),s},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var l=t.getServerCache().isFiltered(),u=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&u.isFullyInitialized()||u.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,u.getNode().getChild(e),r,o,l,i);if(e.isEmpty()){var a=ae.Empty;return u.getNode().forEachChild(Et,function(t,e){a=a.set(new $(t),e)}),this.applyServerMerge_(t,e,a,r,o,l,i)}return t}var s=ae.Empty;return n.foreach(function(t,n){var r=e.child(t);u.isCompleteForPath(r)&&(s=s.set(t,u.getNode().getChild(r)))}),this.applyServerMerge_(t,e,s,r,o,l,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,me,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var i;if(null!=n.shadowingWrite(e))return t;var l=new ve(n,t,r),u=t.getEventCache().getNode(),a=void 0;if(e.isEmpty()||".priority"===e.getFront()){var s=void 0;if(t.getServerCache().isFullyInitialized())s=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();g.assert(c instanceof jt,"serverChildren would be complete if leaf node"),s=n.calcCompleteEventChildren(c)}a=this.filter_.updateFullNode(u,s=s,o)}else{var h=e.getFront(),d=n.calcCompleteChild(h,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(h)&&(d=u.getImmediateChild(h)),(a=null!=d?this.filter_.updateChild(u,h,d,e.popFront(),l,o):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(u,h,jt.EMPTY_NODE,e.popFront(),l,o):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(a=this.filter_.updateFullNode(a,i,o))}return i=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite($.Empty),t.updateEventSnap(a,i,this.filter_.filtersNodes())},t}(),be=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],i=[];return t.forEach(function(t){t.type===fe.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(fe.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,fe.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,fe.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,fe.CHILD_MOVED,i,n,e),this.generateEventsForType_(o,fe.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,fe.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,l=n.filter(function(t){return t.type===e});l.sort(this.compareChanges_.bind(this)),l.forEach(function(e){var n=i.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw g.assertionError("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),we=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ge(n.getIndex()),o=n.getNodeFilter();this.processor_=new _e(o);var i=e.getServerCache(),l=e.getEventCache(),u=r.updateFullNode(jt.EMPTY_NODE,i.getNode(),null),a=o.updateFullNode(jt.EMPTY_NODE,l.getNode(),null),s=new de(u,i.isFullyInitialized(),r.filtersNodes()),c=new de(a,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=new pe(c,s),this.eventGenerator_=new be(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){g.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var o=t.createCancelEvent(e=e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var l=this.eventRegistrations_[i];if(l.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(l)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(g.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),g.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),g.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(It,function(t,e){n.push(fe.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(fe.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ce=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return g.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){g.assert(!Qt,"__referenceConstructor has already been defined"),Qt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return g.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var o=g.safeGet(this.views_,r);return g.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(t,e,n)}var i=[];return g.forEach(this.views_,function(r,o){i=i.concat(o.applyOperation(t,e,n))}),i},t.prototype.addEventRegistration=function(t,e,n,r,o){var i=t.queryIdentifier(),l=g.safeGet(this.views_,i);if(!l){var u=n.calcCompleteEventCache(o?r:null),a=!1;u?a=!0:r instanceof jt?(u=n.calcCompleteEventChildren(r),a=!1):(u=jt.EMPTY_NODE,a=!1);var s=new pe(new de(u,a,!1),new de(r,o,!1));l=new we(t,s),this.views_[i]=l}return l.addEventRegistration(e),l.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),i=[],l=[],u=this.hasCompleteView();if("default"===o){var a=this;g.forEach(this.views_,function(t,e){l=l.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete a.views_[t],e.getQuery().getQueryParams().loadsAllData()||i.push(e.getQuery()))})}else{var s=g.safeGet(this.views_,o);s&&(l=l.concat(s.removeEventRegistration(n,r)),s.isEmpty()&&(delete this.views_[o],s.getQuery().getQueryParams().loadsAllData()||i.push(s.getQuery())))}return u&&!this.hasCompleteView()&&i.push(new t.__referenceConstructor(e.repo,e.path)),{removed:i,events:l}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return g.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return g.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return g.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Ee=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ae(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var o=r.path,i=r.value,l=$.relativePath(o,e);return i=i.updateChild(l,n),new t(this.writeTree_.set(o,i))}var u=new ae(n);return new t(this.writeTree_.setTree(e,u))},t.prototype.addWrites=function(t,e){var n=this;return g.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ae.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild($.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,function(e,n){t.push(new bt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new bt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ae(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_($.Empty,this.writeTree_,e)},t.Empty=new t(new ae(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,i){".priority"===n?(g.assert(null!==i.value,"Priority writes must always be leaf nodes"),o=i.value):r=t.applySubtreeWrite_(e.child(n),i,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}(),Se=function(){function t(){this.visibleWrites_=Ee.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Te(t,this)},t.prototype.addOverwrite=function(t,e,n,r){g.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){g.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});g.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,i=!1,l=this.allWrites_.length-1;o&&l>=0;){var u=this.allWrites_[l];u.visible&&(l>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(i=!0)),l--}return!!o&&(i?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):g.forEach(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var i=this.visibleWrites_.childCompoundWrite(e);return!o&&i.isEmpty()?n:o||null!=n||i.hasCompleteWrite($.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||jt.EMPTY_NODE):null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var u=this.visibleWrites_.childCompoundWrite(e);return u.isEmpty()?n:null!=n||u.hasCompleteWrite($.Empty)?u.apply(n||jt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=jt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(It,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,function(t,e){var r=o.childCompoundWrite(new $(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){g.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(e):i.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,i){var l,u=this.visibleWrites_.childCompoundWrite(t),a=u.getCompleteNode($.Empty);if(null!=a)l=a;else{if(null==e)return[];l=u.apply(e)}if((l=l.withIndex(i)).isEmpty()||l.isLeafNode())return[];for(var s=[],c=i.getCompare(),h=o?l.getReverseIteratorFrom(n,i):l.getIteratorFrom(n,i),d=h.getNext();d&&s.length<r;)0!==c(d,n)&&s.push(d),d=h.getNext();return s},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!g.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,$.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ee.Empty,o=0;o<t.length;++o){var i=t[o];if(e(i)){var l=i.path,u=void 0;if(i.snap)n.contains(l)?(u=$.relativePath(n,l),r=r.addWrite(u,i.snap)):l.contains(n)&&(u=$.relativePath(l,n),r=r.addWrite($.Empty,i.snap.getChild(u)));else{if(!i.children)throw g.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))u=$.relativePath(n,l),r=r.addWrites(u,i.children);else if(l.contains(n))if((u=$.relativePath(l,n)).isEmpty())r=r.addWrites($.Empty,i.children);else{var a=g.safeGet(i.children,u.getFront());if(a){var s=a.getChild(u.popFront());r=r.addWrite($.Empty,s)}}}}}return r},t}(),Te=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Oe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ae.Empty,this.pendingWriteTree_=new Se,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ce(ie.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ae.fromObject(e);return this.applyOperationToSyncPoints_(new he(ie.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ae.Empty;return null!=n.snap?r=r.set($.Empty,!0):g.forEach(n.children,function(t,e){r=r.set(new $(t),e)}),this.applyOperationToSyncPoints_(new le(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ce(ie.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ae.fromObject(e);return this.applyOperationToSyncPoints_(new he(ie.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new se(ie.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),l=i.path,u=i.queryId,a=$.relativePath(l,e),s=new ce(ie.forServerTaggedQuery(u),a,n);return this.applyTaggedOperation_(l,s)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),l=i.path,u=i.queryId,a=$.relativePath(l,e),s=ae.fromObject(n),c=new he(ie.forServerTaggedQuery(u),a,s);return this.applyTaggedOperation_(l,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,l=o.queryId,u=$.relativePath(i,e),a=new se(ie.forServerTaggedQuery(l),u);return this.applyTaggedOperation_(i,a)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,o=null,i=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=$.relativePath(t,r);o=o||e.getCompleteServerCache(n),i=i||e.hasCompleteView()});var l,u=this.syncPointTree_.get(r);u?(i=i||u.hasCompleteView(),o=o||u.getCompleteServerCache($.Empty)):(u=new Ce,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=o?l=!0:(l=!1,o=jt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache($.Empty);n&&(o=o.updateImmediateChild(t,n))}));var a=u.viewExistsForQuery(e);if(!a&&!e.getQueryParams().loadsAllData()){var s=t.makeQueryKey_(e);g.assert(!(s in this.queryToTagMap_),"View does not exist, but we have a tag");var c=t.getNextQueryTag_();this.queryToTagMap_[s]=c,this.tagToQueryMap_["_"+c]=s}var h=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,h,o,l);if(!a&&!i){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,l=this.syncPointTree_.get(i),u=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var a=l.removeEventRegistration(e,n,r);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var s=a.removed;u=a.events;var c=-1!==s.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(c&&!h){var d=this.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],y=g.getQuery(),m=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}!h&&s.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):s.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(s)}return u},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=$.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),g.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+i]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,o=this.tagForQuery_(e),i=this.createListenerForView_(n),l=this.listenProvider_.startListening(t.queryForListening_(e),o,i.hashFn,i.onComplete),u=this.syncPointTree_.subtree(r);if(o)g.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var a=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),g.forEach(n,function(t,e){r=r.concat(e)}),r}),s=0;s<a.length;++s){var c=a[s];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return l},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||jt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return g.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return g.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);g.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites($.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get($.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache($.Empty));var i=[],l=t.path.getFront(),u=t.operationForChild(l),a=e.children.get(l);if(a&&u){var s=n?n.getImmediateChild(l):null,c=r.child(l);i=i.concat(this.applyOperationHelper_(u,a,s,c))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get($.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache($.Empty));var l=[];return e.children.inorderTraversal(function(e,i){var u=n?n.getImmediateChild(e):null,a=r.child(e),s=t.operationForChild(e);s&&(l=l.concat(o.applyOperationDescendantsHelper_(s,i,u,a)))}),i&&(l=l.concat(i.applyOperation(t,r,n))),l},t.nextQueryTag_=1,t}(),Ie=function(){function t(){this.rootNode_=jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),xe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(A("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';M(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Pe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),g.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return g.deepCopy(this.counters_)},t}(),ke=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Pe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ae=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=g.clone(t);return this.last_&&g.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ne=1e4,De=3e4,Re=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ae(t);var n=Ne+(De-Ne)*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;g.forEach(e,function(e,o){o>0&&g.contains(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Me=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();x&&A("event: "+e.toString()),K(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Fe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},g.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){g.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return m.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Fe),je=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||g.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return m.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return g.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Fe),Ue=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&K(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe="pLPCommand",Be="pRTLPCB",He=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(t),this.stats_=ke.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(g.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new We(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1],i=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=o,n.password=i;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!g.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=g.base64Encode(e),r=H(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!g.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=g.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),We=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,g.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window[qe+this.uniqueCallbackIdentifier]=e,window[Be+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var i="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(i='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){A("frame writing exception"),t.stack&&A(t.stack),A(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||A("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),g.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},t.prototype.addTag=function(t,e){var n=this;g.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){A("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),Qe=null;"undefined"!=typeof MozWebSocket?Qe=MozWebSocket:"undefined"!=typeof WebSocket&&(Qe=WebSocket);var ze=function(){function t(e,n,r,o){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=ke.getCollection(n),this.connURL=t.connectionURL_(n,r,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!g.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,C.set("previous_websocket_failure",!0);try{if(g.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+v.SDK_VERSION+"/"+process.platform+"/"+(g.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},o=process.env,i=0==this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;i&&(r.proxy={origin:i}),this.mySock=new Qe(this.connURL,[],r)}else this.mySock=new Qe(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var l=t.message||t.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Qe&&!t.forceDisallow_},t.previouslyFailed=function(){return C.isInMemoryStorage||!0===C.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){C.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=g.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(g.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=g.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=H(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ge=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,ze]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=ze&&ze.isAvailable(),r=n&&!ze.previouslyFailed();if(e.webSocketOnly&&(n||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ze];else{var o=this.transports_=[];W(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&o.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ke=function(){function t(t,e,n,r,o,i,l){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=i,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new Ge(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=X(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=q("t",t),n=q("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=q("t",t),n=q("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=q("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?D("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(C.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ye=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=1e3,$e=3e5,Ze=function(t){function e(n,r,o,i,l,u){var a=t.call(this)||this;if(a.repoInfo_=n,a.onDataUpdate_=r,a.onConnectStatus_=o,a.onServerInfoUpdate_=i,a.authTokenProvider_=l,a.authOverride_=u,a.id=e.nextPersistentConnectionId_++,a.log_=N("p:"+a.id+":"),a.interruptReasons_={},a.listens_={},a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=Xe,a.maxReconnectDelay_=$e,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,u&&!g.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Ve.getInstance().on("visible",a.onVisible_,a),-1===n.host.indexOf("fblocal")&&je.getInstance().on("online",a.onOnline_,a),a}return m.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(g.stringify(o)),g.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),g.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var l={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[i][o]=l,this.connected_&&this.sendListen_(l)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var l={p:o};t.tag&&(l.q=r.queryObject(),l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,function(l){var u=l.d,a=l.s;e.warnOnListenWarnings_(u,r),(n.listens_[o]&&n.listens_[o][i])===t&&(n.log_("listen response",l),"ok"!==a&&n.removeListen_(o,i),t.onComplete&&t.onComplete(a,u))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&g.contains(t,"w")){var n=g.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();M("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||g.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=g.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),g.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+g.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):D("Unrecognized action received from server: "+g.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;g.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,i=this,l=this.lastSessionId,u=!1,a=null,s=function(){a?a.close():(u=!0,r())};this.realtime_={close:s,sendRequest:function(t){g.assert(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(e){u?A("getToken() completed but was canceled"):(A("getToken() completed. Creating connection."),i.authToken_=e&&e.accessToken,a=new Ke(o,i.repoInfo_,t,n,r,function(t){M(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},l))}).then(null,function(t){i.log_("Failed to get token: "+t),u||(g.CONSTANTS.NODE_ADMIN&&M(t),s())})}},e.prototype.interrupt=function(t){A("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){A("Resuming connection for reason: "+t),delete this.interruptReasons_[t],g.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return B(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new $(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===g.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){A("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),g.forEach(this.listens_,function(e,n){g.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";g.CONSTANTS.NODE_ADMIN?e="admin_node":g.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+v.SDK_VERSION.replace(/\./g,"-")]=1,g.isMobileCordova()?t["framework.cordova"]=1:g.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=je.getInstance().currentlyOnline();return g.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ye),Je=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=N("p:rest:"),o.listens_={},o}return m.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(g.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var i=this,l=t.path.toString();this.log_("Listen called for "+l+" "+t.queryIdentifier());var u=e.getListenId_(t,r),a={};this.listens_[u]=a;var s=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(l+".json",s,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&i.onDataUpdate_(l,n,!1,r),g.safeGet(i.listens_,u)===a&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var i=o&&o.accessToken;i&&(e.auth=i);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+g.querystring(e);r.log_("Sending REST request for "+l);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=g.jsonEval(u.responseText)}catch(t){M("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&M("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})},e}(Ye),tn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Me,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var o=new xe(n);if(this.stats_=ke.getCollection(t),e||Y())this.server_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var i=n.options.databaseAuthVariableOverride;if(void 0!==i&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{g.stringify(i)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,i),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=ke.getOrCreateReporter(t,function(){return new Re(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Ie,this.infoSyncTree_=new Oe({startListening:function(t,e,n,o){var i=[],l=r.infoData_.getNode(t.path);return l.isEmpty()||(i=r.infoSyncTree_.applyServerOverwrite(t.path,l),setTimeout(function(){o("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Oe({startListening:function(t,e,n,o){return r.server_.listen(t,n,e,function(e,n){var i=o(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,i)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new $(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var i=[];if(r)if(n){var l=g.map(e,function(t){return Bt(t)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,l,r)}else{var u=Bt(e);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,u,r)}else if(n){var a=g.map(e,function(t){return Bt(t)});i=this.serverSyncTree_.applyServerMerge(o,a)}else{var s=Bt(e);i=this.serverSyncTree_.applyServerOverwrite(o,s)}var c=o;i.length>0&&(c=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(c,i)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;W(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new $("/.info/"+t),r=Bt(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var o=this;this.log_("set",{path:t.toString(),value:e,priority:n});var i=this.generateServerValues(),l=Bt(e,n),u=re(l,i),a=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserOverwrite(t,u,a,!0);this.eventQueue_.queueEvents(s),this.server_.put(t.toString(),l.val(!0),function(e,n){var i="ok"===e;i||M("set at "+t+" failed: "+e);var l=o.serverSyncTree_.ackUserWrite(a,!i);o.eventQueue_.raiseEventsForChangedPath(t,l),o.callOnCompleteCallback(r,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,i=this.generateServerValues(),l={};if(g.forEach(e,function(t,e){o=!1;var n=Bt(e);l[t]=re(n,i)}),o)A("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserMerge(t,l,u);this.eventQueue_.queueEvents(a),this.server_.merge(t.toString(),e,function(e,o){var i="ok"===e;i||M("update at "+t+" failed: "+e);var l=r.serverSyncTree_.ackUserWrite(u,!i),a=l.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(a,l),r.callOnCompleteCallback(n,e,o)}),g.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new ee;return t.forEachTree(new $(""),function(t,r){n.remember(t,re(r,e))}),n})(this.onDisconnect_,e).forEachTree($.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var o=t.abortTransactions_(e);t.rerunTransactions_(o)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath($.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=Bt(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,i=Bt(e,n);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,i),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(g.isEmpty(e))return A("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,i){"ok"===o&&g.forEach(e,function(e,n){var o=Bt(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,i)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ae(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);g.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),A.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,i){return this.matches(new bt(e,n))||(n=jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,i)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);var o=this;return e.forEachChild(It,function(t,e){o.matches(new bt(t,e))||(r=r.updateImmediateChild(t,jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,o,i){return this.rangedFilter_.matches(new bt(e,n))||(n=jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,i):this.fullLimitUpdateChild_(t,e,n,o,i)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=jt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var l=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(l.name,l.node),i++}}else{r=(r=e.withIndex(this.index_)).updatePriority(jt.EMPTY_NODE);var u=void 0,a=void 0,s=void 0;if(o=void 0,this.reverse_){o=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();s=function(t,e){return c(e,t)}}else o=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();i=0;for(var h=!1;o.hasNext();)l=o.getNext(),!h&&s(u,l)<=0&&(h=!0),h&&i<this.limit_&&s(l,a)<=0?i++:r=r.updateImmediateChild(l.name,jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var i;if(this.reverse_){var l=this.index_.getCompare();i=function(t,e){return l(e,t)}}else i=this.index_.getCompare();var u=t;g.assert(u.numChildren()==this.limit_,"");var a=new bt(e,n),s=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(u.hasChild(e)){for(var h=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,s,this.reverse_);null!=d&&(d.name==e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:i(d,a);if(c&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(fe.childChangedChange(e,n,h)),u.updateImmediateChild(e,n);null!=o&&o.trackChildChange(fe.childRemovedChange(e,h));var f=u.updateImmediateChild(e,jt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(fe.childAddedChange(d.name,d.node)),f.updateImmediateChild(d.name,d.node)):f}return n.isEmpty()?t:c&&i(s,a)>=0?(null!=o&&(o.trackChildChange(fe.childRemovedChange(s.name,s.node)),o.trackChildChange(fe.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(s.name,jt.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return g.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return g.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return g.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==It&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===It?e=n.PRIORITY_INDEX:this.index_===zt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(g.assert(this.index_ instanceof Gt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=g.stringify(e),this.startSet_&&(r[n.START_AT]=g.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+g.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=g.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+g.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return m.__extends(e,t),e.prototype.getKey=function(){return g.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return g.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof $||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft("Reference.child",1,n,!1)}(0,0,t):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){g.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){g.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){g.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),g.validateCallback("Reference.set",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(g.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),g.validateCallback("Reference.update",2,e,!0);var o=new g.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if(g.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),g.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new g.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return g.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),g.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(g.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),g.validateCallback("Reference.transaction",1,t,!1),g.validateCallback("Reference.transaction",2,e,!0),function(t,e,r,o){if(void 0!==n&&"boolean"!=typeof n)throw new Error(g.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new g.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,o){t?r.reject(t):r.resolve(new vt(n,o)),"function"==typeof e&&e(t,n,o)},n),r.promise},e.prototype.setPriority=function(t,e){g.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),g.validateCallback("Reference.setPriority",2,e,!0);var n=new g.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){g.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),g.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=_t(r),i=this.child(o),l=this.child(o);return n=null!=t?i.set(t,e).then(function(){return l}):Promise.resolve(l),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),i},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new mt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Jt);Jt.__referenceConstructor=on,Ce.__referenceConstructor=on;var ln=function(){this.children={},this.childCount=0,this.value=null},un=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new ln),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof $?e:new $(e),o=this;null!==(n=r.getFront());)o=new t(n,o,g.safeGet(o.node_.children,n)||new ln),r=r.popFront();return o},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){g.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;g.forEach(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new $(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=g.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),an=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactions_init_=function(){this.transactionQueueTree_=new un},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var o=function(){},i=new on(this,t);i.on("value",o);var l={path:t,update:e,onComplete:n,status:null,order:T(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);l.currentInputSnapshot=u;var a=l.update(u.val());if(void 0===a){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var s=new Kt(l.currentInputSnapshot,new on(this,l.path),It);l.onComplete(null,!1,s)}}else{st("transaction failed: Data returned ",a,l.path),l.status=an.RUN;var c=this.transactionQueueTree_.subTree(t),h=c.getValue()||[];h.push(l),c.setValue(h);var d=void 0;"object"==typeof a&&null!==a&&g.contains(a,".priority")?(d=g.safeGet(a,".priority"),g.assert(ut(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||jt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),f=Bt(a,d),y=re(f,p);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=y,l.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||jt.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);g.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===an.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),o=this.getLatestState_(t,r),i=o,l=o.hash(),u=0;u<e.length;u++){var a=e[u];g.assert(a.status===an.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=an.SENT,a.retryCount++;var s=$.relativePath(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var c=i.val(!0),h=t;this.server_.put(h.toString(),c,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var o=[];if("ok"===r){for(var i=[],l=0;l<e.length;l++){if(e[l].status=an.COMPLETED,o=o.concat(n.serverSyncTree_.ackUserWrite(e[l].currentWriteId)),e[l].onComplete){var u=e[l].currentOutputSnapshotResolved,a=new on(n,e[l].path),s=new Kt(u,a,It);i.push(e[l].onComplete.bind(null,null,!0,s))}e[l].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,o),l=0;l<i.length;l++)K(i[l])}else{if("datastale"===r)for(l=0;l<e.length;l++)e[l].status=e[l].status===an.SENT_NEEDS_ABORT?an.NEEDS_ABORT:an.RUN;else for(M("transaction at "+h.toString()+" failed: "+r),l=0;l<e.length;l++)e[l].status=an.NEEDS_ABORT,e[l].abortReason=r;n.rerunTransactions_(t)}},l)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],o=t.filter(function(t){return t.status===an.RUN}).map(function(t){return t.currentWriteId}),i=0;i<t.length;i++){var l=t[i],u=$.relativePath(e,l.path),a=!1,s=void 0;if(g.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===an.NEEDS_ABORT)a=!0,s=l.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===an.RUN)if(l.retryCount>=tn.MAX_TRANSACTION_RETRIES_)a=!0,s="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var c=this.getLatestState_(l.path,o);l.currentInputSnapshot=c;var h=t[i].update(c.val());if(void 0!==h){st("transaction failed: Data returned ",h,l.path);var d=Bt(h);"object"==typeof h&&null!=h&&g.contains(h,".priority")||(d=d.updatePriority(c.getPriority()));var p=l.currentWriteId,f=this.generateServerValues(),y=re(d,f);l.currentOutputSnapshotRaw=d,l.currentOutputSnapshotResolved=y,l.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(l.path,y,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else a=!0,s="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],a&&(t[i].status=an.COMPLETED,setTimeout(t[i].unwatcher,Math.floor(0)),t[i].onComplete))if("nodata"===s){var m=new on(this,t[i].path),v=new Kt(t[i].currentInputSnapshot,m,It);n.push(t[i].onComplete.bind(null,null,!1,v))}else n.push(t[i].onComplete.bind(null,new Error(s),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),i=0;i<n.length;i++)K(n[i]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==an.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)e[i].status===an.SENT_NEEDS_ABORT||(e[i].status===an.SENT?(g.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,e[i].status=an.SENT_NEEDS_ABORT,e[i].abortReason="set"):(g.assert(e[i].status===an.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete&&n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),i=0;i<n.length;i++)K(n[i])}};var sn,cn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return sn||(sn=new t),sn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&R("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),o=r.repoInfo;return yt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||R("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=g.safeGet(this.repos_,t.app.name);e&&g.safeGet(e,t.repoInfo_.toURLString())===t||R("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=g.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=g.safeGet(n,t.toURLString());return r&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new tn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){this.repo_=t,t instanceof tn||R("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,$.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),g.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),g.validateArgCount(e,1,1,arguments.length);var n=et(t);yt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&R(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&R("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){g.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){g.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(t){return this.database.checkDeleted_("delete"),cn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),pn=Object.freeze({forceLongPolling:function(){ze.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),fn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var gn=Object.freeze({DataConnection:fn,RealTimeConnection:Ke,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){Ze.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){cn.getInstance().forceRestClient(t)}}),yn=hn.ServerValue;function mn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return cn.getInstance().databaseFromApp(t,n)},{Reference:on,Query:Jt,Database:hn,enableLogging:k,INTERNAL:pn,ServerValue:yn,TEST_ACCESS:gn},null,!0);g.isNodeSdk()&&(t.exports=n)}mn(v),e.registerDatabase=mn,e.Database=hn,e.Query=Jt,e.Reference=on,e.enableLogging=k,e.ServerValue=yn,e.DataSnapshot=Kt,e.OnDisconnect=mt},R963:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ykpL");e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},Rguk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("o0mL");e.assert=r.assert,e.assertionError=r.assertionError;var o=n("lYAo");e.base64=o.base64,e.base64Decode=o.base64Decode,e.base64Encode=o.base64Encode;var i=n("9aZH");e.CONSTANTS=i.CONSTANTS;var l=n("ri4l");e.deepCopy=l.deepCopy,e.deepExtend=l.deepExtend,e.patchProperty=l.patchProperty;var u=n("+EG8");e.Deferred=u.Deferred;var a=n("WnPZ");e.getUA=a.getUA,e.isMobileCordova=a.isMobileCordova,e.isNodeSdk=a.isNodeSdk,e.isReactNative=a.isReactNative;var s=n("Xj1s");e.ErrorFactory=s.ErrorFactory,e.FirebaseError=s.FirebaseError,e.patchCapture=s.patchCapture;var c=n("jH1C");e.jsonEval=c.jsonEval,e.stringify=c.stringify;var h=n("Sumk");e.decode=h.decode,e.isAdmin=h.isAdmin,e.issuedAtTime=h.issuedAtTime,e.isValidFormat=h.isValidFormat,e.isValidTimestamp=h.isValidTimestamp;var d=n("ykpL");e.clone=d.clone,e.contains=d.contains,e.every=d.every,e.extend=d.extend,e.findKey=d.findKey,e.findValue=d.findValue,e.forEach=d.forEach,e.getAnyKey=d.getAnyKey,e.getCount=d.getCount,e.getValues=d.getValues,e.isEmpty=d.isEmpty,e.isNonNullObject=d.isNonNullObject,e.map=d.map,e.safeGet=d.safeGet;var p=n("R963");e.querystring=p.querystring,e.querystringDecode=p.querystringDecode;var f=n("HP4C");e.Sha1=f.Sha1;var g=n("2WBS");e.async=g.async,e.createSubscribe=g.createSubscribe;var y=n("bqIC");e.errorPrefix=y.errorPrefix,e.validateArgCount=y.validateArgCount,e.validateCallback=y.validateCallback,e.validateContextObject=y.validateContextObject,e.validateNamespace=y.validateNamespace;var m=n("WAQ+");e.stringLength=m.stringLength,e.stringToByteArray=m.stringToByteArray},S5bw:function(t,e,n){"use strict";n.r(e),n.d(e,"ReplaySubject",function(){return c});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null),a=n(null),s=n(null),c=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?e=l.a.EMPTY:(this.observers.push(t),e=new s.a(this,t)),o&&t.add(t=new u[!1](t,o)),n)for(var c=0;c<i&&!t.closed;c++)t.next(r[c]);else for(c=0;c<i&&!t.closed;c++)t.next(r[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(o.a),h=function(t,e){this.time=t,this.value=e}},Sumk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lYAo"),o=n("jH1C");e.decode=function(t){var e={},n={},i={},l="";try{var u=t.split(".");e=o.jsonEval(r.base64Decode(u[0])||""),n=o.jsonEval(r.base64Decode(u[1])||""),l=u[2],i=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:i,signature:l}},e.isValidTimestamp=function(t){var n,r,o=e.decode(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof o&&(o.hasOwnProperty("nbf")?n=o.nbf:o.hasOwnProperty("iat")&&(n=o.iat),r=o.hasOwnProperty("exp")?o.exp:n+86400),i&&n&&r&&i>=n&&i<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},U8mb:function(t,e,n){"use strict";n.r(e),n.d(e,"root",function(){return l});var r="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof global&&global,l=r||i||o},UR0p:function(t,e,n){"use strict";n.r(e),n.d(e,"VirtualTimeScheduler",function(){return i}),n.d(e,"VirtualAction",function(){return l});var r=n("mrSG"),o=n(null),i=function(t){function e(e,n){void 0===e&&(e=l),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r.__extends(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=r&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(n(null).a),l=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=r,o.active=!0,o.index=e.index=r,o}return r.__extends(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.a)},W0Ae:function(t,e,n){"use strict";n.r(e),n.d(e,"race",function(){return a}),n.d(e,"RaceOperator",function(){return s}),n.d(e,"RaceSubscriber",function(){return c});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(o.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new s)}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.__extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],o=Object(u.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var l=this.subscriptions[i];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)},e}(l.a)},"WAQ+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("o0mL");e.stringToByteArray=function(t){for(var e=[],n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=55296&&i<=56319){var l=i-55296;r.assert(++o<t.length,"Surrogate pair missing trail surrogate."),i=65536+(l<<10)+(t.charCodeAt(o)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},WSmt:function(t,e,n){"use strict";n.r(e),n.d(e,"ajax",function(){return r});var r=n("b8Xf").AjaxObservable.create},WnPZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9aZH");e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},Xj1s:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Error.captureStackTrace;e.patchCapture=function(t){var e=r;return r=t,e};var o=function(){return function(t,e){if(this.code=t,this.message=e,r)r(this,i.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();e.FirebaseError=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name="FirebaseError";var i=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var l=new o(i,n=this.serviceName+": "+n+" ("+i+").");for(var u in e)e.hasOwnProperty(u)&&"_"!==u.slice(-1)&&(l[u]=e[u]);return l},t}();e.ErrorFactory=i},b8Xf:function(t,e,n){"use strict";n.r(e),n.d(e,"ajaxGet",function(){return c}),n.d(e,"ajaxPost",function(){return h}),n.d(e,"ajaxDelete",function(){return d}),n.d(e,"ajaxPut",function(){return p}),n.d(e,"ajaxPatch",function(){return f}),n.d(e,"ajaxGetJSON",function(){return y}),n.d(e,"AjaxObservable",function(){return m}),n.d(e,"AjaxSubscriber",function(){return v}),n.d(e,"AjaxResponse",function(){return _}),n.d(e,"AjaxError",function(){return b}),n.d(e,"AjaxTimeoutError",function(){return C});var r=n("mrSG"),o=n("U8mb"),i=n(null),l=n(null),u=n(null),a=n(null),s=n(null);function c(t,e){return void 0===e&&(e=null),new m({method:"GET",url:t,headers:e})}function h(t,e,n){return new m({method:"POST",url:t,body:e,headers:n})}function d(t,e){return new m({method:"DELETE",url:t,headers:e})}function p(t,e,n){return new m({method:"PUT",url:t,body:e,headers:n})}function f(t,e,n){return new m({method:"PATCH",url:t,body:e,headers:n})}var g=Object(s.a)(function(t,e){return t.response});function y(t,e){return g(new m({method:"GET",url:t,responseType:"json",headers:e}))}var m=function(t){function e(e){var n=t.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(o.root.XMLHttpRequest)return new o.root.XMLHttpRequest;if(o.root.XDomainRequest)return new o.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(o.root.XMLHttpRequest)return new o.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(new o.root.ActiveXObject(t=e[n]))break}catch(t){}return new o.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return n.request=r,n}var n;return r.__extends(e,t),e.prototype._subscribe=function(t){return new v(t,this.request)},e.create=((n=function(t){return new e(t)}).get=c,n.post=h,n.delete=d,n.put=p,n.patch=f,n.getJSON=y,n),e}(u.a),v=function(t){function e(e,n){var r=t.call(this,e)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in i||o.root.FormData&&n.body instanceof o.root.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,n.headers["Content-Type"]),r.send(),r}return r.__extends(e,t),e.prototype.next=function(t){this.done=!0;var e=this.destination,n=new _(t,this.xhr,this.request);e.next(n)},e.prototype.send=function(){var t=this.request,e=this.request,n=e.user,r=e.method,o=e.url,u=e.async,a=e.password,s=e.headers,c=e.body,h=t.createXHR,d=Object(i.a)(h).call(t);if(d===l.a)this.error(l.a.e);else{if(this.xhr=d,this.setupEvents(d,t),(n?Object(i.a)(d.open).call(d,r,o,u,n,a):Object(i.a)(d.open).call(d,r,o,u))===l.a)return this.error(l.a.e),null;if(u&&(d.timeout=t.timeout,d.responseType=t.responseType),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),this.setHeaders(d,s),(c?Object(i.a)(d.send).call(d,c):Object(i.a)(d.send).call(d))===l.a)return this.error(l.a.e),null}return d},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(o.root.FormData&&t instanceof o.root.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){var n,r,i=e.progressSubscriber;function l(t){var e=l.subscriber,n=l.progressSubscriber,r=l.request;n&&n.error(t),e.error(new C(this,r))}function u(t){var e=u.subscriber,n=u.progressSubscriber,r=u.request;if(4===this.readyState){var o=1223===this.status?204:this.status;0===o&&(o=("text"===this.responseType?this.response||this.responseText:this.response)?200:0),o<400?(n&&n.complete(),e.next(t),e.complete()):(n&&n.error(t),e.error(new b("ajax error "+o,this,r)))}}t.ontimeout=l,l.request=e,l.subscriber=this,l.progressSubscriber=i,t.upload&&"withCredentials"in t&&(i&&(n=function(t){n.progressSubscriber.next(t)},o.root.XDomainRequest?t.onprogress=n:t.upload.onprogress=n,n.progressSubscriber=i),t.onerror=r=function(t){var e=r.progressSubscriber,n=r.subscriber,o=r.request;e&&e.error(t),n.error(new b("ajax error",this,o))},r.request=e,r.subscriber=this,r.progressSubscriber=i),t.onreadystatechange=u,u.subscriber=this,u.progressSubscriber=i,u.request=e},e.prototype.unsubscribe=function(){var e=this.xhr;!this.done&&e&&4!==e.readyState&&"function"==typeof e.abort&&e.abort(),t.prototype.unsubscribe.call(this)},e}(a.a),_=function(){return function(t,e,n){this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=w(this.responseType,e)}}(),b=function(t){function e(n,r,o){var i=t.call(this,n)||this;return i.message=n,i.xhr=r,i.request=o,i.status=r.status,i.responseType=r.responseType||o.responseType,i.response=w(i.responseType,r),i.name="AjaxError",Object.setPrototypeOf(i,e.prototype),i}return r.__extends(e,t),e}(Error);function w(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var C=function(t){function e(n,r){var o=t.call(this,"ajax timeout",n,r)||this;return Object.setPrototypeOf(o,e.prototype),o}return r.__extends(e,t),e}(b)},bne5:function(t,e,n){"use strict";n.r(e),n.d(e,"fromEvent",function(){return u});var r=n(null),o=n(null),i=n(null),l=n(null);function u(t,e,n,a){return Object(i.a)(n)&&(a=n,n=void 0),a?u(t,e,n).pipe(Object(l.a)(function(t){return Object(o.a)(t)?a.apply(void 0,t):a(t)})):new r.a(function(r){!function t(e,n,r,o,i){var l;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,i),l=function(){return u.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(n,r),l=function(){return a.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var s=e;e.addListener(n,r),l=function(){return s.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,o,i)}o.add(l)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}Object},bqIC:function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.errorPrefix=r,e.validateNamespace=function(t,e,n,o){if((!o||n)&&"string"!=typeof n)throw new Error(r(t,e,o)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,o){if((!o||n)&&"function"!=typeof n)throw new Error(r(t,e,o)+"must be a valid function.")},e.validateContextObject=function(t,e,n,o){if((!o||n)&&("object"!=typeof n||null===n))throw new Error(r(t,e,o)+"must be a valid context object.")}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},dEwP:function(t,e,n){"use strict";n.r(e),n.d(e,"concat",function(){return u});var r=n(null),o=n(null),i=n(null),l=n(null);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(r.a)(t[1])?Object(i.a)(t[0]):Object(l.a)()(o.a.apply(void 0,t))}},dzgT:function(t,e,n){"use strict";n.r(e),n.d(e,"combineLatest",function(){return c}),n.d(e,"CombineLatestOperator",function(){return h}),n.d(e,"CombineLatestSubscriber",function(){return d});var r=n("mrSG"),o=n(null),i=n(null),l=n(null),u=n(null),a=n(null),s={};function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(o.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,r).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(e,t),e.prototype._next=function(t){this.values.push(s),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(u.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,l=this.toRespond?i[n]===s?--this.toRespond:this.toRespond:0;i[n]=e,0===l&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(l.a)},emHa:function(t,e,n){"use strict";n.r(e),n.d(e,"bindNodeCallback",function(){return a});var r=n(null),o=n("svcd"),i=n(null),l=n(null),u=n(null);function a(t,e,n){if(e){if(!Object(l.a)(e))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return a(t,n).apply(void 0,r).pipe(Object(i.a)(function(t){return Object(u.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var l={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(function(r){var i=l.context,u=l.subject;if(n)return n.schedule(s,0,{params:l,subscriber:r,context:i});if(!u){u=l.subject=new o.AsyncSubject;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?u.error(n):(u.next(t.length<=1?t[0]:t),u.complete())}]))}catch(t){u.error(t)}}return u.subscribe(r)})}}function s(t){var e=this,n=t.params,r=t.subscriber,i=t.context,l=n.callbackFunc,u=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new o.AsyncSubject;try{l.apply(i,u.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();e.add(r?a.schedule(h,0,{err:r,subject:s}):a.schedule(c,0,{value:t.length<=1?t[0]:t,subject:s}))}]))}catch(t){this.add(a.schedule(h,0,{err:t,subject:s}))}}this.add(s.subscribe(r))}function c(t){var e=t.subject;e.next(t.value),e.complete()}function h(t){t.subject.error(t.err)}},gI3B:function(t,e,n){"use strict";n.r(e),n.d(e,"timer",function(){return u});var r=n(null),o=n(null),i=n("/21U"),l=n(null);function u(t,e,n){void 0===t&&(t=0);var u=-1;return Object(i.isNumeric)(e)?u=Number(e)<1?1:Number(e):Object(l.a)(e)&&(n=e),Object(l.a)(n)||(n=o.a),new r.a(function(e){var r=Object(i.isNumeric)(t)?t:+t-n.now();return n.schedule(a,r,{index:0,period:u,subscriber:e})})}function a(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},geFX:function(t,e,n){"use strict";n.r(e);var r=n("Rguk"),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i="[DEFAULT]",l=[],u=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=Object(r.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){l.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){l=l.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=i),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==i?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Object(r.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(l.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),l=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&a("app-deleted",{name:this.name_})},t}();function a(t,e){throw s.create(t,e)}u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var s=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});n.d(e,"firebase",function(){return c});var c=function t(){var e={},n={},l={},s={__esModule:!0,initializeApp:function(t,n){void 0===n?n=i:"string"==typeof n&&""!==n||a("bad-app-name",{name:n+""}),o(e,n)&&a("duplicate-app",{name:n});var r=new u(t,n,s);return e[n]=r,d(r,"create"),r},app:c,apps:null,Promise:Promise,SDK_VERSION:"4.10.1",INTERNAL:{registerService:function(t,e,o,i,d){n[t]&&a("duplicate-service",{name:t}),n[t]=e,i&&(l[t]=i,h().forEach(function(t){i("create",t)}));var p=function(e){return void 0===e&&(e=c()),"function"!=typeof e[t]&&a("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&Object(r.deepExtend)(p,o),s[t]=p,u.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,d?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){Object(r.deepExtend)(s,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){d(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function c(t){return o(e,t=t||i)||a("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function d(t,e){Object.keys(n).forEach(function(n){var r=p(0,n);null!==r&&l[r]&&l[r](e,t)})}function p(t,e){return"serverAuth"===e?null:e}return Object(r.patchProperty)(s,"default",s),Object.defineProperty(s,"apps",{get:h}),Object(r.patchProperty)(c,"App",u),s}();e.default=c},jFaF:function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.r(e),n.d(e,"not",function(){return r})},jH1C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},kERW:function(t,e,n){"use strict";n.r(e),n.d(e,"fromEventPattern",function(){return u});var r=n(null),o=n(null),i=n(null),l=n(null);function u(t,e,n){return n?u(t,e).pipe(Object(l.a)(function(t){return Object(o.a)(t)?n.apply(void 0,t):n(t)})):new r.a(function(n){var r,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void n.error(t)}if(Object(i.a)(e))return function(){return e(o,r)}})}},lYAo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],l=o+1<t.length,u=l?t[o+1]:0,a=o+2<t.length,s=a?t[o+2]:0,c=(15&u)<<2|s>>6,h=63&s;a||(h=64,l||(c=64)),r.push(n[i>>2],n[(3&i)<<4|u>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var l=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(u=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{i=t[n++];var u=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],l=o<t.length?n[t.charAt(o)]:0,u=++o<t.length?n[t.charAt(o)]:64,a=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==l||null==u||null==a)throw Error();r.push(i<<2|l>>4),64!=u&&(r.push(l<<4&240|u>>2),64!=a&&r.push(u<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},lYZG:function(t,e,n){"use strict";n.r(e),n.d(e,"defer",function(){return l});var r=n(null),o=n(null),i=n(null);function l(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(o.a)(n):Object(i.a)()).subscribe(e)})}},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return l}),n.d(e,"__decorate",function(){return u}),n.d(e,"__param",function(){return a}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function u(t,e,n,r){var o,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(l=(i<3?o(l):i>3?o(e,n,l):o(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(o,i){function l(t){try{a(r.next(t))}catch(t){i(t)}}function u(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(l,u)}a((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(a,s):c(i[0][2],n)}catch(t){c(i[0][3],t)}var n}function a(t){u("next",t)}function s(t){u("throw",t)}function c(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e})}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},mEZQ:function(t,e,n){"use strict";n.r(e),n.d(e,"iif",function(){return i});var r=n("lYZG"),o=n(null);function i(t,e,n){return void 0===e&&(e=o.b),void 0===n&&(n=o.b),Object(r.defer)(function(){return t()?e:n})}},mQwz:function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e.length;n<r;n++)for(var o=e[n],i=Object.getOwnPropertyNames(o.prototype),l=0,u=i.length;l<u;l++){var a=i[l];t.prototype[a]=o.prototype[a]}}n.r(e),n.d(e,"applyMixins",function(){return r})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return l}),n.d(e,"__decorate",function(){return u}),n.d(e,"__param",function(){return a}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function u(t,e,n,r){var o,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(l=(i<3?o(l):i>3?o(e,n,l):o(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(o,i){function l(t){try{a(r.next(t))}catch(t){i(t)}}function u(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(l,u)}a((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(a,s):c(i[0][2],n)}catch(t){c(i[0][3],t)}var n}function a(t){u("next",t)}function s(t){u("throw",t)}function c(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},o0mL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9aZH");e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},pbg4:function(t,e,n){"use strict";n.r(e),n.d(e,"bindCallback",function(){return a});var r=n(null),o=n("svcd"),i=n(null),l=n(null),u=n(null);function a(t,e,n){if(e){if(!Object(u.a)(e))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return a(t,n).apply(void 0,r).pipe(Object(i.a)(function(t){return Object(l.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var l,u=this,a={context:u,subject:l,callbackFunc:t,scheduler:n};return new r.a(function(r){if(n)return n.schedule(s,0,{args:e,subscriber:r,params:a});if(!l){l=new o.AsyncSubject;try{t.apply(u,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.next(t.length<=1?t[0]:t),l.complete()}]))}catch(t){l.error(t)}}return l.subscribe(r)})}}function s(t){var e=this,n=t.args,r=t.subscriber,i=t.params,l=i.callbackFunc,u=i.context,a=i.scheduler,s=i.subject;if(!s){s=i.subject=new o.AsyncSubject;try{l.apply(u,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.add(a.schedule(c,0,{value:t.length<=1?t[0]:t,subject:s}))}]))}catch(t){s.error(t)}}this.add(s.subscribe(r))}function c(t){var e=t.subject;e.next(t.value),e.complete()}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return a}),n.d(e,"Logger",function(){return u}),n.d(e,"LogLevel",function(){return o});var r=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),i=o.INFO,l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.INFO:console.info.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.WARN:console.warn.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case o.ERROR:console.error.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=i,this._logHandler=l,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,o.ERROR].concat(t))},t}();function a(t){r.forEach(function(e){e.logLevel=t})}},ri4l:function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(t[n],e[n]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return r(void 0,t)},e.deepExtend=r,e.patchProperty=function(t,e,n){t[e]=n}},svcd:function(t,e,n){"use strict";n.r(e),n.d(e,"AsyncSubject",function(){return l});var r=n("mrSG"),o=n(null),i=n(null),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.__extends(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.a)},tHPV:function(t,e,n){"use strict";var r=n("mrSG"),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n(null).a),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(null).a);n.d(e,"animationFrame",function(){return l});var l=new i(o)},vAyL:function(t,e,n){"use strict";n.r(e),n.d(e,"range",function(){return o}),n.d(e,"dispatch",function(){return i});var r=n(null);function o(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),new r.a(function(r){var o=0;if(n)return n.schedule(i,0,{index:o,count:e,start:t,subscriber:r});for(;;){if(o++>=e){r.complete();break}if(r.next(t++),r.closed)break}})}function i(t){var e=t.start,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e),r.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}},xXU7:function(t,e,n){"use strict";n.r(e),n.d(e,"interval",function(){return l});var r=n(null),o=n(null),i=n("/21U");function l(t,e){return void 0===t&&(t=0),void 0===e&&(e=o.a),(!Object(i.isNumeric)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.a),new r.a(function(n){return n.add(e.schedule(u,t,{subscriber:n,counter:0,period:t})),n})}function u(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}},ykpL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var o=e.findKey(t,n,r);return o&&t[o]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("mrSG");function o(t){return"function"==typeof t}var i=!1,l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function u(t){setTimeout(function(){throw t})}var a={closed:!0,next:function(t){},error:function(t){if(l.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},s=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!=t&&"object"==typeof t}var h,d={e:{}};function p(){try{return h.apply(this,arguments)}catch(t){return d.e=t,d}}function f(t){return h=t,p}var g=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return r.__extends(e,t),e}(Error),y=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u=-1,a=r?r.length:0;n;)n.remove(this),n=++u<a&&r[u]||null;if(o(i)&&f(i).call(this)===d&&(e=!0,t=t||(d.e instanceof g?m(d.e.errors):[d.e])),s(l))for(u=-1,a=l.length;++u<a;){var h=l[u];if(c(h)&&f(h.unsubscribe).call(h)===d){e=!0,t=t||[];var p=d.e;p instanceof g?t=t.concat(m(p.errors)):t.push(p)}}if(e)throw new g(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function m(t){return t.reduce(function(t,e){return t.concat(e instanceof g?e.errors:e)},[])}var v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",_=function(t){function e(e,n,r){var o,i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!e){i.destination=a;break}if("object"==typeof e){if((o=e)instanceof _||"syncErrorThrowable"in o&&o[v]){var l=e[v]();i.syncErrorThrowable=l.syncErrorThrowable,i.destination=l,l.add(i)}else i.syncErrorThrowable=!0,i.destination=new b(i,e);break}default:i.syncErrorThrowable=!0,i.destination=new b(i,e,n,r)}return i}return r.__extends(e,t),e.prototype[v]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(y),b=function(t){function e(e,n,r,i){var l,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return o(n)?l=n:n&&(l=n.next,r=n.error,i=n.complete,n!==a&&(o((s=Object.create(n)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=l,u._error=r,u._complete=i,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=l.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return l.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(_),w="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(){}function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S(t)}function S(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:C}var T=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof _)return t;if(t[v])return t[v]()}return t||e||n?new _(t,e,n):new _(a)}(t,e,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),l.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){l.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=O(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[w]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:S(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=O(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function O(t){if(t||(t=l.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var I=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error),x=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(y),P=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(_),k=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[v]=function(){return new P(this)},e.prototype.lift=function(t){var e=new A(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new I;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new I;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),y.EMPTY):this.isStopped?(t.complete(),y.EMPTY):(this.observers.push(t),new x(this,t))},e.prototype.asObservable=function(){var t=new T;return t.source=this,t},e.create=function(t,e){return new A(t,e)},e}(T),A=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):y.EMPTY},e}(k),N=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(k),D=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(y)),R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(D),M=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),L=function(t){function e(n,r){void 0===r&&(r=M.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.__extends(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(M),F=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(L))(R),V=new T(function(t){return t.complete()});function j(t){return t?function(t){return new T(function(e){return t.schedule(function(){return e.complete()})})}(t):V}var U=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_),q=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},B=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,u),e}},H=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),W=function(t){return function(e){for(var n=t[H]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},Q=function(t){return function(e){var n=t[w]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function G(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var K=function(t){if(t instanceof T)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(z(t))return q(t);if(G(t))return B(t);if(t&&"function"==typeof t[H])return W(t);if(t&&"function"==typeof t[w])return Q(t);var e=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Y(t,e,n,r){var o=new U(t,n,r);return K(e)(o)}var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(_);function Z(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new J(t,e))}}var J=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.project,this.thisArg))},t}(),tt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(_),et=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var l=Y(r,n[i],null,i);l&&r.add(l)}return r}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,o=r.length;t._hasValue?(this.completed++,this.completed===o&&(n===o&&e.next(r),e.complete())):e.complete()},e}(X);function nt(t,e){return new T(e?function(n){var r=new y,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:q(t))}function rt(t,e){if(!e)return t instanceof T?t:new T(K(t));if(null!=t){if(function(t){return t&&"function"==typeof t[w]}(t))return function(t,e){return new T(e?function(n){var r=new y;return r.add(e.schedule(function(){var o=t[w]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Q(t))}(t,e);if(G(t))return function(t,e){return new T(e?function(n){var r=new y;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:B(t))}(t,e);if(z(t))return nt(t,e);if(function(t){return t&&"function"==typeof t[H]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new T(e?function(n){var r,o=new y;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[H](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:W(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function ot(t){return t&&"function"==typeof t.schedule}function it(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(it(function(n,r){return rt(t(n,r)).pipe(Z(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new lt(t,n))})}var lt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.project,this.concurrent))},t}(),ut=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Y(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(X);function at(t){return t}function st(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),it(at,t)}function ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return ot(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof T?t[0]:st(n)(nt(t,r))}function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,o=t[t.length-1];switch(ot(o)?t.pop():o=void 0,t.length){case 0:return j(o);case 1:return o?nt(t,o):(n=t[0],(r=new T(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return nt(t,o)}}function dt(){return function(t){return t.lift(new pt(t))}}var pt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new ft(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),ft=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(_),gt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new y).add(this.source.subscribe(new mt(this.getSubject(),this))),t.closed?(this._connection=null,t=y.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return dt()(this)},e}(T).prototype,yt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:gt._subscribe},_isComplete:{value:gt._isComplete,writable:!0},getSubject:{value:gt.getSubject},connect:{value:gt.connect},refCount:{value:gt.refCount}},mt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(P);function vt(){return new k}function _t(){return this,dt()((t=vt,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,yt);return r.source=e,r.subjectFactory=n,r})(this));var t}var bt=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),wt="__paramaters__";function Ct(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var o in r)this[o]=r[o]}}}(e);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof o)return r.apply(this,t),this;var n,i=new((n=o).bind.apply(n,[void 0].concat(t)));return l.annotation=i,l;function l(t,e,n){for(var r=t.hasOwnProperty(wt)?t[wt]:Object.defineProperty(t,wt,{value:[]})[wt];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var Et=new bt("AnalyzeForEntryComponents"),St=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),Tt=new function(t){this.full="5.2.9",this.major="5.2.9".split(".")[0],this.minor="5.2.9".split(".")[1],this.patch="5.2.9".split(".").slice(2).join(".")}("5.2.9"),Ot=Ct("Inject",function(t){return{token:t}}),It=Ct("Optional"),xt=Ct("Self"),Pt=Ct("SkipSelf"),kt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt="undefined"!=typeof global&&global,Dt=kt||Nt||At,Rt=Promise.resolve(0),Mt=null;function Lt(){if(!Mt){var t=Dt.Symbol;if(t&&t.iterator)Mt=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Mt=r)}}return Mt}function Ft(t){"undefined"==typeof Zone?Rt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Vt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function jt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(jt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ut(t){return t.__forward_ref__=Ut,t.toString=function(){return jt(this())},t}function qt(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===Ut?t():t}var Bt="__source",Ht=new Object,Wt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Ht),e===Ht)throw new Error("NullInjectorError: No provider for "+jt(t)+"!");return e},t}(),Qt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new ee(t,e):new ee(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Ht,t.NULL=new Wt,t}(),zt=function(t){return t},Gt=[],Kt=zt,Yt=function(){return Array.prototype.slice.call(arguments)},Xt={},$t=function(t){for(var e in t)if(t[e]===Xt)return e;throw Error("!prop")}({provide:String,useValue:Xt}),Zt=Qt.NULL,Jt=/\n/gm,te="\u0275",ee=function(){function t(t,e,n){void 0===e&&(e=Zt),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Qt,{token:Qt,fn:zt,deps:Gt,value:this,useNew:!1}),function t(e,n){if(n)if((n=qt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw oe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw oe("Unexpected provider",n);var o=qt(n.provide),i=function(t){var e=function(t){var e=Gt,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var o=6;if((a=qt(n[r]))instanceof Array)for(var i=0,l=a;i<l.length;i++){var u=l[i];u instanceof It||u==It?o|=1:u instanceof Pt||u==Pt?o&=-3:u instanceof xt||u==xt?o&=-5:a=u instanceof Ot?u.token:qt(u)}e.push({token:a,options:o})}}else if(t.useExisting){var a;e=[{token:a=qt(t.useExisting),options:6}]}else if(!(n||$t in t))throw oe("'deps' required",t);return e}(t),n=zt,r=Gt,o=!1,i=qt(t.provide);if($t in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=qt(t.useClass);else{if("function"!=typeof i)throw oe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=i}return{deps:e,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var l=e.get(o);if(l){if(l.fn!==Yt)throw ne(o)}else e.set(o,l={token:n.provide,deps:[],useNew:!1,fn:Yt,value:Gt});l.deps.push({token:o=n,options:6})}var u=e.get(o);if(u&&u.fn==Yt)throw ne(o);e.set(o,i)}}(r,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return function t(e,n,r,o,i){try{return function(e,n,r,o,i){var l,u;if(n){if((l=n.value)==Kt)throw Error(te+"Circular dependency");if(l===Gt){n.value=Kt;var a=n.useNew,s=n.fn,c=n.deps,h=Gt;if(c.length){h=[];for(var d=0;d<c.length;d++){var p=c[d],f=p.options,g=2&f?r.get(p.token):void 0;h.push(t(p.token,g,r,g||4&f?o:Zt,1&f?null:Qt.THROW_IF_NOT_FOUND))}}n.value=l=a?new((u=s).bind.apply(u,[void 0].concat(h))):s.apply(void 0,h)}}else l=o.get(e,i);return l}(e,n,r,o,i)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==Kt&&(n.value=Gt),t}}(t,n,this._records,this.parent,e)}catch(e){var r=e.ngTempTokenPath;throw t[Bt]&&r.unshift(t[Bt]),e.message=re("\n"+e.message,r,this.source),e.ngTokenPath=r,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(jt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function ne(t){return oe("Cannot mix multi providers and regular providers",t)}function re(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==te?t.substr(2):t;var r=jt(e);if(e instanceof Array)r=e.map(jt).join(" -> ");else if("object"==typeof e){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var l=e[i];o.push(i+":"+("string"==typeof l?JSON.stringify(l):jt(l)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Jt,"\n  ")}function oe(t,e){return new Error(re(t,e))}var ie="ngDebugContext",le="ngOriginalError",ue="ngErrorLogger";function ae(t){return t[ie]}function se(t){return t[le]}function ce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var he=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[ue]||ce}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?ae(t)?ae(t):this._findContext(se(t)):null},t.prototype._findOriginalError=function(t){for(var e=se(t);e&&se(e);)e=se(e);return e},t}();function de(t){return!!t&&"function"==typeof t.then}function pe(t){return!!t&&"function"==typeof t.subscribe}Function;var fe=new bt("Application Initializer"),ge=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();de(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),ye=new bt("AppId");function me(){return""+ve()+ve()+ve()}function ve(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var _e=new bt("Platform Initializer"),be=new bt("Platform ID"),we=new bt("appBootstrapListener"),Ce=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}();function Ee(){throw new Error("Runtime compiler is not loaded")}var Se=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Ee()},t.prototype.compileModuleAsync=function(t){throw Ee()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Ee()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Ee()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),Te=function(){},Oe=function(){};function Ie(t){var e=Error("No component factory found for "+jt(t)+". Did you add it to @NgModule.entryComponents?");return e[ke]=t,e}var xe,Pe,ke="ngComponent",Ae=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Ie(t)},t}(),Ne=function(){function t(){}return t.NULL=new Ae,t}(),De=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ie(t);return new Re(e,this._ngModule)},t}(),Re=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Oe),Me=function(){},Le=function(){},Fe=function(){var t=Dt.wtf;return!(!t||!(xe=t.trace)||(Pe=xe.events,0))}();function Ve(t,e){return null}var je=Fe?function(t,e){return void 0===e&&(e=null),Pe.createScope(t,e)}:function(t,e){return Ve},Ue=Fe?function(t,e){return xe.leaveScope(t,e),e}:function(t,e){return e},qe=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,i=function(t){return null},l=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(l=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(i=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(l=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,i,l);return e instanceof y&&e.add(u),u},e}(k),Be=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,l){try{return ze(e),t.invokeTask(r,o,i,l)}finally{Ge(e)}},onInvoke:function(t,n,r,o,i,l,u){try{return ze(e),t.invoke(r,o,i,l,u)}finally{Ge(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,Qe(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,We,He,He);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function He(){}var We={};function Qe(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ze(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ge(t){t._nesting--,Qe(t)}var Ke,Ye=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Xe=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Be.assertNotInAngularZone(),Ft(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?Ft(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),$e=function(){function t(){this._applications=new Map,Ze.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ze.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),Ze=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Je=!0,tn=!1,en=new bt("AllowMultipleToken");function nn(){return tn=!0,Je}var rn=function(t,e){this.name=t,this.token=e};function on(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,o=new bt(r);return function(e){void 0===e&&(e=[]);var i=ln();if(!i||i.injector.get(en,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var l=n.concat(e).concat({provide:o,useValue:!0});!function(t){if(Ke&&!Ke.destroyed&&!Ke.injector.get(en,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ke=t.get(un);var e=t.get(_e,null);e&&e.forEach(function(t){return t()})}(Qt.create({providers:l,name:r}))}return function(t){var e=ln();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function ln(){return Ke&&!Ke.destroyed?Ke:null}var un=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,o="noop"===(n=e?e.ngZone:void 0)?new Ye:("zone.js"===n?void 0:n)||new Be({enableLongStackTrace:nn()}),i=[{provide:Be,useValue:o}];return o.run(function(){var e=Qt.create({providers:i,parent:r.injector,name:t.moduleType.name}),n=t.create(e),l=n.injector.get(he,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return cn(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){l.handleError(t)}})}),function(t,e,o){try{var i=((l=n.injector.get(ge)).runInitializers(),l.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return de(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var l}(l,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Te),o=an({},e);return r.createCompiler([o]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,o)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(sn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+jt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function an(t,e){return Array.isArray(e)?e.reduce(an,t):Object(r.__assign)({},t,e)}var sn=function(){function t(t,e,n,r,o,i){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var u=new T(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),a=new T(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){Be.assertNotInAngularZone(),Ft(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){Be.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=ct(u,_t.call(a))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Oe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof Re?null:this._injector.get(Me),i=n.create(Qt.NULL,[],e||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var l=i.injector.get(Xe,null);return l&&i.injector.get($e).registerApplication(i.location.nativeElement,l),this._loadComponent(i),nn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Ue(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;cn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(we,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),cn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=je("ApplicationRef#tick()"),t}();function cn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var hn=function(){},dn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),pn=function(){},fn=function(t){this.nativeElement=t},gn=function(){},yn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new qe,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Lt()]=function(){return this._results[Lt()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),mn=function(){},vn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},_n=function(){function t(t,e){this._compiler=t,this._config=e||vn}return t.prototype.load=function(t){return this._compiler instanceof Se?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),o=r[0],i=r[1];return void 0===i&&(i="default"),n("crnd")(o).then(function(t){return t[i]}).then(function(t){return bn(t,o,i)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],o=e[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[o+i]}).then(function(t){return bn(t,r,o)})},t}();function bn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var wn=function(){},Cn=function(){},En=function(){},Sn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Tn?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Tn=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,[o+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof Tn&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof Tn&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof Tn&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Sn),On=new Map;function In(t){return On.get(t)||null}function xn(t){On.set(t.nativeNode,t)}function Pn(t,e){var n=Nn(t),r=Nn(e);return n&&r?function(t,e,n){for(var r=t[Lt()](),o=e[Lt()]();;){var i=r.next(),l=o.next();if(i.done&&l.done)return!0;if(i.done||l.done)return!1;if(!n(i.value,l.value))return!1}}(t,e,Pn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||Vt(t,e)}var kn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),An=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Nn(t){return!!Dn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Lt()in t)}function Dn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Rn=function(){function t(){}return t.prototype.supports=function(t){return Nn(t)},t.prototype.create=function(t){return new Ln(t)},t}(),Mn=function(t,e){return e},Ln=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<Un(n,r,o)?e:n,l=Un(i,r,o),u=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var a=l-r,s=u-r;if(a!=s){for(var c=0;c<a;c++){var h=c<o.length?o[c]:o[c]=0,d=h+c;s<=d&&d<a&&(o[c]=h+1)}o[i.previousIndex]=s-a}}l!==u&&t(i,l,u)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Nn(t))throw new Error("Error trying to diff '"+jt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,i=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(var u=0;u<this.length;u++)o=this._trackByFn(u,r=t[u]),null!==i&&Vt(i.trackById,o)?(l&&(i=this._verifyReinsertion(i,r,o,u)),Vt(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,u),l=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[Lt()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==i&&Vt(i.trackById,o)?(l&&(i=e._verifyReinsertion(i,t,o,n)),Vt(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),l=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Vt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Vt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new Fn(e,n),o,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new jn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Fn=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Vn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Vt(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),jn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Vn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Un(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var qn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Dn(t)},t.prototype.create=function(){return new Bn},t}(),Bn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Dn(t)))throw new Error("Error trying to diff '"+jt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new Hn(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Vt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Hn=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Wn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return new t(e=e.concat(r))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Pt,new It]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}(),Qn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Pt,new It]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),zn=[new qn],Gn=new Wn([new Rn]),Kn=new Qn(zn),Yn=on(null,"core",[{provide:be,useValue:"unknown"},{provide:un,deps:[Qt]},{provide:$e,deps:[]},{provide:Ce,deps:[]}]),Xn=new bt("LocaleId");function $n(){return Gn}function Zn(){return Kn}function Jn(t){return t||"en-US"}var tr=function(t){},er=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),nr=function(){};function rr(t,e,n){var r=t.state,o=1792&r;return o===e?(t.state=-1793&r|n,t.initIndex=-1,!0):o===n}function or(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ir(t,e){return t.nodes[e]}function lr(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}function ar(t,e){return t.nodes[e]}function sr(t,e){return t.nodes[e]}var cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function hr(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return dr(n,e),n}(o,t)}function dr(t,e){t[ie]=e,t[ue]=e.logError.bind(e)}function pr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var fr=function(){},gr=new Map;function yr(t){var e=gr.get(t);return e||(e=jt(t)+"_"+gr.size,gr.set(t,e)),e}function mr(t,e,n,r){if(kn.isWrapped(r)){r=kn.unwrap(r);var o=t.def.nodes[e].bindingIndex+n,i=kn.unwrap(t.oldValues[o]);t.oldValues[o]=new kn(i)}return r}var vr="$$undefined",_r="$$empty";function br(t){return{id:vr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var wr=0;function Cr(t,e,n,r){return!(!(2&t.state)&&Vt(t.oldValues[e.bindingIndex+n],r))}function Er(t,e,n,r){return!!Cr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Sr(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!Pn(o,r)){var i=e.bindings[n].name;throw hr(cr.createDebugContext(t,e.nodeIndex),i+": "+o,i+": "+r,0!=(1&t.state))}}function Tr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Or(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ir(t,e,n,r){try{return Tr(33554432&t.def.nodes[e].flags?lr(t,e).componentView:t),cr.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function xr(t){return t.parent?lr(t.parent,t.parentNodeDef.nodeIndex):null}function Pr(t){return t.parent?t.parentNodeDef.parent:null}function kr(t,e){switch(201347067&e.flags){case 1:return lr(t,e.nodeIndex).renderElement;case 2:return ir(t,e.nodeIndex).renderText}}function Ar(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Nr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Dr(t){return 1<<t%32}function Rr(t){var e={},n=0,r={};return t&&t.forEach(function(t){var o=t[0],i=t[1];"number"==typeof o?(e[o]=i,n|=Dr(o)):r[o]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Mr(t,e){return t.map(function(t){var n,r;return Array.isArray(t)?(r=t[0],n=t[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Bt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:yr(n)}})}function Lr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===St.Native?lr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Fr=new WeakMap;function Vr(t){var e=Fr.get(t);return e||((e=t(function(){return fr})).factory=t,Fr.set(t,e)),e}function jr(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(kr(t,t.def.lastRenderRootNode))),Ur(t,e,0,t.def.nodes.length-1,n,r,o)}function Ur(t,e,n,r,o,i,l){for(var u=n;u<=r;u++){var a=t.def.nodes[u];11&a.flags&&Br(t,a,e,o,i,l),u+=a.childCount}}function qr(t,e,n,r,o,i){for(var l=t;l&&!Ar(l);)l=l.parent;for(var u=l.parent,a=Pr(l),s=a.nodeIndex+a.childCount,c=a.nodeIndex+1;c<=s;c++){var h=u.def.nodes[c];h.ngContentIndex===e&&Br(u,h,n,r,o,i),c+=h.childCount}if(!u.parent){var d=t.root.projectableNodes[e];if(d)for(c=0;c<d.length;c++)Hr(t,d[c],n,r,o,i)}}function Br(t,e,n,r,o,i){if(8&e.flags)qr(t,e.ngContent.index,n,r,o,i);else{var l=kr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Hr(t,l,n,r,o,i),32&e.bindingFlags&&Hr(lr(t,e.nodeIndex).componentView,l,n,r,o,i)):Hr(t,l,n,r,o,i),16777216&e.flags)for(var u=lr(t,e.nodeIndex).viewContainer._embeddedViews,a=0;a<u.length;a++)jr(u[a],n,r,o,i);1&e.flags&&!e.element.name&&Ur(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function Hr(t,e,n,r,o,i){var l=t.renderer;switch(n){case 1:l.appendChild(r,e);break;case 2:l.insertBefore(r,e,o);break;case 3:l.removeChild(r,e);break;case 0:i.push(e)}}var Wr=/^:([^:]+):(.+)$/;function Qr(t){if(":"===t[0]){var e=t.match(Wr);return[e[1],e[2]]}return["",t]}function zr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Gr(t,e,n,r,o,i,l,u,a,s,c,h,d,p,f,g,y,m,v,_){switch(t){case 1:return e+Kr(n)+r;case 2:return e+Kr(n)+r+Kr(o)+i;case 3:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u;case 4:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s;case 5:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s+Kr(c)+h;case 6:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s+Kr(c)+h+Kr(d)+p;case 7:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s+Kr(c)+h+Kr(d)+p+Kr(f)+g;case 8:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s+Kr(c)+h+Kr(d)+p+Kr(f)+g+Kr(y)+m;case 9:return e+Kr(n)+r+Kr(o)+i+Kr(l)+u+Kr(a)+s+Kr(c)+h+Kr(d)+p+Kr(f)+g+Kr(y)+m+Kr(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Kr(t){return null!=t?t.toString():""}function Yr(t,e,n,r,o,i){t|=1;var l=Rr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l.matchedQueries,matchedQueryIds:l.matchedQueryIds,references:l.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Vr(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||fr},provider:null,text:null,query:null,ngContent:null}}function Xr(t,e,n,r,o,i,l,u,a,s,c,h){void 0===l&&(l=[]),s||(s=fr);var d=Rr(n),p=d.matchedQueries,f=d.references,g=d.matchedQueryIds,y=null,m=null;i&&(y=(k=Qr(i))[0],m=k[1]),u=u||[];for(var v=new Array(u.length),_=0;_<u.length;_++){var b=u[_],w=b[0],C=b[2],E=Qr(b[1]),S=E[0],T=E[1],O=void 0,I=void 0;switch(15&w){case 4:I=C;break;case 1:case 8:O=C}v[_]={flags:w,ns:S,name:T,nonMinifiedName:T,securityContext:O,suffix:I}}a=a||[];var x=new Array(a.length);for(_=0;_<a.length;_++){var P=a[_];x[_]={type:0,target:P[0],eventName:P[1],propName:null}}var k,A=(l=l||[]).map(function(t){var e=t[1],n=Qr(t[0]);return[n[0],n[1],e]});return h=function(t){if(t&&t.id===vr){var e=null!=t.encapsulation&&t.encapsulation!==St.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+wr++:_r}return t&&t.id===_r&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:f,ngContentIndex:r,childCount:o,bindings:v,bindingFlags:zr(v),outputs:x,element:{ns:y,name:m,attrs:A,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:s||fr},provider:null,text:null,query:null,ngContent:null}}function $r(t,e,n){var r,o=n.element,i=t.root.selectorOrNode,l=t.renderer;if(t.parent||!i){r=o.name?l.createElement(o.name,o.ns):l.createComment("");var u=Lr(t,e,n);u&&l.appendChild(u,r)}else r=l.selectRootElement(i);if(o.attrs)for(var a=0;a<o.attrs.length;a++){var s=o.attrs[a];l.setAttribute(r,s[1],s[2],s[0])}return r}function Zr(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],l=Jr(t,n.nodeIndex,(h=i.eventName,(c=i.target)?c+":"+h:h)),u=i.target,a=t;"component"===i.target&&(u=null,a=e);var s=a.renderer.listen(u||r,i.eventName,l);t.disposables[n.outputIndex+o]=s}var c,h}function Jr(t,e,n){return function(r){return Ir(t,e,n,r)}}function to(t,e,n,r){if(!Er(t,e,n,r))return!1;var o=e.bindings[n],i=lr(t,e.nodeIndex),l=i.renderElement,u=o.name;switch(15&o.flags){case 1:!function(t,e,n,r,o,i){var l=e.securityContext,u=l?t.root.sanitizer.sanitize(l,i):i;u=null!=u?u.toString():null;var a=t.renderer;null!=i?a.setAttribute(n,o,u,r):a.removeAttribute(n,o,r)}(t,o,l,o.ns,u,r);break;case 2:!function(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}(t,l,u,r);break;case 4:!function(t,e,n,r,o){var i=t.root.sanitizer.sanitize(er.STYLE,o);if(null!=i){i=i.toString();var l=e.suffix;null!=l&&(i+=l)}else i=null;var u=t.renderer;null!=i?u.setStyle(n,r,i):u.removeStyle(n,r)}(t,o,l,u,r);break;case 8:!function(t,e,n,r,o){var i=e.securityContext,l=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,l)}(33554432&e.flags&&32&o.flags?i.componentView:t,o,l,u,r)}return!0}var eo=new Object,no=yr(Qt),ro=yr(Me);function oo(t,e,n,r){return n=qt(n),{index:-1,deps:Mr(r,jt(e)),flags:t,token:e,value:n}}function io(t,e,n){if(void 0===n&&(n=Qt.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case no:case ro:return t}var o=t._def.providersByKey[r];if(o){var i=t._providers[o.index];return void 0===i&&(i=t._providers[o.index]=lo(t,o)),i===eo?void 0:i}return t._parent.get(e.token,n)}function lo(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(io(t,n[0]));case 2:return new e(io(t,n[0]),io(t,n[1]));case 3:return new e(io(t,n[0]),io(t,n[1]),io(t,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=io(t,n[i]);return new(e.bind.apply(e,[void 0].concat(o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(io(t,n[0]));case 2:return e(io(t,n[0]),io(t,n[1]));case 3:return e(io(t,n[0]),io(t,n[1]),io(t,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=io(t,n[i]);return e.apply(void 0,o)}}(t,e.value,e.deps);break;case 2048:n=io(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?eo:n}function uo(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,ho(n,e),cr.dirtyParentQueries(r),so(r),r}function ao(t,e,n){var r=e?kr(e,e.def.lastRenderRootNode):t.renderElement;jr(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function so(t){jr(t,3,null,null,void 0)}function co(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ho(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var po=new Object;function fo(t,e,n,r,o,i){return new go(t,e,n,r,o,i)}var go=function(t){function e(e,n,r,o,i,l){var u=t.call(this)||this;return u.selector=e,u.componentType=n,u._inputs=o,u._outputs=i,u.ngContentSelectors=l,u.viewDefFactory=r,u}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=Vr(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,l=cr.createRootView(t,e||[],n,o,r,po),u=ur(l,i).instance;return n&&l.renderer.setAttribute(lr(l,0).renderElement,"ng-version",Tt.full),new yo(l,new bo(l),u)},e}(Oe),yo=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new fn(lr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new So(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function mo(t,e,n){return new vo(t,e,n)}var vo=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new fn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new So(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Pr(t),t=t.parent;return t?new So(t,e):new So(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=uo(this._data,t);cr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new bo(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof Re||(o=i.get(Me));var l=t.create(i,r,void 0,o);return this.insert(l.hostView,e),l},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,l=t;return o=l._view,i=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=i.length),o.viewContainerParent=this._view,co(i,r,o),function(t,e){var n=xr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,o),cr.dirtyParentQueries(o),ao(n,r>0?i[r-1]:null,o),l.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,l,u=this._embeddedViews.indexOf(t._view);return o=e,l=(i=(n=this._data).viewContainer._embeddedViews)[r=u],ho(i,r),null==o&&(o=i.length),co(i,o,l),cr.dirtyParentQueries(l),so(l),ao(n,o>0?i[o-1]:null,l),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=uo(this._data,t);e&&cr.destroyView(e)},t.prototype.detach=function(t){var e=uo(this._data,t);return e?new bo(e):null},t}();function _o(t){return new bo(t)}var bo=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return jr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Tr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{cr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){cr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,so(this._view),cr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function wo(t,e){return new Co(t,e)}var Co=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new bo(cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new fn(lr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(wn);function Eo(t,e){return new So(t,e)}var So=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Qt.THROW_IF_NOT_FOUND),cr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:yr(t)},e)},t}();function To(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=lr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(t,n.nodeIndex).renderText;if(20240&n.flags)return ur(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Oo(t){return new Io(t.renderer)}var Io=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Qr(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Qr(e),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(t,i,n,o):this.delegate.removeAttribute(t,i,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function xo(t,e,n,r){return new Po(t,e,n,r)}var Po=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||(n[r]=lo(t,o))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=Qt.THROW_IF_NOT_FOUND),io(this,{token:t,tokenKey:yr(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ne)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+jt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var o=t._providers[r];o&&o!==eo&&o.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ko=yr(function(){}),Ao=yr(pn),No=yr(fn),Do=yr(Cn),Ro=yr(wn),Mo=yr(En),Lo=yr(Qt);function Fo(t,e,n,r,o,i,l,u){var a=[];if(l)for(var s in l){var c=l[s];a[c[0]]={flags:8,name:s,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var h=[];if(u)for(var d in u)h.push({type:1,propName:d,target:null,eventName:u[d]});return Uo(t,e|=16384,n,r,o,o,i,a,h)}function Vo(t,e,n){return Uo(-1,t|=16,null,0,e,e,n)}function jo(t,e,n,r,o){return Uo(-1,t,e,0,n,r,o)}function Uo(t,e,n,r,o,i,l,u,a){var s=Rr(n),c=s.matchedQueries,h=s.references,d=s.matchedQueryIds;a||(a=[]),u||(u=[]),i=qt(i);var p=Mr(l,jt(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:u,bindingFlags:zr(u),outputs:a,element:null,provider:{token:o,value:i,deps:p},text:null,query:null,ngContent:null}}function qo(t,e){return Qo(t,e)}function Bo(t,e){for(var n=t;n.parent&&!Ar(n);)n=n.parent;return zo(n.parent,Pr(n),!0,e.provider.value,e.provider.deps)}function Ho(t,e){var n=zo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],i=n[o.propName].subscribe(Wo(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=i.unsubscribe.bind(i)}return n}function Wo(t,e,n){return function(r){return Ir(t,e,n,r)}}function Qo(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return zo(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(Ko(t,e,n,o[0]));case 2:return r(Ko(t,e,n,o[0]),Ko(t,e,n,o[1]));case 3:return r(Ko(t,e,n,o[0]),Ko(t,e,n,o[1]),Ko(t,e,n,o[2]));default:for(var l=Array(i),u=0;u<i;u++)l[u]=Ko(t,e,n,o[u]);return r.apply(void 0,l)}}(t,e.parent,n,r.value,r.deps);case 2048:return Ko(t,e.parent,n,r.deps[0]);case 256:return r.value}}function zo(t,e,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(Ko(t,e,n,o[0]));case 2:return new r(Ko(t,e,n,o[0]),Ko(t,e,n,o[1]));case 3:return new r(Ko(t,e,n,o[0]),Ko(t,e,n,o[1]),Ko(t,e,n,o[2]));default:for(var l=new Array(i),u=0;u<i;u++)l[u]=Ko(t,e,n,o[u]);return new(r.bind.apply(r,[void 0].concat(l)))}}var Go={};function Ko(t,e,n,r,o){if(void 0===o&&(o=Qt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var l=r.tokenKey;for(l===Mo&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(l){case ko:return Oo(Yo(t,e,n));case Ao:return Yo(t,e,n).renderer;case No:return new fn(lr(t,e.nodeIndex).renderElement);case Do:return lr(t,e.nodeIndex).viewContainer;case Ro:if(e.element.template)return lr(t,e.nodeIndex).template;break;case Mo:return _o(Yo(t,e,n));case Lo:return Eo(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[l];if(u){var a=ur(t,u.nodeIndex);return a||(a={instance:Qo(t,u)},t.nodes[u.nodeIndex]=a),a.instance}}n=Ar(t),e=Pr(t),t=t.parent}var s=i.root.injector.get(r.token,Go);return s!==Go||o===Go?s:i.root.ngModule.injector.get(r.token,o)}function Yo(t,e,n){var r;if(n)r=lr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Ar(r);)r=r.parent;return r}function Xo(t,e,n,r,o,i){if(32768&n.flags){var l=lr(t,n.parent.nodeIndex).componentView;2&l.def.flags&&(l.state|=8)}if(e.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var u=kn.unwrap(t.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new An(u,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function $o(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],l=i.parent;for(!l&&i.flags&e&&Jo(t,o,i.flags&e,r++),0==(i.childFlags&e)&&(o+=i.childCount);l&&1&l.flags&&o===l.nodeIndex+l.childCount;)l.directChildFlags&e&&(r=Zo(t,l,e,r)),l=l.parent}}function Zo(t,e,n,r){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var i=t.def.nodes[o];i.flags&n&&Jo(t,o,i.flags&n,r++),o+=i.childCount}return r}function Jo(t,e,n,r){var o=ur(t,e);if(o){var i=o.instance;i&&(cr.setCurrentNode(t,e),1048576&n&&or(t,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&or(t,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function ti(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Nr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=t.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&sr(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var i;134217728&(i=t.def.nodes[o]).flags&&536870912&i.flags&&sr(t,o).setDirty(),o+=i.childCount}}function ei(t,e){var n=sr(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=ni(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=ur(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=ni(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var l=e.query.bindings,u=!1,a=0;a<l.length;a++){var s=l[a],c=void 0;switch(s.bindingType){case 0:c=n.first;break;case 1:c=n,u=!0}r[s.propName]=c}u&&n.notifyOnChanges()}}function ni(t,e,n,r,o){for(var i=e;i<=n;i++){var l=t.def.nodes[i],u=l.matchedQueries[r.id];if(null!=u&&o.push(ri(t,l,u)),1&l.flags&&l.element.template&&(l.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var a=lr(t,i);if((l.childMatchedQueries&r.filterId)===r.filterId&&(ni(t,i+1,i+l.childCount,r,o),i+=l.childCount),16777216&l.flags)for(var s=a.viewContainer._embeddedViews,c=0;c<s.length;c++){var h=s[c],d=xr(h);d&&d===a&&ni(h,0,h.def.nodes.length-1,r,o)}var p=a.template._projectedViews;if(p)for(c=0;c<p.length;c++){var f=p[c];ni(f,0,f.def.nodes.length-1,r,o)}}(l.childMatchedQueries&r.filterId)!==r.filterId&&(i+=l.childCount)}return o}function ri(t,e,n){if(null!=n)switch(n){case 1:return lr(t,e.nodeIndex).renderElement;case 0:return new fn(lr(t,e.nodeIndex).renderElement);case 2:return lr(t,e.nodeIndex).template;case 3:return lr(t,e.nodeIndex).viewContainer;case 4:return ur(t,e.nodeIndex).instance}}function oi(t,e,n){var r=Lr(t,e,n);r&&qr(t,n.ngContent.index,1,r,null,void 0)}function ii(t,e){return ui(32,t,new Array(e))}function li(t,e){for(var n=Object.keys(e),r=n.length,o=new Array(r),i=0;i<r;i++){var l=n[i];o[e[l]]=l}return ui(64,t,o)}function ui(t,e,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:zr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ai(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function si(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=Lr(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function ci(t,e){return(null!=t?t.toString():"")+e.suffix}function hi(t,e,n,r){for(var o=0,i=0,l=0,u=0,a=0,s=null,c=null,h=!1,d=!1,p=null,f=0;f<e.length;f++){var g=e[f];if(g.nodeIndex=f,g.parent=s,g.bindingIndex=o,g.outputIndex=i,g.renderParent=c,l|=g.flags,a|=g.matchedQueryIds,g.element){var y=g.element;y.publicProviders=s?s.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,d=!1,g.element.template&&(a|=g.element.template.nodeMatchedQueries)}if(pi(s,g,e.length),o+=g.bindings.length,i+=g.outputs.length,!c&&3&g.flags&&(p=g),20224&g.flags){h||(h=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var m=0!=(32768&g.flags);0==(8192&g.flags)||m?s.element.publicProviders[yr(g.provider.token)]=g:(d||(d=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[yr(g.provider.token)]=g),m&&(s.element.componentProvider=g)}if(s?(s.childFlags|=g.flags,s.directChildFlags|=g.flags,s.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(s.childMatchedQueries|=g.element.template.nodeMatchedQueries)):u|=g.flags,g.childCount>0)s=g,di(g)||(c=g);else for(;s&&f===s.nodeIndex+s.childCount;){var v=s.parent;v&&(v.childFlags|=s.childFlags,v.childMatchedQueries|=s.childMatchedQueries),c=(s=v)&&di(s)?s.renderParent:s}}return{factory:null,nodeFlags:l,rootNodeFlags:u,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||fr,updateRenderer:r||fr,handleEvent:function(t,n,r,o){return e[n].element.handleEvent(t,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:p}}function di(t){return 0!=(1&t.flags)&&null===t.element.name}function pi(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function fi(t,e,n,r){var o=mi(t.root,t.renderer,t,e,n);return vi(o,t.component,r),_i(o),o}function gi(t,e,n){var r=mi(t,t.renderer,null,null,e);return vi(r,n,n),_i(r),r}function yi(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,mi(t.root,o,t,e.element.componentProvider,n)}function mi(t,e,n,r,o){var i=new Array(o.nodes.length),l=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:l,initIndex:-1}}function vi(t,e,n){t.component=e,t.context=n}function _i(t){var e;Ar(t)&&(e=lr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];cr.setCurrentNode(t,o);var l=void 0;switch(201347067&i.flags){case 1:var u=$r(t,e,i),a=void 0;if(33554432&i.flags){var s=Vr(i.element.componentView);a=cr.createComponentView(t,i,s,u)}Zr(t,a,i,u),l={renderElement:u,componentView:a,viewContainer:null,template:i.element.template?wo(t,i):void 0},16777216&i.flags&&(l.viewContainer=mo(t,i,l));break;case 2:l=si(t,e,i);break;case 512:case 1024:case 2048:case 256:(l=r[o])||4096&i.flags||(l={instance:qo(t,i)});break;case 16:l={instance:Bo(t,i)};break;case 16384:(l=r[o])||(l={instance:Ho(t,i)}),32768&i.flags&&vi(lr(t,i.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new yn;break;case 8:oi(t,e,i),l=void 0}r[o]=l}xi(t,Ii.CreateViewNodes),Ni(t,201326592,268435456,0)}function bi(t){Ei(t),cr.updateDirectives(t,1),Pi(t,Ii.CheckNoChanges),cr.updateRenderer(t,1),xi(t,Ii.CheckNoChanges),t.state&=-97}function wi(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,rr(t,0,256),Ei(t),cr.updateDirectives(t,0),Pi(t,Ii.CheckAndUpdate),Ni(t,67108864,536870912,0);var e=rr(t,256,512);$o(t,2097152|(e?1048576:0)),cr.updateRenderer(t,0),xi(t,Ii.CheckAndUpdate),Ni(t,134217728,536870912,0),$o(t,8388608|((e=rr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,rr(t,768,1024)}function Ci(t,e,n,r,o,i,l,u,a,s,c,h,d){return 0===n?function(t,e,n,r,o,i,l,u,a,s,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,o,i,l,u,a,s,c,h){var d=e.bindings.length,p=!1;return d>0&&to(t,e,0,n)&&(p=!0),d>1&&to(t,e,1,r)&&(p=!0),d>2&&to(t,e,2,o)&&(p=!0),d>3&&to(t,e,3,i)&&(p=!0),d>4&&to(t,e,4,l)&&(p=!0),d>5&&to(t,e,5,u)&&(p=!0),d>6&&to(t,e,6,a)&&(p=!0),d>7&&to(t,e,7,s)&&(p=!0),d>8&&to(t,e,8,c)&&(p=!0),d>9&&to(t,e,9,h)&&(p=!0),p}(t,e,n,r,o,i,l,u,a,s,c,h);case 2:return function(t,e,n,r,o,i,l,u,a,s,c,h){var d=!1,p=e.bindings,f=p.length;if(f>0&&Er(t,e,0,n)&&(d=!0),f>1&&Er(t,e,1,r)&&(d=!0),f>2&&Er(t,e,2,o)&&(d=!0),f>3&&Er(t,e,3,i)&&(d=!0),f>4&&Er(t,e,4,l)&&(d=!0),f>5&&Er(t,e,5,u)&&(d=!0),f>6&&Er(t,e,6,a)&&(d=!0),f>7&&Er(t,e,7,s)&&(d=!0),f>8&&Er(t,e,8,c)&&(d=!0),f>9&&Er(t,e,9,h)&&(d=!0),d){var g=e.text.prefix;f>0&&(g+=ci(n,p[0])),f>1&&(g+=ci(r,p[1])),f>2&&(g+=ci(o,p[2])),f>3&&(g+=ci(i,p[3])),f>4&&(g+=ci(l,p[4])),f>5&&(g+=ci(u,p[5])),f>6&&(g+=ci(a,p[6])),f>7&&(g+=ci(s,p[7])),f>8&&(g+=ci(c,p[8])),f>9&&(g+=ci(h,p[9]));var y=ir(t,e.nodeIndex).renderText;t.renderer.setValue(y,g)}return d}(t,e,n,r,o,i,l,u,a,s,c,h);case 16384:return function(t,e,n,r,o,i,l,u,a,s,c,h){var d=ur(t,e.nodeIndex),p=d.instance,f=!1,g=void 0,y=e.bindings.length;return y>0&&Cr(t,e,0,n)&&(f=!0,g=Xo(t,d,e,0,n,g)),y>1&&Cr(t,e,1,r)&&(f=!0,g=Xo(t,d,e,1,r,g)),y>2&&Cr(t,e,2,o)&&(f=!0,g=Xo(t,d,e,2,o,g)),y>3&&Cr(t,e,3,i)&&(f=!0,g=Xo(t,d,e,3,i,g)),y>4&&Cr(t,e,4,l)&&(f=!0,g=Xo(t,d,e,4,l,g)),y>5&&Cr(t,e,5,u)&&(f=!0,g=Xo(t,d,e,5,u,g)),y>6&&Cr(t,e,6,a)&&(f=!0,g=Xo(t,d,e,6,a,g)),y>7&&Cr(t,e,7,s)&&(f=!0,g=Xo(t,d,e,7,s,g)),y>8&&Cr(t,e,8,c)&&(f=!0,g=Xo(t,d,e,8,c,g)),y>9&&Cr(t,e,9,h)&&(f=!0,g=Xo(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&or(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,o,i,l,u,a,s,c,h);case 32:case 64:case 128:return function(t,e,n,r,o,i,l,u,a,s,c,h){var d=e.bindings,p=!1,f=d.length;if(f>0&&Er(t,e,0,n)&&(p=!0),f>1&&Er(t,e,1,r)&&(p=!0),f>2&&Er(t,e,2,o)&&(p=!0),f>3&&Er(t,e,3,i)&&(p=!0),f>4&&Er(t,e,4,l)&&(p=!0),f>5&&Er(t,e,5,u)&&(p=!0),f>6&&Er(t,e,6,a)&&(p=!0),f>7&&Er(t,e,7,s)&&(p=!0),f>8&&Er(t,e,8,c)&&(p=!0),f>9&&Er(t,e,9,h)&&(p=!0),p){var g=ar(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(d.length),f>0&&(y[0]=n),f>1&&(y[1]=r),f>2&&(y[2]=o),f>3&&(y[3]=i),f>4&&(y[4]=l),f>5&&(y[5]=u),f>6&&(y[6]=a),f>7&&(y[7]=s),f>8&&(y[8]=c),f>9&&(y[9]=h);break;case 64:y={},f>0&&(y[d[0].name]=n),f>1&&(y[d[1].name]=r),f>2&&(y[d[2].name]=o),f>3&&(y[d[3].name]=i),f>4&&(y[d[4].name]=l),f>5&&(y[d[5].name]=u),f>6&&(y[d[6].name]=a),f>7&&(y[d[7].name]=s),f>8&&(y[d[8].name]=c),f>9&&(y[d[9].name]=h);break;case 128:var m=n;switch(f){case 1:y=m.transform(n);break;case 2:y=m.transform(r);break;case 3:y=m.transform(r,o);break;case 4:y=m.transform(r,o,i);break;case 5:y=m.transform(r,o,i,l);break;case 6:y=m.transform(r,o,i,l,u);break;case 7:y=m.transform(r,o,i,l,u,a);break;case 8:y=m.transform(r,o,i,l,u,a,s);break;case 9:y=m.transform(r,o,i,l,u,a,s,c);break;case 10:y=m.transform(r,o,i,l,u,a,s,c,h)}}g.value=y}return p}(t,e,n,r,o,i,l,u,a,s,c,h);default:throw"unreachable"}}(t,e,r,o,i,l,u,a,s,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,o=0;o<n.length;o++)to(t,e,o,n[o])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Er(t,e,i,n[i])&&(o=!0);if(o){var l="";for(i=0;i<n.length;i++)l+=ci(n[i],r[i]);l=e.text.prefix+l;var u=ir(t,e.nodeIndex).renderText;t.renderer.setValue(u,l)}return o}(t,e,n);case 16384:return function(t,e,n){for(var r=ur(t,e.nodeIndex),o=r.instance,i=!1,l=void 0,u=0;u<n.length;u++)Cr(t,e,u,n[u])&&(i=!0,l=Xo(t,r,e,u,n[u],l));return l&&o.ngOnChanges(l),65536&e.flags&&or(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Er(t,e,i,n[i])&&(o=!0);if(o){var l=ar(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},i=0;i<n.length;i++)u[r[i].name]=n[i];break;case 128:var a=n[0],s=n.slice(1);u=a.transform.apply(a,s)}l.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Ei(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=lr(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var l=o[i];l.state|=32,Or(l,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Si(t,e,n,r,o,i,l,u,a,s,c,h,d){return 0===n?function(t,e,n,r,o,i,l,u,a,s,c,h){var d=e.bindings.length;d>0&&Sr(t,e,0,n),d>1&&Sr(t,e,1,r),d>2&&Sr(t,e,2,o),d>3&&Sr(t,e,3,i),d>4&&Sr(t,e,4,l),d>5&&Sr(t,e,5,u),d>6&&Sr(t,e,6,a),d>7&&Sr(t,e,7,s),d>8&&Sr(t,e,8,c),d>9&&Sr(t,e,9,h)}(t,e,r,o,i,l,u,a,s,c,h,d):function(t,e,n){for(var r=0;r<n.length;r++)Sr(t,e,r,n[r])}(t,e,r),!1}function Ti(t,e){if(sr(t,e.nodeIndex).dirty)throw hr(cr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Oi(t){if(!(128&t.state)){if(Pi(t,Ii.Destroy),xi(t,Ii.Destroy),$o(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=xr(t);if(e){var n=e.template._projectedViews;n&&(ho(n,n.indexOf(t)),cr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(lr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(ir(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&sr(t,n).destroy()}}(t),Ar(t)&&t.renderer.destroy(),t.state|=128}}var Ii=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function xi(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?ki(lr(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function Pi(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=lr(t,r).viewContainer._embeddedViews,l=0;l<i.length;l++)ki(i[l],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function ki(t,e){var n=t.state;switch(e){case Ii.CheckNoChanges:0==(128&n)&&(12==(12&n)?bi(t):64&n&&Ai(t,Ii.CheckNoChangesProjectedViews));break;case Ii.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?bi(t):64&n&&Ai(t,e));break;case Ii.CheckAndUpdate:0==(128&n)&&(12==(12&n)?wi(t):64&n&&Ai(t,Ii.CheckAndUpdateProjectedViews));break;case Ii.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?wi(t):64&n&&Ai(t,e));break;case Ii.Destroy:Oi(t);break;case Ii.CreateViewNodes:_i(t)}}function Ai(t,e){Pi(t,e),xi(t,e)}function Ni(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var l=t.def.nodes[i];if(l.flags&e&&l.flags&n)switch(cr.setCurrentNode(t,l.nodeIndex),r){case 0:ei(t,l);break;case 1:Ti(t,l)}l.childFlags&e&&l.childFlags&n||(i+=l.childCount)}}var Di=!1;function Ri(t,e,n,r,o,i){return gi(Li(t,o,o.injector.get(hn),e,n),r,i)}function Mi(t,e,n,r,o,i){var l=o.injector.get(hn),u=Li(t,o,new yl(l),e,n),a=Qi(r);return pl(tl.create,gi,null,[u,a,i])}function Li(t,e,n,r,o){var i=e.injector.get(nr),l=e.injector.get(he);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:l}}function Fi(t,e,n,r){var o=Qi(n);return pl(tl.create,fi,null,[t,e,o,r])}function Vi(t,e,n,r){return n=qi.get(e.element.componentProvider.provider.token)||Qi(n),pl(tl.create,yi,null,[t,e,n,r])}function ji(t,e,n,r){return xo(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Ui.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Ui.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var o=Ui.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=Mr(o.deps),r.value=o.value)}}(t=t.factory(function(){return fr})),t):t}(r))}var Ui=new Map,qi=new Map;function Bi(t){Ui.set(t.token,t)}function Hi(t,e){var n=Vr(Vr(e.viewDefFactory).nodes[0].element.componentView);qi.set(t,n)}function Wi(){Ui.clear(),qi.clear()}function Qi(t){if(0===Ui.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&Ui.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return fr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=Ui.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=Mr(i.deps),o.value=i.value)}}}}function zi(t,e,n,r,o,i,l,u,a,s,c,h,d){var p=t.def.nodes[e];return Ci(t,p,n,r,o,i,l,u,a,s,c,h,d),224&p.flags?ar(t,e).value:void 0}function Gi(t,e,n,r,o,i,l,u,a,s,c,h,d){var p=t.def.nodes[e];return Si(t,p,n,r,o,i,l,u,a,s,c,h,d),224&p.flags?ar(t,e).value:void 0}function Ki(t){return pl(tl.detectChanges,wi,null,[t])}function Yi(t){return pl(tl.checkNoChanges,bi,null,[t])}function Xi(t){return pl(tl.destroy,Oi,null,[t])}var $i,Zi,Ji,tl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function el(t,e){Zi=t,Ji=e}function nl(t,e,n,r){return el(t,e),pl(tl.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function rl(t,e){if(128&t.state)throw pr(tl[$i]);return el(t,sl(t,0)),t.def.updateDirectives(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var l=t.def.nodes[n];return 0===e?il(t,l,r,o):ll(t,l,r,o),16384&l.flags&&el(t,sl(t,n)),224&l.flags?ar(t,l.nodeIndex).value:void 0},t)}function ol(t,e){if(128&t.state)throw pr(tl[$i]);return el(t,cl(t,0)),t.def.updateRenderer(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var l=t.def.nodes[n];return 0===e?il(t,l,r,o):ll(t,l,r,o),3&l.flags&&el(t,cl(t,n)),224&l.flags?ar(t,l.nodeIndex).value:void 0},t)}function il(t,e,n,r){if(Ci.apply(void 0,[t,e,n].concat(r))){var o=1===n?r[0]:r;if(16384&e.flags){for(var i={},l=0;l<e.bindings.length;l++){var u=e.bindings[l],a=o[l];8&u.flags&&(i[(d=u.nonMinifiedName,"ng-reflect-"+(d=d.replace(/[$@]/g,"_").replace(ul,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=al(a))}var s=e.parent,c=lr(t,s.nodeIndex).renderElement;if(s.element.name)for(var h in i)null!=(a=i[h])?t.renderer.setAttribute(c,h,a):t.renderer.removeAttribute(c,h);else t.renderer.setValue(c,"bindings="+JSON.stringify(i,null,2))}}var d}function ll(t,e,n,r){Si.apply(void 0,[t,e,n].concat(r))}var ul=/([A-Z])/g;function al(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function sl(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function cl(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var hl=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Pr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return lr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Eo(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){dl(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&dl(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Ar(t);)t=t.parent;return t.parent?lr(t.parent,Pr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?kr(this.view,this.nodeDef):kr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var i=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),l=-1;e.factory(function(){return++l===i?(e=t.error).bind.apply(e,[t].concat(r)):fr;var e}),l<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,r))},t}();function dl(t,e,n){for(var r in e.references)n[r]=ri(t,e,e.references[r])}function pl(t,e,n,r){var o=$i,i=Zi,l=Ji;try{$i=t;var u=e.apply(n,r);return Zi=i,Ji=l,$i=o,u}catch(t){if(ae(t)||!Zi)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),dr(t,e),t}(t,fl())}}function fl(){return Zi?new hl(Zi,Ji):null}var gl,yl=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ml(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ml=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){On.delete(t.nativeNode)}(In(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=fl();if(r){var o=new Tn(n,null,r);o.name=t,xn(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=fl();return n&&xn(new Sn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=fl();return n&&xn(new Sn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=In(t),r=In(e);n&&r&&n instanceof Tn&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=In(t),o=In(e),i=In(n);r&&o&&r instanceof Tn&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=In(t),r=In(e);n&&r&&n instanceof Tn&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=fl();return n&&xn(new Tn(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var o=In(t);o&&o instanceof Tn&&(o.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=In(t);r&&r instanceof Tn&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=In(t);n&&n instanceof Tn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=In(t);n&&n instanceof Tn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=In(t);o&&o instanceof Tn&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=In(t);r&&r instanceof Tn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=In(t);r&&r instanceof Tn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=In(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),vl=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Object(r.__extends)(e,t),e.prototype.create=function(t){!function(){if(!Di){Di=!0;var t=nn()?{setCurrentNode:el,createRootView:Mi,createEmbeddedView:Fi,createComponentView:Vi,createNgModuleRef:ji,overrideProvider:Bi,overrideComponentView:Hi,clearOverrides:Wi,checkAndUpdateView:Ki,checkNoChangesView:Yi,destroyView:Xi,createDebugContext:function(t,e){return new hl(t,e)},handleEvent:nl,updateDirectives:rl,updateRenderer:ol}:{setCurrentNode:function(){},createRootView:Ri,createEmbeddedView:fi,createComponentView:yi,createNgModuleRef:xo,overrideProvider:fr,overrideComponentView:fr,clearOverrides:fr,checkAndUpdateView:wi,checkNoChangesView:bi,destroyView:Oi,createDebugContext:function(t,e){return new hl(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?zi:Gi,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?zi:Gi,t)}};cr.setCurrentNode=t.setCurrentNode,cr.createRootView=t.createRootView,cr.createEmbeddedView=t.createEmbeddedView,cr.createComponentView=t.createComponentView,cr.createNgModuleRef=t.createNgModuleRef,cr.overrideProvider=t.overrideProvider,cr.overrideComponentView=t.overrideComponentView,cr.clearOverrides=t.clearOverrides,cr.checkAndUpdateView=t.checkAndUpdateView,cr.checkNoChangesView=t.checkNoChangesView,cr.destroyView=t.destroyView,cr.resolveDep=Ko,cr.createDebugContext=t.createDebugContext,cr.handleEvent=t.handleEvent,cr.updateDirectives=t.updateDirectives,cr.updateRenderer=t.updateRenderer,cr.dirtyParentQueries=ti}}();var e=Vr(this._ngModuleDefFactory);return cr.createNgModuleRef(this.moduleType,t||Qt.NULL,this._bootstrapComponents,e)},e}(Le);"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof global&&(global.ngDevMode=!0)),gl=function(t,e,n){return{parent:gl,id:null,node:null,data:[],ngStaticData:[],cleanup:null,renderer:null,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}();var _l=function(){},bl=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),wl=function(){},Cl=new bt("Location Initialized"),El=function(){},Sl=new bt("appBaseHref"),Tl=function(){function t(e){var n=this;this._subject=new qe,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(Ol(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ol(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function Ol(t){return t.replace(/\/index.html$/,"")}var Il=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(r.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Tl.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Tl.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Tl.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(El),xl=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(r.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Tl.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Tl.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Tl.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Tl.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(El),Pl=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],kl={},Al=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Nl=new bt("UseV4Plurals"),Dl=function(){},Rl=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(r.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=kl[e];if(n)return n;var r=e.split("-")[0];if(n=kl[r])return n;if("en"===r)return Pl;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[17]}(e||this.locale)(t)){case Al.Zero:return"zero";case Al.One:return"one";case Al.Two:return"two";case Al.Few:return"few";case Al.Many:return"many";default:return"other"}},e}(Dl),Ml=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Nn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+jt(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Ll=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Fl=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){nn()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new Ll(null,e.ngForOf,-1,-1),o),l=new Vl(t,i);n.push(l)}else null==o?e._viewContainer.remove(r):(i=e._viewContainer.get(r),e._viewContainer.move(i,o),l=new Vl(t,i),n.push(l))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),Vl=function(t,e){this.record=t,this.view=e},jl=function(){function t(t,e){this._viewContainer=t,this._context=new Ul,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Ul=function(){this.$implicit=null,this.ngIf=null};function ql(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+jt(t)+"'")}var Bl=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Hl=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Wl=new Bl,Ql=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,kn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(de(e))return Hl;if(pe(e))return Wl;throw ql(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),zl=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw ql(t,e);return e.toUpperCase()},t}(),Gl=function(){},Kl=new bt("DocumentToken"),Yl=n("geFX"),Xl=new bt("FirebaseAppConfigToken"),$l=function(){};function Zl(t,e){try{return e?Yl.default.initializeApp(t,e):Yl.default.initializeApp(t)}catch(t){return Yl.default.app("app/duplicate-app"===t.code?t.name:null)}}var Jl=new bt("FirebaseAppName"),tu=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:Xl,useValue:e},{provide:Jl,useValue:n}]}},t}(),eu=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return F.schedule.apply(F,t)})},t}();function nu(t){return void 0===t||null===t}function ru(t){return"function"==typeof t.set}function ou(t,e){return ru(e)?e:t.database().ref(e)}function iu(t,e){if("string"==typeof t)return e.stringCase();if(ru(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var lu=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return ht(this.value);case"E":return t=this.error,new T(function(e){return e.error(t)});case"C":return j()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),uu=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new au(t,this.scheduler,this.delay))},t}(),au=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return r.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new su(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(lu.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(lu.createError(t))},e.prototype._complete=function(){this.scheduleMessage(lu.createComplete())},e}(_),su=function(t,e){this.notification=t,this.destination=e};function cu(t,e){return void 0===e&&(e=0),function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new uu(t,e))}}(t,e)(this)}function hu(t,e){return Z(t,e)(this)}T.prototype.map=hu;var du=new L(D),pu=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new fu(t,this.delay,this.scheduler))},t}(),fu=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return r.__extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new gu(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lu.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(lu.createComplete())},e}(_),gu=function(t,e){this.time=t,this.notification=e};function yu(t,e,n){void 0===n&&(n="on");var r=new T(function(r){var o=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,o)}}:{unsubscribe:function(){}}}).map(function(t){var n=t.snapshot,r=t.prevKey,o=null;return n.exists()&&(o=n.key),{type:e,payload:n,prevKey:r,key:o}}).delay(0);return cu.call(r,new eu(Zone.current)).share()}function mu(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new vu(t,e,n))}}T.prototype.delay=function(t,e){return void 0===e&&(e=du),function(t,e){void 0===e&&(e=du);var n,r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new pu(r,e))}}(t,e)(this)},T.prototype.share=_t;var vu=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new _u(t,this.accumulator,this.seed,this.hasSeed))},t}(),_u=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return r.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(_);T.prototype.scan=function(t,e){return arguments.length>=2?mu(t,e)(this):mu(t)(this)},T.merge=ct,T.of=ht;var bu=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new wu(t,this.project))},t}(),wu=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Y(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(X);function Cu(t,e){return function(n){return n.lift(new Eu(t,e))}}T.prototype.switchMap=function(t){return function t(e,n){return"function"==typeof n?function(r){return r.pipe(t(function(t,r){return rt(e(t,r)).pipe(Z(function(e,o){return n(t,e,r,o)}))}))}:function(t){return t.lift(new bu(e))}}(t)(this)};var Eu=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Su(t,this.predicate,this.thisArg))},t}(),Su=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(_);function Tu(t,e){return Cu(t,e)(this)}T.prototype.filter=Tu;var Ou=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Iu(t,this.compare,this.keySelector))},t}(),Iu=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return r.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=f(this.keySelector)(t))===d)return this.destination.error(d.e);var n=!1;if(this.hasKey){if((n=f(this.compare)(this.key,e))===d)return this.destination.error(d.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(_);function xu(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Pu(t,e){var n=e.payload,r=e.prevKey,o=e.key,i=xu(t,o),l=function(t,e){if(nu(e))return 0;var n=xu(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(i>-1){var a=t[i-1];(a&&a.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(l,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(l,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===o?e:t});case"child_moved":if(i>-1){var s=t.splice(i,1)[0];return(t=t.slice()).splice(l,0,s),t}return t;default:return t}}function ku(t){return(nu(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Au(t,e){return function(t,e){return yu(t,"value","once").switchMap(function(n){var r=[T.of(n)];return e.forEach(function(e){return r.push(yu(t,e))}),T.merge.apply(T,r).scan(Pu,[])}).distinctUntilChanged()}(t,e=ku(e))}function Nu(t,e){var n=(e=ku(e)).map(function(e){return yu(t,e)});return T.merge.apply(T,n)}T.prototype.distinctUntilChanged=function(t,e){return function(t,e){return function(n){return n.lift(new Ou(t,e))}}(t,e)(this)};var Du=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Ru(t,this.predicate))},t}(),Ru=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(_);T.prototype.skipWhile=function(t){return function(t){return function(e){return e.lift(new Du(t))}}(t)(this)};var Mu=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Lu(t,this.observables,this.project))},t}(),Lu=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var l=0;l<i;l++)o.toRespond.push(l);for(l=0;l<i;l++){var u=n[l];o.add(Y(o,u,u,l))}return o}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var l=i.indexOf(n);-1!==l&&i.splice(l,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(X);function Fu(t,e){return function(n,r){return iu(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function Vu(t){return function(){return yu(t,"value")}}T.prototype.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Mu(t,n))}}).apply(void 0,t)(this)};var ju=function(){function t(t){this.app=t,this.database=t.database()}return t.prototype.list=function(t,e){var n=ou(this.app,t),r=n;return e&&(r=e(n)),function(t){return{query:t,update:Fu(t.ref,"update"),set:Fu(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(e=t.ref,function(t){return t?iu(t,{stringCase:function(){return e.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):e.remove()}),snapshotChanges:function(e){return Au(t,e)},stateChanges:function(t){return function(e){return Nu(t,e)}}(t),auditTrail:function(t){return function(e){return function(t,e){return function(t,e){return function(t){return yu(t,"value").map(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}})}(t).withLatestFrom(e).map(function(t){var e=t[1];return{actions:e,lastKeyToLoad:t[0].lastKeyToLoad,loadedKeys:e.map(function(t){return t.key})}}).skipWhile(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}).map(function(t){return t.actions})}(t,Nu(t,e).scan(function(t,e){return t.concat([e])},[]))}(t,e)}}(t),valueChanges:function(e){return Au(t,e).map(function(t){return t.map(function(t){return t.payload.val()})})}};var e}(r)},t.prototype.object=function(t){var e,n=ou(this.app,t);return{query:e=n,snapshotChanges:Vu(e),update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return Vu(e)().map(function(t){return t.payload.exists()?t.payload.val():null})}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}();function Uu(t){return new ju(t)}n("NSPt");var qu=function(){},Bu=null;function Hu(){return Bu}var Wu,Qu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},zu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Dt.Node&&(Wu=Dt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Ku,Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Bu||(Bu=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Qu},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Wu.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n.item(r);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Gu.hasOwnProperty(e)&&(e=Gu[e]))}return zu[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Xu||(Xu=document.querySelector("base"))?Xu.getAttribute("href"):null;return null==n?null:(e=n,Ku||(Ku=document.createElement("a")),Ku.setAttribute("href",e),"/"===Ku.pathname.charAt(0)?Ku.pathname:"/"+Ku.pathname)},e.prototype.resetBaseElement=function(){Xu=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=o.indexOf("="),l=-1==i?[o,""]:[o.slice(0,i),o.slice(i+1)],u=l[1];if(l[0].trim()===e)return decodeURIComponent(u)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Xu=null,$u=Kl;function Zu(){return!!window.history.pushState}var Ju=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.__extends)(e,t),e.prototype._init=function(){this.location=Hu().getLocation(),this._history=Hu().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Hu().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Hu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Hu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Zu()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Zu()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:Ot,args:[$u]}]}]},e}(wl),ta=function(){function t(t){this._doc=t,this._dom=Hu()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var o=this._dom.createElement("meta");this._setMetaElementAttributes(t,o);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,o),o},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),ea=new bt("TRANSITION_ID"),na=[{provide:fe,useFactory:function(t,e,n){return function(){n.get(ge).donePromise.then(function(){var n=Hu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ea,$u,Qt],multi:!0}],ra=function(){function t(){}return t.init=function(){var e;e=new t,Ze=e},t.prototype.addToWindow=function(t){Dt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Dt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Dt.getAllAngularRootElements=function(){return t.getAllRootElements()},Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(function(t){var e=Dt.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Hu().isShadowRoot(e)?this.findTestabilityInTree(t,Hu().getHost(e),!0):this.findTestabilityInTree(t,Hu().parentElement(e),!0):null},t}(),oa=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return Hu().getTitle(this._doc)},t.prototype.setTitle=function(t){Hu().setTitle(this._doc,t)},t}();function ia(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Dt.ng=Dt.ng||{})[t]=e)}var la={ApplicationRef:sn,NgZone:Be};function ua(t){return In(t)}var aa=new bt("EventManagerPlugins"),sa=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),ca=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Hu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),ha=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),da=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return Hu().remove(t)})},e}(ha),pa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fa=/%COMP%/g,ga="_nghost-%COMP%",ya="_ngcontent-%COMP%";function ma(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?ma(t,o,n):(o=o.replace(fa,t),n.push(o))}return n}function va(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var _a=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new ba(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case St.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Sa(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case St.Native:return new Ta(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=ma(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ba=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(pa[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=pa[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=pa[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&dn.DashCase?t.style.setProperty(e,n,r&dn.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&dn.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Ca(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Ca(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,va(n)):this.eventManager.addEventListener(t,e,va(n))},t}(),wa="@".charCodeAt(0);function Ca(t,e){if(t.charCodeAt(0)===wa)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Ea,Sa=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=ma(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=ya.replace(fa,r.id),o.hostAttr=ga.replace(fa,r.id),o}return Object(r.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(ba),Ta=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var l=ma(o.id,o.styles,[]),u=0;u<l.length;u++){var a=document.createElement("style");a.textContent=l[u],i.shadowRoot.appendChild(a)}return i}return Object(r.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ba),Oa="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Ia=Oa("addEventListener"),xa=Oa("removeEventListener"),Pa={},ka="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Oa("BLACK_LISTED_EVENTS")]&&(Ea={});var Aa=function(t){return!!Ea&&Ea.hasOwnProperty(t)},Na=function(t){var e=Pa[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(l=n[0]).zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==t[ka];i++){var l;(l=o[i]).zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r)}}}},Da=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(r.__extends)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ka]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[Ia]||Be.isInAngularZone()&&!Aa(e))t.addEventListener(e,o,!1);else{var i=Pa[e];i||(i=Pa[e]=Oa("ANGULAR"+e+"FALSE"));var l=t[i],u=l&&l.length>0;l||(l=t[i]=[]);var a=Aa(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:a,handler:o});else{for(var s=!1,c=0;c<l.length;c++)if(l[c].handler===o){s=!0;break}s||l.push({zone:a,handler:o})}u||t[Ia](e,Na,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[xa];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var o=Pa[e],i=o&&t[o];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);for(var l=!1,u=0;u<i.length;u++)if(i[u].handler===n){l=!0,i.splice(u,1);break}l?0===i.length&&r.apply(t,[e,Na,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(ca),Ra={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ma=new bt("HammerGestureConfig"),La=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Fa=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(r.__extends)(e,t),e.prototype.supports=function(t){if(!Ra.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();return e=e.toLowerCase(),o.runOutsideAngular(function(){var i=r._config.buildHammer(t),l=function(t){o.runGuarded(function(){n(t)})};return i.on(e,l),function(){return i.off(e,l)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ca),Va=["alt","control","meta","shift"],ja={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ua=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var o=e.parseEventName(n),i=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Hu().onAndCancel(t,o.domEventName,i)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=e._normalizeKey(n.pop()),i="";if(Va.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;var l={};return l.domEventName=r,l.fullKey=i,l},e.getEventFullKey=function(t){var e="",n=Hu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Va.forEach(function(r){r!=n&&(0,ja[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(o){e.getEventFullKey(o)===t&&r.runGuarded(function(){return n(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ca),qa=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.DOM.removeAttribute(t,r)});for(var n=0,r=this.DOM.childNodesAsList(t);n<r.length;n++){var o=r[n];this.DOM.isElementNode(o)&&this.stripCustomNsAttrs(o)}},t}(),Ba=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ha=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wa(t){return(t=String(t)).match(Ba)||t.match(Ha)?t:(nn()&&Hu().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Qa(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function za(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];for(var l in i)i.hasOwnProperty(l)&&(n[l]=!0)}return n}var Ga,Ka=Qa("area,br,col,hr,img,wbr"),Ya=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xa=Qa("rp,rt"),$a=za(Xa,Ya),Za=za(Ka,za(Ya,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(Xa,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$a),Ja=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ts=Qa("srcset"),es=za(Ja,ts,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ns=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=Hu()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();Za.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var r,o=n.toLowerCase();es.hasOwnProperty(o)?(Ja[o]&&(t=Wa(t)),ts[o]&&(r=t,t=(r=String(r)).split(",").map(function(t){return Wa(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(is(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();Za.hasOwnProperty(e)&&!Ka.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(is(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),rs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,os=/([^\#-~ |!])/g;function is(t){return t.replace(/&/g,"&amp;").replace(rs,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(os,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ls=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),us=/^url\(([^)]+)\)$/,as=function(){},ss=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case er.NONE:return e;case er.HTML:return e instanceof hs?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=Hu(),r=null;try{Ga=Ga||new qa(t,n);var o=e?String(e):"";r=Ga.getInertBodyElement(o);var i=5,l=o;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,o=l,l=n.getInnerHTML(r),r=Ga.getInertBodyElement(o)}while(o!==l);var u=new ns,a=u.sanitizeChildren(n.getTemplateContent(r)||r);return nn()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(r)for(var s=n.getTemplateContent(r)||r,c=0,h=n.childNodesAsList(s);c<h.length;c++)n.removeChild(s,h[c])}}(this._doc,String(e)));case er.STYLE:return e instanceof ds?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(us);return e&&Wa(e[1])===e[1]||t.match(ls)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(nn()&&Hu().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case er.SCRIPT:if(e instanceof ps)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case er.URL:return e instanceof gs||e instanceof fs?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Wa(String(e)));case er.RESOURCE_URL:if(e instanceof gs)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof cs)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new hs(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ds(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ps(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new fs(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new gs(t)},e}(as),cs=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(cs),ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(cs),ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(cs),fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(cs),gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(cs),ys=on(Yn,"browser",[{provide:be,useValue:"browser"},{provide:_e,useValue:function(){Yu.makeCurrent(),ra.init()},multi:!0},{provide:wl,useClass:Ju,deps:[$u]},{provide:$u,useFactory:function(){return document},deps:[]}]);function ms(){return new he}var vs=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:ye,useValue:e.appId},{provide:ea,useExisting:ye},na]}},t}();"undefined"!=typeof window&&window;var _s=function(){function t(t,e){this.db=t,this._sanitizer=e}return t.prototype.ngOnInit=function(){var t=this;console.log(this.restroId),this.restroDetail=this.db.list("table",function(e){return e.orderByChild("hid").equalTo(t.restroId)}).valueChanges(),this.db.list("menu",function(e){return e.orderByChild("restaurant_id").equalTo(t.restroId)}).valueChanges().subscribe(function(e){for(var n in t.restroVideo=e[0],t.restroVideo){t.restroVideo=t.restroVideo[n][0].video_url,t.restroVideo=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+t.restroVideo+"?rel=0"),console.log(t.restroVideo);break}})},t}(),bs=br({encapsulation:0,styles:[[""]],data:{}});function ws(t){return hi(0,[(t()(),Xr(0,0,null,null,22,"div",[["class","row"],["style","background-color: #171a29;padding-top:3%;padding-left:10%; padding-right:7%;padding-bottom:3%;max-height: 30vh"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(2,0,null,null,4,"div",[["class","col-sm-4 col-md-4 "]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(4,0,null,null,1,"iframe",[["allowfullscreen",""],["class","card-img-top"],["id","videoTop"]],[[8,"src",5]],null,null,null,null)),(t()(),ai(-1,null,["  "])),(t()(),ai(-1,null,["            \n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(8,0,null,null,13,"div",[["class","col-sm-8 col-md-8 pl-5"],["style","color:#eee;width:100%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n\n        "])),(t()(),Xr(10,0,null,null,1,"h2",[["style","color:white"]],null,null,null,null,null)),(t()(),ai(11,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(14,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(17,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(19,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(20,null,["Cost for two : ",""])),(t()(),ai(-1,null,["\n\n    "])),(t()(),ai(-1,null,["\n"]))],null,function(t,e){t(e,4,0,e.component.restroVideo),t(e,11,0,e.context.$implicit.hname),t(e,14,0,e.context.$implicit.h_address),t(e,17,0,e.context.$implicit.hcuisine_type),t(e,20,0,e.context.$implicit.h_cost_for_two)})}function Cs(t){return hi(0,[(t()(),Yr(16777216,null,null,2,null,ws)),Fo(1,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En]),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0,mr(e,1,0,To(e,2).transform(n.restroDetail)))},null)}var Es=function(){function t(t){this.db=t}return t.prototype.ngOnChanges=function(){var t=this;this.restroDetail=this.db.list("menu",function(e){return e.orderByChild("restaurant_id").equalTo(t.restroId)}).valueChanges(),this.restroDetail.subscribe(function(e){var n=e[0];delete n.longitude,delete n.restaurant_id,delete n.restaurant_name,delete n.latitude;var r=Object.keys(n);t.restroKeys=ht(r)})},t.prototype.setActive=function(t){this.activeMenu=t},t.prototype.navEleClick=function(t){var e=$("[id='"+t+"2']");console.log(e),$("body, html").animate({scrollTop:e.offset().top-250},500)},t}(),Ss=br({encapsulation:0,styles:[[".sideNav[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:50vh;z-index:1}.navEle[_ngcontent-%COMP%]{font-size:130%;font-family:sans-serif}.active[_ngcontent-%COMP%]{font-size:170%;color:rgba(240,59,59,.938)}"]],data:{}});function Ts(t){return hi(0,[(t()(),Xr(0,0,null,null,6,"div",[["style","width:100%;text-align: right;cursor: pointer;"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.navEleClick(t.context.$implicit)&&r),r},null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,3,"li",[["class","m-2 navEle"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setActive(t.context.$implicit)&&r),r},null,null)),Fo(3,278528,null,0,Ml,[Wn,Qn,fn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),li(4,{active:0}),(t()(),ai(5,null,["\n        ","\n      "])),(t()(),ai(-1,null,["\n  "]))],function(t,e){t(e,3,0,"m-2 navEle",t(e,4,0,e.component.activeMenu==e.context.$implicit))},function(t,e){t(e,5,0,e.context.$implicit)})}function Os(t){return hi(0,[(t()(),Xr(0,0,null,null,5,"ul",[["class","pr-5 sideNav list-unstyled"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Yr(16777216,null,null,2,null,Ts)),Fo(3,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En]),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,mr(e,3,0,To(e,4).transform(n.restroKeys)))},null)}var Is=function(){function t(t,e){this.db=t,this._sanitizer=e}return t.prototype.ngOnChanges=function(){var t=this;this.db.list("menu",function(e){return e.orderByChild("restaurant_id").equalTo(t.restroId)}).valueChanges().subscribe(function(e){var n=e[0];delete n.longitude,delete n.restaurant_id,delete n.restaurant_name,delete n.latitude;var r=Object.keys(n);t.restroKeys=ht(r),t.restroDetail=e[0]})},t.prototype.changeTopVideo=function(t){var e="https://www.youtube.com/embed/"+t+"?rel=0";$("#videoTop").attr("src",e)},t}(),xs=br({encapsulation:0,styles:[[""]],data:{}});function Ps(t){return hi(0,[(t()(),Xr(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ks(t){return hi(0,[(t()(),ai(-1,null,["\n            \n              "])),(t()(),Xr(1,0,null,null,3,"span",[["style","display:inline-block;width:2%;border:0.5px solid green; padding:5px"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(3,0,null,null,0,"div",[["style","height:10px;width:10px;border-radius:50%;background-color: green"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,[" \n\n          "]))],null,null)}function As(t){return hi(0,[(t()(),ai(-1,null,["\n            \n              "])),(t()(),Xr(1,0,null,null,3,"span",[["style","display:inline-block;width:2%;border:0.5px solid red; padding:5px"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(3,0,null,null,0,"div",[["style","height:10px;width:10px;border-radius:50%;background-color: red"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n\n          "]))],null,null)}function Ns(t){return hi(0,[(t()(),Xr(0,0,null,null,20,"ul",[["class","list-unstyled mb-0 mt-4"],["style","border-bottom:2px solid #bbb "]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(2,0,null,null,17,"li",[["style","color:#777;cursor: pointer;"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeTopVideo(t.context.$implicit.video_url)&&r),r},null,null)),(t()(),ai(-1,null,["\n        \n      "])),(t()(),Xr(4,0,null,null,8,"p",[["style","color:#222;font-weight: bold"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          \n        "])),(t()(),Yr(16777216,null,null,1,null,Ps)),Fo(7,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(t()(),ai(-1,null,["\n         \n        "])),(t()(),Yr(0,[["vegLogo",2]],null,0,null,ks)),(t()(),ai(-1,null,["\n\n          "])),(t()(),Yr(0,[["nonvegLogo",2]],null,0,null,As)),(t()(),ai(12,null,["          \n        \n        ","\n      "])),(t()(),ai(-1,null,["\n\n        "])),(t()(),Xr(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(15,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(17,0,null,null,1,"p",[["style","color:#222"]],null,null,null,null,null)),(t()(),ai(18,null,["\u20b9 ",""])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n  "]))],function(t,e){t(e,7,0,0==e.context.$implicit.veg,To(e,9),To(e,11))},function(t,e){t(e,12,0,e.context.$implicit.name),t(e,15,0,e.context.$implicit.desc),t(e,18,0,e.context.$implicit.price)})}function Ds(t){return hi(0,[(t()(),Xr(0,0,null,null,7,"div",[["class","pt-3 rightData"],["style","border-bottom:3px solid black"]],[[8,"id",0]],null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ai(3,null,["",""])),(t()(),ai(-1,null,["\n  "])),(t()(),Yr(16777216,null,null,1,null,Ns)),Fo(6,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,6,0,e.component.restroDetail[e.context.$implicit])},function(t,e){t(e,0,0,Gr(1,"",e.context.$implicit,"2")),t(e,3,0,e.context.$implicit)})}function Rs(t){return hi(0,[(t()(),Yr(16777216,null,null,2,null,Ds)),Fo(1,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En])],function(t,e){var n=e.component;t(e,1,0,mr(e,1,0,To(e,2).transform(n.restroKeys)))},null)}function Ms(t){return function(t,e){return it(t,void 0,1)}(t)(this)}function Ls(t,e){return void 0===e&&(e=Number.POSITIVE_INFINITY),it(t,e)(this)}var Fs=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Vs(t,this.selector,this.caught))},t}(),Vs=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return r.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Y(this,n))}},e}(X);function js(t){return function(t){return function(e){var n=new Fs(t),r=e.lift(n);return n.caught=r}}(t)(this)}function Us(){return st(1)(this)}var qs=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error),Bs=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error),Hs=function(){function t(t){if(this.total=t,this.total<0)throw new Bs}return t.prototype.call=function(t,e){return e.subscribe(new Ws(t,this.total))},t}(),Ws=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(_);function Qs(t){return void 0===t&&(t=null),function(e){return e.lift(new zs(t))}}var zs=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Gs(t,this.defaultValue))},t}(),Gs=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(_),Ks=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Ys(t,this.nextOrObserver,this.error,this.complete))},t}(),Ys=function(t){function e(e,n,r,i){var l=t.call(this,e)||this;return l._tapNext=C,l._tapError=C,l._tapComplete=C,l._tapError=r||C,l._tapComplete=i||C,o(n)?(l._context=l,l._tapNext=n):n&&(l._context=n,l._tapNext=n.next||C,l._tapError=n.error||C,l._tapComplete=n.complete||C),l}return r.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(_),Xs=function(t){return void 0===t&&(t=$s),e={hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}},function(t){return t.lift(new Ks(e,void 0,void 0))};var e};function $s(){return new qs}function Zs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Cu(function(e,n){return t(e,n,r)}):at,function(t){return t.lift(new Hs(1))},n?Qs(e):Xs(function(){return new qs}))}}).apply(void 0,t)(this)}var Js=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new tc(t,this.predicate,this.thisArg,this.source))},t}(),tc=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(_);function ec(t,e){return function(t,e){return function(n){return n.lift(new Js(t,e,n))}}(t,e)(this)}function nc(t){return function(e){return 0===t?j():e.lift(new rc(t))}}var rc=function(){function t(t){if(this.total=t,this.total<0)throw new Bs}return t.prototype.call=function(t,e){return e.subscribe(new oc(t,this.total))},t}(),oc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(_);function ic(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Cu(function(e,n){return t(e,n,r)}):at,nc(1),n?Qs(e):Xs(function(){return new qs}))}}).apply(void 0,t)(this)}function lc(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),st(t)(this)}function uc(t,e){return arguments.length>=2?function(n){return E(mu(t,e),nc(1),Qs(e))(n)}:function(e){return E(mu(function(e,n,r){return t(e,n,r+1)}),nc(1))(e)}}var ac=function(t,e){this.id=t,this.url=e},sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(ac),cc=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(ac),hc=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.reason=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(ac),dc=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.error=r,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(ac),pc=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ac),fc=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ac),gc=function(t){function e(e,n,r,o,i){var l=t.call(this,e,n)||this;return l.urlAfterRedirects=r,l.state=o,l.shouldActivate=i,l}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(ac),yc=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ac),mc=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ac),vc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),_c=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),bc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),wc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Cc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ec=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Sc="primary",Tc=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Oc(t){return new Tc(t)}function Ic(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var l=r[i],u=t[i];if(l.startsWith(":"))o[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}var xc=function(t,e){this.routes=t,this.module=e};function Pc(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];kc(r,Ac(e,r))}}function kc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Sc)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Pc(t.children,e)}function Ac(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Nc(t){var e=t.children&&t.children.map(Nc);return e?Object(r.__assign)({},t,{children:e}):Object(r.__assign)({},t)}function Dc(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(t[n=r[i]]!==e[n])return!1;return!0}function Rc(t){return Array.prototype.concat.apply([],t)}function Mc(t){return t.length>0?t[t.length-1]:null}function Lc(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fc(t){var e=lc.call(t);return ec.call(e,function(t){return!0===t})}function Vc(t){return pe(t)?t:de(t)?rt(Promise.resolve(t)):ht(t)}function jc(t,e,n){return n?function(t,e){return Dc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Hc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!Hc(l=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Hc(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var l=o.slice(0,n.segments.length),u=o.slice(n.segments.length);return!!Hc(n.segments,l)&&!!n.children[Sc]&&e(n.children[Sc],r,u)}(e,n,n.segments)}(t.root,e.root)}var Uc=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Oc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Gc.serialize(this)},t}(),qc=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Lc(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Kc(this)},t}(),Bc=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Oc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return th(this)},t}();function Hc(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Wc(t,e){var n=[];return Lc(t.children,function(t,r){r===Sc&&(n=n.concat(e(t,r)))}),Lc(t.children,function(t,r){r!==Sc&&(n=n.concat(e(t,r)))}),n}var Qc=function(){},zc=function(){function t(){}return t.prototype.parse=function(t){var e=new ih(t);return new Uc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Kc(e);if(n){var r=e.children[Sc]?t(e.children[Sc],!1):"",o=[];return Lc(e.children,function(e,n){n!==Sc&&o.push(n+":"+t(e,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=Wc(e,function(n,r){return r===Sc?[t(e.children[Sc],!1)]:[r+":"+t(n,!1)]});return Kc(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Xc(t)+"="+Xc(e)}).join("&"):Xc(t)+"="+Xc(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Gc=new zc;function Kc(t){return t.segments.map(function(t){return th(t)}).join("/")}function Yc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xc(t){return Yc(t).replace(/%3B/gi,";")}function $c(t){return Yc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(t){return decodeURIComponent(t)}function Jc(t){return Zc(t.replace(/\+/g,"%20"))}function th(t){return""+$c(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+$c(t)+"="+$c(e[t])}).join(""));var e}var eh=/^[^\/()?;=&#]+/;function nh(t){var e=t.match(eh);return e?e[0]:""}var rh=/^[^=?&#]+/,oh=/^[^?&#]+/,ih=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qc([],{}):new qc([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Sc]=new qc(t,e)),n},t.prototype.parseSegment=function(){var t=nh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Bc(Zc(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=nh(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=nh(this.remaining);r&&this.capture(n=r)}t[Zc(e)]=Zc(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(rh))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(oh);return e?e[0]:""}(this.remaining);o&&this.capture(r=o)}var i=Jc(n),l=Jc(r);if(t.hasOwnProperty(i)){var u=t[i];Array.isArray(u)||(t[i]=u=[u]),u.push(l)}else t[i]=l}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=nh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Sc);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[Sc]:new qc([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),lh=function(t){this.segmentGroup=t||null},uh=function(t){this.urlTree=t};function ah(t){return new T(function(e){return e.error(new lh(t))})}function sh(t){return new T(function(e){return e.error(new uh(t))})}function ch(t){return new T(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var hh=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Me)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Sc),n=hu.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return js.call(n,function(e){if(e instanceof uh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof lh)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Sc),r=hu.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return js.call(r,function(t){if(t instanceof lh)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,o=t.segments.length>0?new qc([],((r={})[Sc]=t,r)):t;return new Uc(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?hu.call(this.expandChildren(t,e,n),function(t){return new qc([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return ht({});var i=[],l=[],u={};Lc(n,function(n,o){var a=hu.call(r.expandSegmentGroup(t,e,n,o),function(t){return u[o]=t});o===Sc?i.push(a):l.push(a)});var a=Us.call(ht.apply(void 0,i.concat(l))),s=ic.call(a);return hu.call(s,function(){return u})}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,i){var l=this,u=ht.apply(void 0,n),a=hu.call(u,function(u){var a=l.expandSegmentAgainstRoute(t,e,n,u,r,o,i);return js.call(a,function(t){if(t instanceof lh)return ht(null);throw t})}),s=Us.call(a),c=Zs.call(s,function(t){return!!t});return js.call(c,function(t,n){if(t instanceof qs||"EmptyError"===t.name){if(l.noLeftoversInUrl(e,r,o))return ht(new qc([],{}));throw new lh(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,l){return gh(r)!==i?ah(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):ah(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?sh(i):Ls.call(this.lineralizeSegments(n,i),function(n){var i=new qc(n,{});return o.expandSegment(t,i,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var l=this,u=dh(e,r,o),a=u.consumedSegments,s=u.lastChild,c=u.positionalParamSegments;if(!u.matched)return ah(e);var h=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?sh(h):Ls.call(this.lineralizeSegments(r,h),function(r){return l.expandSegment(t,e,n,r.concat(o.slice(s)),i,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,o){var i=this;if("**"===n.path)return n.loadChildren?hu.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new qc(o,{})}):ht(new qc(o,{}));var l=dh(e,n,o),u=l.consumedSegments,a=l.lastChild;if(!l.matched)return ah(e);var s=o.slice(a),c=this.getChildConfig(t,n);return Ls.call(c,function(t){var n=t.module,o=t.routes,l=function(t,e,n,o){return n.length>0&&function(t,e,n){return o.some(function(n){return fh(t,e,n)&&gh(n)!==Sc})}(t,n)?{segmentGroup:ph(new qc(e,function(t,e){var n={};n[Sc]=e;for(var r=0,o=t;r<o.length;r++){var i=o[r];""===i.path&&gh(i)!==Sc&&(n[gh(i)]=new qc([],{}))}return n}(o,new qc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return o.some(function(n){return fh(t,e,n)})}(t,n)?{segmentGroup:ph(new qc(t.segments,function(t,e,n,i){for(var l={},u=0,a=o;u<a.length;u++){var s=a[u];fh(t,e,s)&&!i[gh(s)]&&(l[gh(s)]=new qc([],{}))}return Object(r.__assign)({},i,l)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,s,o),a=l.segmentGroup,c=l.slicedSegments;if(0===c.length&&a.hasChildren()){var h=i.expandChildren(n,o,a);return hu.call(h,function(t){return new qc(u,t)})}if(0===o.length&&0===c.length)return ht(new qc(u,{}));var d=i.expandSegment(n,a,o,c,Sc,!0);return hu.call(d,function(t){return new qc(u.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?ht(new xc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ht(e._loadedConfig):Ls.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?Fc(hu.call(rt(n),function(n){var r=t.get(n);return Vc(r.canLoad?r.canLoad(e):r(e))})):ht(!0)}(t.injector,e),function(r){return r?hu.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new T(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)}):ht(new xc([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ht(n);if(r.numberOfChildren>1||!r.children[Sc])return ch(t.redirectTo);r=r.children[Sc]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new Uc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Lc(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),l={};return Lc(e.children,function(e,i){l[i]=o.createSegmentGroup(t,e,n,r)}),new qc(i,l)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i.path===t.path)return e.splice(n),i;n++}return t},t}();function dh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Ic)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ph(t){if(1===t.numberOfChildren&&t.children[Sc]){var e=t.children[Sc];return new qc(t.segments.concat(e.segments),e.children)}return t}function fh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gh(t){return t.outlet||Sc}var yh=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=mh(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=mh(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=vh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return vh(t,this._root).map(function(t){return t.value})},t}();function mh(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var o=mh(t,r[n]);if(o)return o}return null}function vh(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var o=vh(t,r[n]);if(o.length)return o.unshift(e),o}return[]}var _h=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function bh(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var wh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Ih(r,e),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(yh);function Ch(t,e){var n=function(t,e){var n=new Th([],{},{},"",{},Sc,e,null,t.root,-1,{});return new Oh("",new _h(n,[]))}(t,e),r=new N([new Bc("",{})]),o=new N({}),i=new N({}),l=new N({}),u=new N(""),a=new Eh(r,o,l,u,i,Sc,e,n.root);return a.snapshot=n.root,new wh(new _h(a,[]),n)}var Eh=function(){function t(t,e,n,r,o,i,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=l,this._futureSnapshot=u}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=hu.call(this.params,function(t){return Oc(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=hu.call(this.queryParams,function(t){return Oc(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Sh(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,o=0;if("always"!==e)for(o=n.length-1;o>=1;){var i=n[o],l=n[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(l.component)break;o--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.__assign)({},t.params,e.params),data:Object(r.__assign)({},t.data,e.data),resolve:Object(r.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(o))}var Th=function(){function t(t,e,n,r,o,i,l,u,a,s,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=l,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=s,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Oc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Oc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Oh=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Ih(r,n),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return xh(this._root)},e}(yh);function Ih(t,e){e.value._routerState=t,e.children.forEach(function(e){return Ih(t,e)})}function xh(t){var e=t.children.length>0?" { "+t.children.map(xh).join(", ")+" } ":"";return""+t.value+e}function Ph(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Dc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Dc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Dc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kh(t,e){var n,r;return Dc(t.params,e.params)&&Hc(n=t.url,r=e.url)&&n.every(function(t,e){return Dc(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||kh(t.parent,e.parent))}function Ah(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nh(t,e,n,r,o){var i={};return r&&Lc(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Uc(n.root===t?e:function t(e,n,r){var o={};return Lc(e.children,function(e,i){o[i]=e===n?r:t(e,n,r)}),new qc(e.segments,o)}(n.root,t,e),i,o)}var Dh=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ah(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Mc(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Rh=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function Mh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Sc]:""+t}function Lh(t,e,n){if(t||(t=new qc([],{})),0===t.segments.length&&t.hasChildren())return Fh(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var l=t.segments[o],u=Mh(n[r]),a=r<n.length-1?n[r+1]:null;if(o>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!qh(u,a,l))return i;r+=2}else{if(!qh(u,{},l))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new qc(t.segments.slice(0,r.pathIndex),{});return i.children[Sc]=new qc(t.segments.slice(r.pathIndex),t.children),Fh(i,0,o)}return r.match&&0===o.length?new qc(t.segments,{}):r.match&&!t.hasChildren()?Vh(t,e,n):r.match?Fh(t,0,o):Vh(t,e,n)}function Fh(t,e,n){if(0===n.length)return new qc(t.segments,{});var r=function(t){return"object"!=typeof t[0]?((e={})[Sc]=t,e):void 0===t[0].outlets?((n={})[Sc]=t,n):t[0].outlets;var e,n}(n),o={};return Lc(r,function(n,r){null!==n&&(o[r]=Lh(t.children[r],e,n))}),Lc(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new qc(t.segments,o)}function Vh(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=jh(n[o].outlets);return new qc(r,i)}if(0===o&&Ah(n[0]))r.push(new Bc(t.segments[e].path,n[0])),o++;else{var l=Mh(n[o]),u=o<n.length-1?n[o+1]:null;l&&u&&Ah(u)?(r.push(new Bc(l,Uh(u))),o+=2):(r.push(new Bc(l,{})),o++)}}return new qc(r,{})}function jh(t){var e={};return Lc(t,function(t,n){null!==t&&(e[n]=Vh(new qc([],{}),0,t))}),e}function Uh(t){var e={};return Lc(t,function(t,n){return e[n]=""+t}),e}function qh(t,e,n){return t==n.path&&Dc(e,n.parameters)}var Bh=function(t){this.path=t,this.route=this.path[this.path.length-1]},Hh=function(t,e){this.component=t,this.route=e},Wh=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return ht(!0);var e=this.runCanDeactivateChecks();return Ls.call(e,function(e){return e?t.runCanActivateChecks():ht(!1)})},t.prototype.resolveData=function(t){var e=this;if(!this.isActivating())return ht(null);var n=rt(this.canActivateChecks),r=Ms.call(n,function(n){return e.runResolve(n.route,t)});return(function(t,e){return arguments.length>=2?uc(t,e)(this):uc(t)(this)}).call(r,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var o=this,i=bh(e);t.children.forEach(function(t){o.setupRouteGuards(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),Lc(i,function(t,e){return o.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var o=t.value,i=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){var u=this.shouldRunGuardsAndResolvers(i,o,o.routeConfig.runGuardsAndResolvers);u?this.canActivateChecks.push(new Bh(r)):(o.data=i.data,o._resolvedData=i._resolvedData),this.setupChildRouteGuards(t,e,o.component?l?l.children:null:n,r),u&&this.canDeactivateChecks.push(new Hh(l.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(e,l),this.canActivateChecks.push(new Bh(r)),this.setupChildRouteGuards(t,null,o.component?l?l.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!kh(t,e)||!Dc(t.queryParams,e.queryParams);case"paramsChange":default:return!kh(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=bh(t),o=t.value;Lc(r,function(t,r){n.deactivateRouteAndItsChildren(t,o.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new Hh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=rt(this.canDeactivateChecks),n=Ls.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ec.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=rt(this.canActivateChecks),n=Ms.call(e,function(e){return Fc(rt([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ec.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Cc(t)),ht(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new bc(t)),ht(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Fc(hu.call(rt(n),function(n){var r,o=e.getToken(n,t);return r=Vc(o.canActivate?o.canActivate(t,e.future):o(t,e.future)),Zs.call(r)})):ht(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return Fc(hu.call(rt(r),function(t){return Fc(hu.call(rt(t.guards),function(r){var o,i=e.getToken(r,t.node);return o=Vc(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)),Zs.call(o)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return ht(!0);var o=Ls.call(rt(r),function(r){var o,i=n.getToken(r,e);return o=Vc(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)),Zs.call(o)});return ec.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t,e){return hu.call(this.resolveNode(t._resolve,t),function(n){return t._resolvedData=n,t.data=Object(r.__assign)({},t.data,Sh(t,e).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return ht({});if(1===r.length){var o=r[0];return hu.call(this.getResolver(t[o],e),function(t){return(e={})[o]=t,e;var e})}var i={},l=Ls.call(rt(r),function(r){return hu.call(n.getResolver(t[r],e),function(t){return i[r]=t,t})});return hu.call(ic.call(l),function(){return i})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Vc(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Qh=function(){},zh=function(){function t(t,e,n,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o}return t.prototype.recognize=function(){try{var t=Yh(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Sc),n=new Th([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Sc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _h(n,e),o=new Oh(this.url,r);return this.inheritParamsAndData(o._root),ht(o)}catch(t){return new T(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Sh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,o=Wc(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===Sc?-1:e.value.outlet===Sc?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,r){for(var o=0,i=t;o<i.length;o++){var l=i[o];try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(t){if(!(t instanceof Qh))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Qh},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,o){if(t.redirectTo)throw new Qh;if((t.outlet||Sc)!==o)throw new Qh;var i,l=[],u=[];if("**"===t.path){var a=n.length>0?Mc(n).parameters:{};i=new Th(n,a,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Zh(t),o,t.component,t,Gh(e),Kh(e)+n.length,Jh(t))}else{var s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Qh;return{consumedSegments:[],lastChild:0,parameters:{}}}var o=(e.matcher||Ic)(n,t,e);if(!o)throw new Qh;var i={};Lc(o.posParams,function(t,e){i[e]=t.path});var l=o.consumed.length>0?Object(r.__assign)({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:l}}(e,t,n);l=s.consumedSegments,u=n.slice(s.lastChild),i=new Th(l,s.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Zh(t),o,t.component,t,Gh(e),Kh(e)+l.length,Jh(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Yh(e,l,u,c),d=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&d.hasChildren()){var f=this.processChildren(c,d);return[new _h(i,f)]}if(0===c.length&&0===p.length)return[new _h(i,[])];var g=this.processSegment(c,d,p,Sc);return[new _h(i,g)]},t}();function Gh(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Kh(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yh(t,e,n,o){if(n.length>0&&function(t,e,n){return o.some(function(n){return Xh(t,e,n)&&$h(n)!==Sc})}(t,n)){var i=new qc(e,function(t,e,n,r){var o={};o[Sc]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var i=0,l=n;i<l.length;i++){var u=l[i];if(""===u.path&&$h(u)!==Sc){var a=new qc([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,o[$h(u)]=a}}return o}(t,e,o,new qc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return o.some(function(n){return Xh(t,e,n)})}(t,n)){var l=new qc(t.segments,function(t,e,n,i){for(var l={},u=0,a=o;u<a.length;u++){var s=a[u];if(Xh(t,e,s)&&!i[$h(s)]){var c=new qc([],{});c._sourceSegment=t,c._segmentIndexShift=t.segments.length,l[$h(s)]=c}}return Object(r.__assign)({},i,l)}(t,n,0,t.children));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}var u=new qc(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Xh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $h(t){return t.outlet||Sc}function Zh(t){return t.data||{}}function Jh(t){return t.resolve||{}}var td=function(){},ed=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),nd=new bt("ROUTES"),rd=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return hu.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new xc(Rc(o.injector.get(nd)).map(Nc),o)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?rt(this.loader.load(t)):Ls.call(Vc(t()),function(t){return t instanceof Le?ht(t):rt(e.compiler.compileModuleAsync(t))})},t}(),od=function(){},id=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function ld(t){throw t}function ud(t){return ht(null)}var ad=function(){function t(t,e,n,r,o,i,l,u){var a=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.navigations=new N(null),this.navigationId=0,this.events=new k,this.errorHandler=ld,this.navigated=!1,this.hooks={beforePreactivation:ud,afterPreactivation:ud},this.urlHandlingStrategy=new id,this.routeReuseStrategy=new ed,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=o.get(Me),this.resetConfig(u),this.currentUrlTree=new Uc(new qc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new rd(i,l,function(t){return a.triggerEvent(new vc(t))},function(t){return a.triggerEvent(new _c(t))}),this.routerState=Ch(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Pc(t),this.config=t.map(Nc),this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,i=e.fragment,l=e.preserveQueryParams,u=e.queryParamsHandling,a=e.preserveFragment;nn()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var s=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,h=null;if(u)switch(u){case"merge":h=Object(r.__assign)({},this.currentUrlTree.queryParams,o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}else h=l?this.currentUrlTree.queryParams:o||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,o){if(0===n.length)return Nh(e.root,e.root,e,r,o);var i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dh(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return Lc(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:i}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new Dh(n,e,r)}(n);if(i.toRoot())return Nh(e.root,new qc([],{}),e,r,o);var l=function(t,n,r){if(t.isAbsolute)return new Rh(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Rh(r.snapshot._urlSegment,!0,0);var o=Ah(t.commands[0])?0:1;return function(e,n,i){for(var l=r.snapshot._urlSegment,u=r.snapshot._lastPathIndex+o,a=t.numberOfDoubleDots;a>u;){if(a-=u,!(l=l.parent))throw new Error("Invalid number of '../'");u=l.segments.length}return new Rh(l,!1,u-a)}()}(i,0,t),u=l.processChildren?Fh(l.segmentGroup,l.index,i.commands):Lh(l.segmentGroup,l.index,i.commands);return Nh(l.segmentGroup,u,e,r,o)}(s,this.currentUrlTree,t,h,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Uc?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Uc)return jc(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return jc(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;Ms.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):ht(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,i=null,l=new Promise(function(t,e){o=t,i=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,rawUrl:t,extras:n,resolve:o,reject:i,promise:l}),l.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,o=t.extras,i=t.resolve,l=t.reject,u=this.urlHandlingStrategy.extract(r),a=!this.navigated||u.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||a)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new sc(n,this.serializeUrl(u))),Promise.resolve().then(function(t){return e.runNavigate(u,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,l)):a&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new sc(n,this.serializeUrl(u))),Promise.resolve().then(function(t){return e.runNavigate(u,r,!1,!1,n,Ch(u,e.rootComponentType).snapshot)}).then(i,l)):(this.rawUrlTree=r,i(null))},t.prototype.runNavigate=function(t,e,n,r,o,i){var l=this;return o!==this.navigationId?(this.events.next(new hc(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,a){var s;if(i)s=ht({appliedUrl:t,snapshot:i});else{var c=new hh(l.ngModule.injector,l.configLoader,l.urlSerializer,t,l.config).apply();s=Ls.call(c,function(e){return hu.call(function(t,e,n,r,o){return void 0===o&&(o="emptyOnly"),new zh(t,e,n,r,o).recognize()}(l.rootComponentType,l.config,e,l.serializeUrl(e),l.paramsInheritanceStrategy),function(n){return l.events.next(new pc(o,l.serializeUrl(t),l.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,d=Ls.call(s,function(t){return hu.call(l.hooks.beforePreactivation(t.snapshot),function(){return t})}),p=hu.call(d,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new Wh(n,l.routerState.snapshot,l.ngModule.injector,function(t){return l.triggerEvent(t)})).initialize(l.rootContexts),{appliedUrl:e,snapshot:n}}),f=Ls.call(p,function(e){var n=e.appliedUrl,r=e.snapshot;return l.navigationId!==o?ht(!1):(l.triggerEvent(new fc(o,l.serializeUrl(t),n,r)),hu.call(h.checkGuards(),function(e){return l.triggerEvent(new gc(o,l.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),g=Ls.call(f,function(e){return l.navigationId!==o?ht(!1):e.shouldActivate&&h.isActivating()?(l.triggerEvent(new yc(o,l.serializeUrl(t),e.appliedUrl,e.snapshot)),hu.call(h.resolveData(l.paramsInheritanceStrategy),function(){return l.triggerEvent(new mc(o,l.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):ht(e)}),y=Ls.call(g,function(t){return hu.call(l.hooks.afterPreactivation(t.snapshot),function(){return t})}),m=hu.call(y,function(t){var e,n,r,o=t.appliedUrl,i=t.shouldActivate;return i?{appliedUrl:o,state:(r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){for(var o=0,i=r.children;o<i.length;o++){var l=i[o];if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}return t(e,n)})}(e,n,r);return new _h(u,o)}if(e.retrieve(n.value)){var i=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,i),i}var l,u=new Eh(new N((l=n.value).url),new N(l.params),new N(l.queryParams),new N(l.fragment),new N(l.data),l.outlet,l.component,l);return o=n.children.map(function(n){return t(e,n)}),new _h(u,o)}(l.routeReuseStrategy,(e=t.snapshot)._root,(n=l.routerState)?n._root:void 0),new wh(r,e)),shouldActivate:i}:{appliedUrl:o,state:null,shouldActivate:i}});l.activateRoutes(m,l.routerState,l.currentUrlTree,o,t,e,n,r,u,a)})},t.prototype.activateRoutes=function(t,e,n,r,o,i,l,u,a,s){var c,h=this;t.forEach(function(t){var n=t.state;if(t.shouldActivate&&r===h.navigationId){if(h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,i),h.routerState=n,!l){var o=h.urlSerializer.serialize(h.rawUrlTree);h.location.isCurrentPathEqualTo(o)||u?h.location.replaceState(o):h.location.go(o)}new sd(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),c=!0}else c=!1}).then(function(){c?(h.navigated=!0,h.events.next(new cc(r,h.serializeUrl(o),h.serializeUrl(h.currentUrlTree))),a(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new hc(r,h.serializeUrl(o),"")),a(!1))},function(t){if((l=t)&&l.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,i),h.events.next(new hc(r,h.serializeUrl(o),t.message)),a(!1);else{h.resetStateAndUrl(e,n,i),h.events.next(new dc(r,h.serializeUrl(o),t));try{a(h.errorHandler(t))}catch(t){s(t)}}var l})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),sd=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ph(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=bh(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),Lc(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=bh(t),i=t.value.component?r.children:e;Lc(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=bh(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new Ec(t.value.snapshot))}),t.children.length&&this.forwardEvent(new wc(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(Ph(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(l.contexts),i.attachRef=l.componentRef,i.route=l.route.value,i.outlet&&i.outlet.attach(l.componentRef,l.route.value),cd(l.route)}else{var u=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),a=u?u.module.componentFactoryResolver:null;i.route=r,i.resolver=a,i.outlet&&i.outlet.activateWith(r,a),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,n)},t}();function cd(t){Ph(t.value),t.children.forEach(cd)}var hd=function(){function t(t,e,n,r,o){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(o.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){nn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:pd(this.skipLocationChange),replaceUrl:pd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pd(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),dd=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof cc&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){nn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:pd(this.skipLocationChange),replaceUrl:pd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pd(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function pd(t){return""===t||!!t}var fd=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gd,this.attachRef=null}}(),gd=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new fd,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),yd=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new qe,this.deactivateEvents=new qe,this.name=r||Sc,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new md(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),md=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Eh?this.route:t===gd?this.childContexts:this.parent.get(t,e)},t}(),vd=function(){},_d=function(){function t(){}return t.prototype.preload=function(t,e){return js.call(e(),function(){return ht(null)})},t}(),bd=function(){function t(){}return t.prototype.preload=function(t,e){return ht(null)},t}(),wd=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new rd(e,n,function(e){return t.triggerEvent(new vc(e))},function(e){return t.triggerEvent(new _c(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=Tu.call(this.router.events,function(t){return t instanceof cc});this.subscription=Ms.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(Me);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var l=i._loadedConfig;n.push(this.processRoutes(l.module,l.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children))}return lc.call(rt(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return Ls.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),Cd=new bt("ROUTER_CONFIGURATION"),Ed=new bt("ROUTER_FORROOT_GUARD"),Sd=[Tl,{provide:Qc,useClass:zc},{provide:ad,useFactory:kd,deps:[sn,Qc,gd,Tl,Qt,gn,Se,nd,Cd,[od,new It],[td,new It]]},gd,{provide:Eh,useFactory:Ad,deps:[ad]},{provide:gn,useClass:_n},wd,bd,_d,{provide:Cd,useValue:{enableTracing:!1}}];function Td(){return new rn("Router",ad)}var Od=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Sd,Pd(e),{provide:Ed,useFactory:xd,deps:[[ad,new It,new Pt]]},{provide:Cd,useValue:n||{}},{provide:El,useFactory:Id,deps:[wl,[new Ot(Sl),new It],Cd]},{provide:vd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bd},{provide:rn,multi:!0,useFactory:Td},[Nd,{provide:fe,multi:!0,useFactory:Dd,deps:[Nd]},{provide:Md,useFactory:Rd,deps:[Nd]},{provide:we,multi:!0,useExisting:Md}]]}},t.forChild=function(e){return{ngModule:t,providers:[Pd(e)]}},t}();function Id(t,e,n){return void 0===n&&(n={}),n.useHash?new Il(t,e):new xl(t,e)}function xd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Pd(t){return[{provide:Et,multi:!0,useValue:t},{provide:nd,multi:!0,useValue:t}]}function kd(t,e,n,r,o,i,l,u,a,s,c){void 0===a&&(a={});var h=new ad(null,e,n,r,o,i,l,Rc(u));if(s&&(h.urlHandlingStrategy=s),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.enableTracing){var d=Hu();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),h}function Ad(t){return t.routerState.root}var Nd=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Cl,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(ad),o=t.injector.get(Cd);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?ht(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Cd),n=this.injector.get(wd),r=this.injector.get(ad),o=this.injector.get(sn);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Dd(t){return t.appInitializer.bind(t)}function Rd(t){return t.bootstrapListener.bind(t)}var Md=new bt("Router Initializer"),Ld=function(){function t(t){this.route=t,this.restroId=this.route.snapshot.paramMap.get("restroId"),this.parentMessage=this.restroId,console.log(this.parentMessage)}return t.prototype.ngOnInit=function(){},t}(),Fd=br({encapsulation:0,styles:[[".topBar[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}"]],data:{}});function Vd(t){return hi(0,[(t()(),Xr(0,0,null,null,25,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(2,0,null,null,5,"div",[["class","topBar"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(4,0,null,null,2,"app-page-two-top",[],null,null,null,Cs,bs)),jo(512,null,ju,ju,[$l]),Fo(6,114688,null,0,_s,[ju,as],{restroId:[0,"restroId"]},null),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n\n  "])),(t()(),Xr(9,0,null,null,15,"div",[["class","row"],["style","padding-top:3%;padding-left:4%;padding-bottom:3%;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(11,0,null,null,5,"div",[["class","col-sm-4 col-md-4 pr-3 "],["style","border-right:1px solid #ddd;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(13,0,null,null,2,"app-page-two-side-nav",[],null,null,null,Os,Ss)),jo(512,null,ju,ju,[$l]),Fo(15,573440,null,0,Es,[ju],{restroId:[0,"restroId"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n\n        "])),(t()(),Xr(18,0,null,null,5,"div",[["class","col-sm-8 col-md-8 pl-5"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n           "])),(t()(),Xr(20,0,null,null,2,"app-page-two-right-data",[],null,null,null,Rs,xs)),jo(512,null,ju,ju,[$l]),Fo(22,573440,null,0,Is,[ju,as],{restroId:[0,"restroId"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,6,0,n.parentMessage),t(e,15,0,n.parentMessage),t(e,22,0,n.parentMessage)},null)}var jd=fo("app-page-two",Ld,function(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-page-two",[],null,null,null,Vd,Fd)),Fo(1,114688,null,0,Ld,[Eh],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ud=function(){function t(){this.Feature=new qe}return t.prototype.ngOnInit=function(){},t.prototype.featureSelected=function(t){this.Feature.emit(t)},t}(),qd=br({encapsulation:0,styles:[[""]],data:{}});function Bd(t){return hi(0,[(t()(),Xr(0,0,null,null,52,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,49,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(4,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(6,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Home")&&r),r},null,null)),(t()(),ai(-1,null,["Home "])),(t()(),Xr(8,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(12,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(14,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Orders")&&r),r},null,null)),(t()(),ai(-1,null,["Orders "])),(t()(),Xr(16,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(20,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(22,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("TableBooking")&&r),r},null,null)),(t()(),ai(-1,null,["Table-Booking "])),(t()(),Xr(24,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(28,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(30,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Menu")&&r),r},null,null)),(t()(),ai(-1,null,["Menu Items "])),(t()(),Xr(32,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(36,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(38,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Offers")&&r),r},null,null)),(t()(),ai(-1,null,["Offers "])),(t()(),Xr(40,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(44,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(46,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("info")&&r),r},null,null)),(t()(),ai(-1,null,["Restaurant Info"])),(t()(),Xr(48,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "]))],null,null)}function Hd(t){return hi(0,[(t()(),Xr(0,0,null,null,17,"ul",[["class","navbar-nav navbar-right"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(4,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Signup")&&r),r},null,null)),(t()(),ai(-1,null,["Signup "])),(t()(),Xr(6,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(10,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(12,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Login")&&r),r},null,null)),(t()(),ai(-1,null,["Login "])),(t()(),Xr(14,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "]))],null,null)}function Wd(t){return hi(0,[(t()(),Xr(0,0,null,null,9,"ul",[["class","navbar-nav navbar-right"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,6,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(4,0,null,null,3,"a",[["class","nav-link"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.featureSelected("Login")&&r),r},null,null)),(t()(),ai(-1,null,["Logout "])),(t()(),Xr(6,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),ai(-1,null,["(current)"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "]))],null,null)}function Qd(t){return hi(0,[(t()(),Xr(0,0,null,null,21,"nav",[["class","navbar navbar-expand-lg navbar-light bg-light"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),ai(-1,null,["Binge"])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(7,0,null,null,3,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(9,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n\n    "])),(t()(),Yr(16777216,null,null,1,null,Bd)),Fo(13,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n    "])),(t()(),Yr(16777216,null,null,1,null,Hd)),Fo(16,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n    "])),(t()(),Yr(16777216,null,null,1,null,Wd)),Fo(19,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,13,0,n.user),t(e,16,0,!n.user),t(e,19,0,n.user)},null)}var zd=function(){function t(t){this.navEle=t.list("categories").valueChanges()}return t.prototype.setActive=function(t){this.activeMenu=t.toLowerCase()},t.prototype.ngOnInit=function(){},t.prototype.rightDataReady=function(){var t=this;setTimeout(function(){t.navEleClick(t.category)},1e3)},t.prototype.ngAfterViewInit=function(){this.setActive(this.category.toLowerCase())},t.prototype.navEleClick=function(t){console.log("navcli "+t);var e="[id='"+(t=t.toLowerCase())+"']";console.log(e);var n=$(e);console.log(n),$("body, html").animate({scrollTop:n.offset().top-250},500)},t}(),Gd=br({encapsulation:0,styles:[[".list-ele[_ngcontent-%COMP%]{font-size:100%;cursor:pointer}.nav[_ngcontent-%COMP%]{max-height:90vh;position:-webkit-sticky;position:sticky;z-index:1;top:5vh;left:0}.active[_ngcontent-%COMP%]{color:#fff;background-color:rgba(240,59,59,.938)}"]],data:{}});function Kd(t){return hi(0,[(t()(),Xr(0,0,null,null,14,"span",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.navEleClick(t.context.$implicit.category_name)&&r),r},null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Xr(2,0,null,null,11,"li",[["class","media p-3 list-ele"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setActive(t.context.$implicit.category_name)&&r),r},null,null)),Fo(3,278528,null,0,Ml,[Wn,Qn,fn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),li(4,{active:0}),(t()(),ai(-1,null,["\n                                "])),(t()(),Xr(6,0,null,null,0,"img",[["alt","image"],["class","mr-2"],["width","30%"]],[[8,"src",4]],null,null,null,null)),(t()(),ai(-1,null,["                                                                            \n                          "])),(t()(),Xr(8,0,null,null,4,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                                "])),(t()(),Xr(10,0,null,null,1,"h6",[["class","m-0"]],null,null,null,null,null)),(t()(),ai(11,null,["",""])),(t()(),ai(-1,null,["                                                  \n                          "])),(t()(),ai(-1,null,["                                              \n                    "])),(t()(),ai(-1,null,["\n      "]))],function(t,e){t(e,3,0,"media p-3 list-ele",t(e,4,0,e.component.activeMenu==e.context.$implicit.category_name.toLowerCase()))},function(t,e){t(e,6,0,Gr(1,"",e.context.$implicit.logo_url,"")),t(e,11,0,e.context.$implicit.category_name)})}function Yd(t){return hi(0,[(t()(),ai(-1,null,["    "])),(t()(),Xr(1,0,null,null,5,"ul",[["class","list-unstyled m-0 p-0 nav"],["style","box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); overflow:auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["                                \n        "])),(t()(),Yr(16777216,null,null,2,null,Kd)),Fo(4,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En]),(t()(),ai(-1,null,["                                \n  "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,4,0,mr(e,4,0,To(e,5).transform(n.navEle)))},null)}var Xd=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),$d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Xd);function Zd(t){return null==t||0===t.length}var Jd=new bt("NgValidators"),tp=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ep=function(){function t(){}return t.min=function(t){return function(e){if(Zd(e.value)||Zd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(Zd(e.value)||Zd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return Zd(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return tp.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(Zd(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Zd(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(np);return 0==e.length?null:function(t){return op(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(np);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(rp);return hu.call(function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&s(n[0])&&(n=n[0]),0===n.length?V:e?t(n).pipe(Z(function(t){return e.apply(void 0,t)})):new T(function(t){return new et(t,n)})}(n),op)}},t}();function np(t){return null!=t}function rp(t){var e=de(t)?rt(t):t;if(!pe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function op(t){var e=t.reduce(function(t,e){return null!=e?Object(r.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var ip=new bt("NgValueAccessor"),lp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),up=new bt("CompositionEventMode"),ap=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Hu()?Hu().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function sp(t){return t.validate?function(e){return t.validate(e)}:t}function cp(t){return t.validate?function(e){return t.validate(e)}:t}var hp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function dp(){throw new Error("unimplemented")}var pp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return dp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return dp()},enumerable:!0,configurable:!0}),e}(Xd),fp=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),gp=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(pp),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),yp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function mp(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var vp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Vt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=mp(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),_p=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mp(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function bp(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var wp=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Vt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var l=o.item(i),u=e._getOptionValue(l.value);r.push(u)}else for(o=n.options,i=0;i<o.length;i++)(l=o.item(i)).selected&&(u=e._getOptionValue(l.value),r.push(u));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),Cp=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(bp(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(bp(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Ep(t,e){return e.path.concat([t])}function Sp(t,e){t||Op(e,"Cannot find control with"),e.valueAccessor||Op(e,"No value accessor for form control with"),t.validator=ep.compose([t.validator,e.validator]),t.asyncValidator=ep.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Tp(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Tp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Tp(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function Op(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Ip(t){return null!=t?ep.compose(t.map(sp)):null}function xp(t){return null!=t?ep.composeAsync(t.map(cp)):null}function Pp(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Vt(e,n.currentValue)}var kp=[lp,yp,hp,vp,wp,gp];function Ap(t,e){if(!e)return null;var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){var i;e.constructor===ap?n=e:(i=e,kp.some(function(t){return i.constructor===t})?(r&&Op(t,"More than one built-in value accessor matches form control with"),r=e):(o&&Op(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(Op(t,"No valid value accessor for form control with"),null)}var Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Ep(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Ip(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return xp(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}($d),Dp=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Rp=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(Dp),Mp=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(Dp);function Lp(t){var e=Vp(t)?t.validators:t;return Array.isArray(e)?Ip(e):e||null}function Fp(t,e){var n=Vp(e)?e.asyncValidators:t;return Array.isArray(n)?xp(n):n||null}function Vp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var jp,Up=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Lp(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Fp(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=rp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Bp?t.controls[e]||null:t instanceof Hp&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new qe,this.statusChanges=new qe},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Vp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),qp=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,Lp(n),Fp(r,n))||this;return o._onChange=[],o._applyFormState(e),o._setUpdateStrategy(n),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return Object(r.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Up),Bp=function(t){function e(e,n,r){var o=t.call(this,Lp(n),Fp(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof qp?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Up),Hp=function(t){function e(e,n,r){var o=t.call(this,Lp(n),Fp(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(r.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof qp?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Up),Wp=Promise.resolve(null),Qp=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new qe,r.form=new Bp({},Ip(e),xp(n)),r}return Object(r.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Wp.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Sp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Wp.then(function(){var n,r,o=e._findContainer(t.path);o&&o.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;Wp.then(function(){var n=e._findContainer(t.path),r=new Bp({});(function(t,e){null==t&&Op(e,"Cannot find control with"),t.validator=ep.compose([t.validator,e.validator]),t.asyncValidator=ep.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Wp.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Wp.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}($d),zp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Gp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Kp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Yp=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+zp+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Gp+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Kp)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Gp+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Kp)},t}(),Xp=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(r.__extends)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Qp||Yp.modelGroupParentException()},e}(Np),$p=Promise.resolve(null),Zp=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.control=new qp,i._registered=!1,i.update=new qe,i._parent=e,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=Ap(i,o),i}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Pp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Ep(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Ip(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return xp(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){Sp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Xp)&&this._parent instanceof Np?Yp.formGroupNameException():this._parent instanceof Xp||this._parent instanceof Qp||Yp.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Yp.missingNameException()},e.prototype._updateValue=function(t){var e=this;$p.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;$p.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(pp),Jp=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+zp)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Gp+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Kp)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+zp)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Gp)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),tf=function(t){function e(e,n,r){var o=t.call(this)||this;return o.update=new qe,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=Ap(o,r),o}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Jp.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(Sp(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Pp(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Ip(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return xp(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(pp),ef=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?ep.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),nf=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?ep.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),rf=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=ep.minLength(parseInt(this.minlength,10))},t}(),of=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new Bp(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new qp(t,e,n)},t.prototype.array=function(t,e,n){var r=this,o=t.map(function(t){return r._createControl(t)});return new Hp(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof qp||t instanceof Bp||t instanceof Hp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),lf=function(){},uf=function(){},af=function(){},sf=function(){},cf=function(){},hf=function(){function t(){}return t.prototype.getNativeWindow=function(){return window},t}(),df=function(){function t(){}return t.prototype.getNativeDocument=function(){return document},t}(),pf=[hf,df],ff=(jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}jp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gf=function(t){return t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO",t}({}),yf=new bt("angular-google-maps LAZY_MAPS_API_CONFIG"),mf=function(t){function e(e,n,r){var o=t.call(this)||this;return o._config=e||{},o._windowRef=n,o._documentRef=r,o}return ff(e,t),e.prototype.load=function(){var t=this;if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var e=this._documentRef.getNativeDocument().createElement("script");return e.type="text/javascript",e.async=!0,e.defer=!0,e.src=this._getScriptSrc("angular2GoogleMapsLazyMapsAPILoader"),this._scriptLoadingPromise=new Promise(function(n,r){t._windowRef.getNativeWindow().angular2GoogleMapsLazyMapsAPILoader=function(){n()},e.onerror=function(t){r(t)}}),this._documentRef.getNativeDocument().body.appendChild(e),this._scriptLoadingPromise},e.prototype._getScriptSrc=function(t){var e;switch(this._config&&this._config.protocol||gf.HTTPS){case gf.AUTO:e="";break;case gf.HTTP:e="http:";break;case gf.HTTPS:e="https:"}var n={v:this._config.apiVersion||"3",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language};return e+"//"+(this._config.hostAndPath||"maps.googleapis.com/maps/api/js")+"?"+Object.keys(n).filter(function(t){return null!=n[t]}).filter(function(t){return!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0}).map(function(t){var e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(function(t){return t.key+"="+t.value}).join("&")},e}(cf),vf=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:pf.concat([{provide:cf,useClass:mf},{provide:yf,useValue:e}])}},t}(),_f=function(){function t(t,e,n,r){var o=this;this._sanitizer=e,this.mapsAPILoader=n,this.ngZone=r,this.rightDataLoaded=new qe,this.geo_options={enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3},this.satContainer=t.list("menu").valueChanges(),navigator.geolocation.getCurrentPosition(function(t){o.userLat=t.coords.latitude,o.userLng=t.coords.longitude,o.userAccuracy=t.coords.accuracy,o.calcContent()},this.showError,this.geo_options)}return t.prototype.calcContent=function(){var t=this,e=[],n=[],r=[],o=[],i=[],l=[],u=[],a=[],s=[],c=[],h=[];this.satContainer.subscribe(function(d){var p=d;for(var f in p){var g=p[f];if(t.distanceCalc(t.userLat,t.userLng,g.latitude,g.longitude)<450){var y=JSON.parse(JSON.stringify(g)),m=Object.keys(y);for(var v in g){var _=g[v];for(var b in _){var w=_[b];"pizza"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),n.push(w)):"dessert"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),r.push(w)):"continental"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),i.push(w)):"caribbean"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),o.push(w)):"italian"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),l.push(w)):"asian"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),u.push(w)):"european"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),e.push(w)):"burger"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),a.push(w)):"indian"==w.category?(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),s.push(w)):"mexican"==w.category&&(w.restrokeys=m,w.restro_id=g.restaurant_id,w.restro_name=g.restaurant_name,w.latitude=g.longitude,w.longitude=g.longitude,delete y.longitude,delete y.restaurant_id,delete y.restaurant_name,delete y.latitude,w.restroDetails=y,w.video_url=t._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+w.video_url+"?rel=0"),c.push(w))}}}else console.log("Distance is larger.... Service unavailable")}n.length>0&&h.push(n),r.length>0&&h.push(r),i.length>0&&h.push(i),o.length>0&&h.push(o),l.length>0&&h.push(l),u.length>0&&h.push(u),e.length>0&&h.push(e),a.length>0&&h.push(a),s.length>0&&h.push(s),c.length>0&&h.push(c),t.satContainer=ht(h),console.log(t.satContainer),t.rightDataLoaded.emit(),console.log(t.rightDataLoaded)})},t.prototype.showQuickView=function(t){this.activeQView=t},t.prototype.hideQuickView=function(t){this.activeQView=null},t.prototype.distanceCalc=function(t,e,n,r){var o=.017453292519943295,i=Math.cos,l=.5-i((n-t)*o)/2+i(t*o)*i(n*o)*(1-i((r-e)*o))/2;return 12742*Math.asin(Math.sqrt(l))},t.prototype.getLocation=function(){navigator.geolocation||console.log("Geolocation is not supported by the browser")},t.prototype.showPosition=function(t){},t.prototype.showError=function(t){switch(t.code){case t.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case t.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case t.TIMEOUT:console.log("The request to get user location timed out.");break;case t.UNKNOWN_ERROR:console.log("An unknown error occurred.")}},t.prototype.getLocationManually=function(){var t=this;this.searchControl=new qp,this.mapsAPILoader.load().then(function(){var e=new google.maps.places.Autocomplete(t.searchElementRef.nativeElement,{types:["address"]});e.addListener("place_changed",function(){t.ngZone.run(function(){var n=e.getPlace();void 0!==n.geometry&&null!==n.geometry&&(t.userLat=n.geometry.location.lat(),t.userLng=n.geometry.location.lng(),t.zoom=12,console.log(t.userLat),console.log(t.userLng),t.calcContent())})})})},t.prototype.ngOnInit=function(){this.getLocationManually()},t}(),bf=br({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{padding-top:3%;padding-left:7%;padding-right:7%}.card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4%}.custom-card[_ngcontent-%COMP%]{cursor:pointer;border:none;font-size:70%;position:relative;width:30%;box-shadow:0 4px 8px 0 transparent,0 6px 20px 0 transparent;text-align:center}.custom-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:130%;opacity:.9}.quick-view-modal[_ngcontent-%COMP%]{display:none;overflow-y:scroll;top:-10%;right:70%;width:120%;height:120%;position:absolute;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);z-index:3;-webkit-animation-name:example;animation-name:example;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes example{from{right:0}to{right:70%}}@keyframes example{from{right:0}to{right:70%}}.showQuickView[_ngcontent-%COMP%]{display:block}.custom-menu-card[_ngcontent-%COMP%]{border:none;display:inline-block}.custom-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px 0 rgba(0,0,0,.1),0 6px 20px 0 rgba(0,0,0,.1)}.custom-card[_ngcontent-%COMP%]:hover   .card-link[_ngcontent-%COMP%]{border-top:1px solid #eee}.card-link[_ngcontent-%COMP%]{padding-top:5px;margin-bottom:0}.latitude[_ngcontent-%COMP%], .longitude[_ngcontent-%COMP%], .restaurant_id[_ngcontent-%COMP%], .restaurant_name[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:1445px){.custom-card[_ngcontent-%COMP%]{width:45%}.quick-view-modal[_ngcontent-%COMP%]{width:100%}}@media only screen and (max-width:1030px){.custom-card[_ngcontent-%COMP%]{width:100%}.quick-view-modal[_ngcontent-%COMP%]{width:65%}}"]],data:{}});function wf(t){return hi(0,[(t()(),Xr(0,0,null,null,5,"div",[["style","width:100%;  font-size: 130%;font-family: sans-serif;"]],[[8,"className",0]],null,null,null,null)),(t()(),ai(-1,null,["\n                                  "])),(t()(),Xr(2,0,null,null,1,"li",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),ai(3,null,["",""])),(t()(),Xr(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                              "]))],null,function(t,e){t(e,0,0,Gr(1,"",e.context.$implicit,"")),t(e,3,0,e.context.$implicit)})}function Cf(t){return hi(0,[(t()(),Xr(0,0,null,null,7,"div",[["class","d-inline-block"],["style","width:50%;padding:5%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                                        "])),(t()(),Xr(2,0,null,null,0,"img",[["style","width:100%"]],[[8,"src",4]],null,null,null,null)),(t()(),Xr(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                                        "])),(t()(),Xr(5,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),ai(6,null,["",""])),(t()(),ai(-1,null,["\n                                    "]))],null,function(t,e){t(e,2,0,e.context.$implicit.poster_url),t(e,6,0,e.context.$implicit.name)})}function Ef(t){return hi(0,[(t()(),Xr(0,0,null,null,5,"div",[["class","d-inline"]],null,null,null,null,null)),(t()(),ai(-1,null,[" "])),(t()(),ai(-1,null,["\n                                    "])),(t()(),Yr(16777216,null,null,1,null,Cf)),Fo(4,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n                            "]))],function(t,e){t(e,4,0,e.parent.context.$implicit.restroDetails[e.context.$implicit])},null)}function Sf(t){return hi(0,[(t()(),Xr(0,0,null,null,45,"div",[["class","card p-3 d-inline-block m-2 custom-card"]],null,[[null,"mouseleave"]],function(t,e,n){var r=!0;return"mouseleave"===e&&(r=!1!==t.component.hideQuickView(t.context.$implicit)&&r),r},null,null)),(t()(),ai(-1,null,["\n\n        "])),(t()(),Xr(2,0,null,null,4,"div",[["class","card-body"],["style","padding: 0"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(4,0,null,null,1,"iframe",[["allowfullscreen",""],["style","max-width: 100%;"]],[[8,"src",5]],null,null,null,null)),(t()(),ai(-1,null,["  "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n\n          "])),(t()(),Xr(8,0,null,null,11,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(10,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(11,null,["",""])),(t()(),ai(-1,null,["\n  x\n              "])),(t()(),Xr(13,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(14,null,["",""])),(t()(),ai(-1,null,["\n\n\n              "])),(t()(),Xr(16,0,null,null,2,"p",[["class","text-center card-link"]],null,null,null,null,null)),(t()(),Xr(17,0,null,null,1,"a",[["href","#"]],null,[[null,"mouseenter"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==t.component.showQuickView(t.context.$implicit)&&r),r},null,null)),(t()(),ai(-1,null,["Quick View"])),(t()(),ai(-1,null,["\n\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(21,0,null,null,23,"div",[["class","quick-view-modal container"],["style","background-color: white"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==To(t,22).onClick()&&r),r},null,null)),Fo(22,16384,null,0,hd,[ad,Eh,[8,null],pn,fn],{routerLink:[0,"routerLink"]},null),ii(23,2),Fo(24,278528,null,0,Ml,[Wn,Qn,fn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),li(25,{showQuickView:0}),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(27,0,null,null,1,"h4",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),ai(28,null,["",""])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(30,0,null,null,13,"div",[["class","row"],["style","height:100%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(32,0,null,null,4,"ul",[["class","list-unstyled col-4 d-flex align-content-center flex-wrap"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                              "])),(t()(),Yr(16777216,null,null,1,null,wf)),Fo(35,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n                        "])),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(38,0,null,null,4,"div",[["class","col-8"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                            "])),(t()(),Yr(16777216,null,null,1,null,Ef)),Fo(41,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n                      "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n\n\n      "]))],function(t,e){var n=e.component;t(e,22,0,t(e,23,0,"/page-two",e.context.$implicit.restro_id)),t(e,24,0,"quick-view-modal container",t(e,25,0,n.activeQView==e.context.$implicit)),t(e,35,0,e.context.$implicit.restrokeys),t(e,41,0,e.context.$implicit.restrokeys)},function(t,e){t(e,4,0,e.context.$implicit.video_url),t(e,11,0,e.context.$implicit.name),t(e,14,0,e.context.$implicit.desc),t(e,28,0,e.context.$implicit.restro_id)})}function Tf(t){return hi(0,[(t()(),Xr(0,0,null,null,10,"div",[["style","max-width: 100%"]],[[8,"id",0]],null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(2,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),ai(3,null,[""," "])),ui(128,4,new Array(2)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(6,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Yr(16777216,null,null,1,null,Sf)),Fo(9,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n    "]))],function(t,e){t(e,9,0,e.context.$implicit)},function(t,e){t(e,0,0,Gr(1,"",e.context.$implicit[0].category,"")),t(e,3,0,mr(e,3,0,t(e,4,0,To(e.parent,0),e.context.$implicit[0].category)))})}function Of(t){return hi(0,[Vo(0,zl,[]),function(t,e,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:402653184,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:1,filterId:Dr(1),bindings:r},ngContent:null}}(0,0,{searchElementRef:0}),(t()(),ai(-1,null,["    "])),(t()(),Xr(3,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(5,0,[[1,0],["search",1]],null,5,"input",[["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["placeholder","search for location"],["spellcheck","off"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==To(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,6)._compositionEnd(n.target.value)&&r),r},null,null)),Fo(6,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(8,540672,null,0,tf,[[8,null],[8,null],[2,ip]],{form:[0,"form"]},null),jo(2048,null,pp,null,[tf]),Fo(10,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n\n    "])),(t()(),Yr(16777216,null,null,2,null,Tf)),Fo(13,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En]),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,8,0,n.searchControl),t(e,13,0,mr(e,13,0,To(e,14).transform(n.satContainer)))},function(t,e){t(e,5,0,To(e,10).ngClassUntouched,To(e,10).ngClassTouched,To(e,10).ngClassPristine,To(e,10).ngClassDirty,To(e,10).ngClassValid,To(e,10).ngClassInvalid,To(e,10).ngClassPending)})}var If=function(){function t(t){this.route=t,this.Feature=new qe,this.catName=this.route.snapshot.paramMap.get("catName"),this.pm=this.catName,console.log(this.pm),console.log("page one"+this.catName)}return t.prototype.ngOnInit=function(){},t.prototype.featureSelected=function(t){this.Feature.emit(t)},t}(),xf=br({encapsulation:0,styles:[[""]],data:{}});function Pf(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-navbar",[],null,null,null,Qd,qd)),Fo(1,114688,null,0,Ud,[],null,null),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(3,0,null,null,19,"div",[["class","container-fluid"],["style","padding-top:3%;padding-left:7%; padding-right:7%;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(5,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(7,0,null,null,5,"div",[["class","col-sm-3 col-md-2 p-0"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n           "])),(t()(),Xr(9,0,null,null,2,"app-side-nav",[],null,null,null,Yd,Gd)),jo(512,null,ju,ju,[$l]),Fo(11,4308992,[["sideNav",4]],0,zd,[ju],{category:[0,"category"]},null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n\n      "])),(t()(),Xr(14,0,null,null,6,"div",[["class","col-sm-9 col-md-10 pl-5"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(16,0,null,null,2,"app-right-data",[],null,[[null,"rightDataLoaded"]],function(t,e,n){var r=!0;return"rightDataLoaded"===e&&(r=!1!==To(t,11).rightDataReady()&&r),r},Of,bf)),jo(512,null,ju,ju,[$l]),Fo(18,114688,null,0,_f,[ju,as,cf,Be],null,{rightDataLoaded:"rightDataLoaded"}),(t()(),ai(-1,null,[" "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0),t(e,11,0,n.catName),t(e,18,0)},null)}var kf=fo("app-page-one",If,function(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-page-one",[],null,null,null,Pf,xf)),Fo(1,114688,null,0,If,[Eh],null,null)],function(t,e){t(e,1,0)},null)},{user:"user"},{Feature:"Feature"},[]),Af=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Nf=br({encapsulation:0,styles:[[""]],data:{}});function Df(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["Privacy Policy"])),(t()(),ai(-1,null,["\nBinge Digital ("])),(t()(),Xr(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,['"Binge,"'])),(t()(),ai(-1,null,[" the "])),(t()(),Xr(6,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,['"Company," "we," "us,"'])),(t()(),ai(-1,null,[" and "])),(t()(),Xr(9,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,['"our,"'])),(t()(),ai(-1,null,[") respect your privacy and are committed to protecting it through our compliance with this privacy policy.  This policy describes:"])),(t()(),Xr(12,0,null,null,7,"ul",[["style","margin-left:20px;list-style-type:disc "]],null,null,null,null,null)),(t()(),Xr(13,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["the types of information that we may collect from you when you access or use our websites, applications and other online services (collectively, our "])),(t()(),Xr(15,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,['"Services"'])),(t()(),ai(-1,null,["); and"])),(t()(),Xr(18,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["our practices for collecting, using, maintaining, protecting and disclosing that information."])),(t()(),ai(-1,null,["\n              \n              "])),(t()(),Xr(21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["This policy DOES NOT apply to information that you provide to, or that is collected by, any third-party, such as restaurants at which you make reservations and/or pay through our Services and social networks that you use in connection with our Services. We encourage you to consult directly with such third-parties about their privacy practices."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(24,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["Please read this policy carefully to understand our policies and practices regarding your information and how we will treat it.  If you do not agree with our policies and practices, your choice is not to use our Services.  By accessing or using our Services, you agree to this privacy policy.  This policy may change from time to time, your continued use of our Services after we make changes is deemed to be acceptance of those changes, so please check the policy periodically for updates."])),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(27,0,null,null,1,"h2",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["I. The information we collect and how we use it"])),(t()(),ai(-1,null,["\n              We collect several types of information from and about users of our Services, including information:"])),(t()(),Xr(30,0,null,null,4,"ul",[["style","margin-left:20px;list-style-type:disc "]],null,null,null,null,null)),(t()(),Xr(31,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["by which you may be personally identified; and/or"])),(t()(),Xr(33,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["about your internet connection, the equipment you use to access our Services and your usage details."])),(t()(),ai(-1,null,["\n              We collect this information:"])),(t()(),Xr(36,0,null,null,4,"ul",[["style","margin-left:20px;list-style-type:disc "]],null,null,null,null,null)),(t()(),Xr(37,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["directly from you when you provide it to us; and/or"])),(t()(),Xr(39,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["automatically as you navigate through our Services (information collected automatically may include usage details, IP addresses and information collected through cookies, web beacons and other tracking technologies)."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(42,0,null,null,1,"h3",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["Information You Provide to Us"])),(t()(),ai(-1,null,[" The information we collect on or through our Services may include:"])),(t()(),Xr(45,0,null,null,34,"ul",[["style","margin: 10px 0px 0px 20px;list-style-type:disc "]],null,null,null,null,null)),(t()(),Xr(46,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(47,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your account information:"])),(t()(),ai(-1,null,[" Your full name, email address, postal code, password and other information you may provide with your account, such as your gender, mobile phone number and website. Your profile picture that will be publicly displayed as part of your account profile. You may optionally provide us with this information through third-party sign-in services such as Facebook and Google Plus. In such cases, we fetch and store whatever information is made available to us by you through these sign-in services."])),(t()(),Xr(50,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(51,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your preferences:"])),(t()(),ai(-1,null,[" Your preferences and settings such as time zone and language."])),(t()(),Xr(54,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(55,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your content:"])),(t()(),ai(-1,null,[" Information you provide through our Services, including your reviews, photographs, comments, lists, followers, the users you follow, current and prior restaurant reservation details, food ordering details and history, favorite restaurants, special restaurant requests, contact information of people you add to, or notify of, your restaurant reservations through our Services, names, and other information you provide on our Services, and other information in your account profile."])),(t()(),Xr(58,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(59,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your searches and other activities:"])),(t()(),ai(-1,null,[" The search terms you have looked up and results you selected."])),(t()(),Xr(62,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(63,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your browsing information:"])),(t()(),ai(-1,null,[" How long you used our Services and which features you used; the ads you clicked on."])),(t()(),Xr(66,0,null,null,3,"li",[["class","mb5"]],null,null,null,null,null)),(t()(),Xr(67,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your communications:"])),(t()(),ai(-1,null,[" Communications between you and other users or merchants through our Services; your participation in a survey, poll, sweepstakes, contest or promotion scheme; your request for certain features (e.g., newsletters, updates or other products); your communication with us about employment opportunities posted to the services."])),(t()(),Xr(70,0,null,null,9,"li",[],null,null,null,null,null)),(t()(),Xr(71,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Your Public Posts:"])),(t()(),ai(-1,null,[' You also may provide information (such as ratings, reviews, tips, photos, comments, likes, bookmarks, friends, lists, etc.) to be published or displayed (hereinafter, "'])),(t()(),Xr(74,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["posted"])),(t()(),ai(-1,null,['") on publicly accessible areas of our Services, or transmitted to other users of our Services or third-parties (collectively, "'])),(t()(),Xr(77,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["User Contributions"])),(t()(),ai(-1,null,['").  Your User Contributions are posted on and transmitted to others at your own risk.  Although we limit access to certain pages, you may set certain privacy settings for such information by logging into your account profile.  Please be aware that no security measures are perfect or impenetrable (see "Security" section below).  Additionally, we cannot control the actions of other users of our Services with whom you may choose to share your User Contributions.  Therefore, we cannot and do not guarantee that your User Contributions will not be viewed by unauthorized persons. We may display this information on the Services, share it with businesses, and further distribute it to a wider audience through third party sites and services. You should be careful about revealing any sensitive details about yourself in such postings.'])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(81,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We use the information you provide to us to enhance the functionality and improve the quality of our Services, and to personalize your experience while using our Services.  We also use this information to display relevant advertising, provide support to you, communicate with you, and comply with our legal obligations."])),(t()(),ai(-1,null,["\n              \n              \n              "])),(t()(),Xr(84,0,null,null,1,"h3",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["Precise Location Information and How to Opt Out"])),(t()(),ai(-1,null,["When you use one of our location-enabled services (for example, when you access Services from a mobile device), we may collect and process information about your mobile device\u2019s GPS location (including the latitude, longitude or altitude of your mobile device) and the time the location information is recorded to customize the Services with location-based information and features (for example, to inform you about restaurants in your area or applicable promotions). Some of these services require your personal data for the feature to work and we may associate location data with your device ID and other information we hold about you. We keep this data for no longer than is reasonably necessary for providing services to you. If you wish to use the particular feature, you will be asked to consent to your data being used for this purpose. You can withdraw your consent at any time by disabling the GPS or other location-tracking functions on your device, provided your device allows you to do this. See your device manufacturer\u2019s instructions for further details.\n              \n              "])),(t()(),Xr(87,0,null,null,1,"h3",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["Information from Third Parties"])),(t()(),ai(-1,null,["We may collect, process and store your user ID associated with any social media account (such as your Facebook and Google account) that you use to sign into the Services or connect with or use with the Services. When you sign in to your account with your social media account information, or otherwise connect to your social media account with the Services, you consent to our collection, storage, and use, in accordance with this Privacy Policy, of the information that you make available to us through the social media interface. This could include, without limitation, any information that you have made public through your social media account, information that the social media service shares with us, or information that is disclosed during the sign-in process. Please see your social media provider\u2019s privacy policy and help center for more information about how they share information when you choose to connect your account."])),(t()(),Xr(90,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xr(91,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["We may also obtain information about you from third parties such as partners, marketers, third-party websites, and researchers, and combine that information with information which we collect from or about you.\n              "])),(t()(),Xr(93,0,null,null,1,"h2",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["II. How we use the information we collect"])),(t()(),ai(-1,null,["\n              We use the information we collect from and about you for a variety of purposes, including to:"])),(t()(),Xr(96,0,null,null,28,"ul",[["style","margin-left:20px;list-style-type:decimal "]],null,null,null,null,null)),(t()(),Xr(97,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Process and respond to your queries"])),(t()(),Xr(99,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Understand our users (what they do on our Services, what features they like, how they use them, etc.), improve the content and features of our Services (such as by personalizing content to your interests), process and complete your transactions, and make special offers."])),(t()(),Xr(101,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Administer our Services and diagnose technical problems."])),(t()(),Xr(103,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Send you questions from other users that you may be able to answer if you have registered with Binge."])),(t()(),Xr(105,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Enable us to show you ads that are relevant to you."])),(t()(),Xr(107,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Generate and review reports and data about, and to conduct research on, our user base and Service usage patterns."])),(t()(),Xr(109,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Administer contests and sweepstakes."])),(t()(),Xr(111,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Provide you with customer support."])),(t()(),Xr(113,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Provide you with notices about your account."])),(t()(),Xr(115,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection."])),(t()(),Xr(117,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Notify you about changes to our Services."])),(t()(),Xr(119,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["Allow you to participate in interactive features offered through our Services."])),(t()(),Xr(121,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["In any other way we may describe when you provide the information."])),(t()(),Xr(123,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["For any other purpose with your consent."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(126,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We may also use your information to contact you about our own and third-party goods and services that may be of interest to you.  If you do not want us to use your information in this way, please check the relevant box located on the form on which we collect your data and/or adjust your user preferences in your account profile."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(129,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We may use the information we have collected from you to enable us to display advertisements to our advertisers\u2019 target audiences.  Even though we do not disclose your personal information for these purposes without your consent, if you click on or otherwise interact with an advertisement, the advertiser may assume that you meet its target criteria."])),(t()(),ai(-1,null,["\n\n              "])),(t()(),Xr(132,0,null,null,1,"h2",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["III. How we share the information we collect"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(135,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We may disclose personal information that we collect or you provide, as described in this privacy policy, in the following ways:"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(138,0,null,null,1,"h3",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["General Information Disclosures"])),(t()(),Xr(140,0,null,null,35,"ul",[["style","margin-left:20px;list-style-type:decimal "]],null,null,null,null,null)),(t()(),Xr(141,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["To our subsidiaries and affiliates, which are entities under common ownership or control of our ultimate parent company Binge Digital."])),(t()(),Xr(143,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["To contractors, service providers and other third-parties whom we use to support our business (e.g. dinner reservations and food delivery) and who are bound by contractual obligations to keep personal information confidential and use it only for the purposes for which we disclose it to them."])),(t()(),Xr(145,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["To a buyer or other successor in the event of a merger, divestiture, restructuring, reorganization, dissolution or other sale or transfer of some or all of Binge's assets, whether as a going concern or as part of bankruptcy, liquidation or similar proceeding, in which personal information held by Binge about the users of our Services are among the assets transferred."])),(t()(),Xr(147,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["To third-parties to market their products or services to you if you have consented to receive the promotional updates.  We contractually require these third-parties to keep personal information confidential and use it only for the purposes for which we disclose it to them."])),(t()(),Xr(149,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["To fulfill the purpose for which you provide it."])),(t()(),Xr(151,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["For any other purpose disclosed by us when you provide the information."])),(t()(),Xr(153,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Xr(154,0,null,null,2,"u",[],null,null,null,null,null)),(t()(),Xr(155,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Service Providers."])),(t()(),ai(-1,null,[" We may share your information with outside vendors that we use for a variety of purposes, such as to send you emails and messages on behalf of other Binge members, push notifications to your mobile device on our behalf, provide voice recognition services to process your spoken queries and questions, help us analyze use of our Services, and process and collect payments. Some of our products, services and databases are hosted by third party hosting services providers. We also may use vendors for other projects, such as conducting surveys or organizing sweepstakes for us. We may share information about you with these vendors only to enable them to perform their services."])),(t()(),Xr(158,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Xr(159,0,null,null,2,"u",[],null,null,null,null,null)),(t()(),Xr(160,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Legal Purposes."])),(t()(),ai(-1,null,[" We may share your information when we believe in good faith that such sharing is reasonably necessary in order to investigate, prevent, or take action regarding possible illegal activities or to comply with legal process. We may also share your information to investigate and address threats or potential threats to the physical safety of any person, to investigate and address violations of this Privacy Policy or the Terms of Service, or to investigate and address violations of the rights of third parties and/or to protect the rights, property and safety of Binge, our employees, users, or the public. This may involve the sharing of your information with law enforcement, government agencies, courts, and/or other organizations on account of legal request such as subpoena, court order or government demand to comply with the law."])),(t()(),Xr(163,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Xr(164,0,null,null,2,"u",[],null,null,null,null,null)),(t()(),Xr(165,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Social Networks."])),(t()(),ai(-1,null,[" If you interact with social media features on our Services, such as the Facebook Like button, or use your social media credentials to log-in or post content, these features may collect information about your use of the Services, as well as post information about your activities on the social media service. Your interactions with social media companies are governed by their privacy policies."])),(t()(),ai(-1,null,["   "])),(t()(),Xr(169,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ai(-1,null,["If we believe disclosure is necessary or appropriate to protect the rights, property, or safety of Binge, our customers or others.  This includes exchanging information with other companies and organizations for the purposes of fraud protection and credit risk reduction."])),(t()(),Xr(171,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Xr(172,0,null,null,2,"u",[],null,null,null,null,null)),(t()(),Xr(173,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,["Consent."])),(t()(),ai(-1,null,[" We may share your information in any other circumstances where we have your consent."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(177,0,null,null,1,"h3",[["class","ui header"]],null,null,null,null,null)),(t()(),ai(-1,null,["Information Shared with Restaurants"])),(t()(),ai(-1,null,["When you make a restaurant reservation or execute online food ordering transaction through our Services, your information is provided to us and to the restaurants with whom you choose to reserve.  In order to facilitate your reservation and online food order processing, we provide your information to that restaurant in a similar manner as if you had made a reservation or food order directly with the restaurant.  If you provide a mobile phone number, restaurants or Binge may send you text messages regarding your reservation or order\u2019s delivery status.  Some restaurants also require you to provide credit or debit card account information to secure your reservation.  When you make a restaurant reservation or online food ordering transaction through our Services and/or make a payment to a restaurant through our Services, we may also share with the restaurants additional information, such as information about your dining preferences and history or information that we collect from third-parties."])),(t()(),Xr(180,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xr(181,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["Information you choose to share with a restaurant when you make a reservation and/or pay a restaurant through our Services may be used by the restaurant for its own purposes. We do not control the privacy practices of restaurants.  Please contact the restaurant directly if you want to learn about its privacy practices.\n              "])),(t()(),Xr(183,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["IV. Security: How we protect your information"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(186,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We have implemented appropriate physical, electronic, and managerial procedures to safeguard and help prevent unauthorized access to your information and to maintain data security. These safeguards take into account the sensitivity of the information that we collect, process and store and the current state of technology. We follow generally accepted industry standards to protect the personal information submitted to us, both during transmission and once we receive it, including the use of vault and tokenization services form third party service providers. The third party service providers with respect to our vault and tokenization services and also our payment gateway and payment processing are all validated as compliant with the payment card industry standard (generally referred to as PCI compliant service providers).  However, no method of transmission over the Internet or via mobile device, or method of electronic storage, is 100% secure. Therefore, while we strive to use commercially acceptable means to protect your personal information, we cannot guarantee its absolute security and thereby usage in a manner that is inconsistent with this Privacy Policy."])),(t()(),Xr(188,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xr(189,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["We assume no liability or responsibility for disclosure of your information due to errors in transmission, unauthorized third-party access, or other causes beyond our control.  You play an important role in keeping your personal information secure. You should not share your user name, password, or other security information for your Binge account with anyone.  If we receive instructions using your user name and password, we will consider that you have authorized the instructions."])),(t()(),ai(-1,null,["\n\n              "])),(t()(),Xr(192,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["V. Changes to this privacy policy"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(195,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["We reserve the right to amend this Privacy Policy from time to time to reflect changes in the law, our data collection and use practices, the features of our services, or advances in technology. Please check this page periodically for changes. Use of information we collect is subject to the Privacy Policy in effect at the time such information is used. If we make any material changes to this Privacy Policy, we will post the changes here. Please review the changes carefully. Your continued use of the Services following the posting of changes to this Privacy Policy will constitute your consent and acceptance of those changes."])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(198,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["VI. Contact us"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(201,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["If you have any queries relating to the processing/usage of information provided by you or Binge\u2019s Privacy Policy, you may email us at "])),(t()(),Xr(203,0,null,null,1,"a",[["href","mailto:contact@binge.digital"]],null,null,null,null,null)),(t()(),ai(-1,null,["contact@binge.digital"])),(t()(),ai(-1,null,[" or write at the following address:"])),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(207,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["Mr. Naman Jain"])),(t()(),Xr(209,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["Binge Digital"])),(t()(),Xr(211,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["B-5/12 Vallabh Vihar, Sector 13, Rohini, Delhi, India -110085"])),(t()(),ai(-1,null,["\n"]))],null,null)}var Rf=fo("app-privay-policy",Af,function(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-privay-policy",[],null,null,null,Df,Nf)),Fo(1,114688,null,0,Af,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Mf=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Lf=br({encapsulation:0,styles:[[""]],data:{}});function Ff(t){return hi(0,[(t()(),Xr(0,0,null,null,53,"header",[["class","masthead"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,50,"div",[["class","container h-100"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,47,"div",[["class","row h-100"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,25,"div",[["class","col-lg-7 my-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(8,0,null,null,22,"div",[["class","header-content mx-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(10,0,null,null,16,"h1",[["class","mb-5"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(12,0,null,null,13,"div",[["class","carousel slide"],["data-ride","carousel"],["id","carouselExampleSlidesOnly"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(14,0,null,null,10,"div",[["class","carousel-inner"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(16,0,null,null,1,"div",[["class","carousel-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  Order Food Online Before Reaching The Restaurant \n                "])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(19,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  Great Food with Discounts at Restaurants Near You\n                "])),(t()(),ai(-1,null,["\n                \n                "])),(t()(),Xr(22,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  Video Menus for Hassle Free Ordering\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(28,0,null,null,1,"a",[["class","btn btn-outline btn-xl js-scroll-trigger"],["href","#download"]],null,null,null,null,null)),(t()(),ai(-1,null,["Discover Food Now!"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(33,0,null,null,17,"div",[["class","col-lg-5 my-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(35,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(37,0,null,null,12,"div",[["class","device-container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(39,0,null,null,9,"div",[["class","device-mockup iphone6_plus portrait black"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(41,0,null,null,6,"div",[["class","device"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(43,0,null,null,3,"div",[["class","screen"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],null,null)}var Vf=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),jf=br({encapsulation:0,styles:[[""]],data:{}});function Uf(t){return hi(0,[(t()(),Xr(0,0,null,null,120,"section",[["class","features"],["id","features"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,117,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,9,"div",[["class","section-heading text-center"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["Unlimited Features, Unlimited Fun"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(9,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["Check out what you can do with this app theme!"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(12,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(15,0,null,null,103,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(17,0,null,null,19,"div",[["class","carousel slide col-lg-6 my-auto"],["data-ride","carousel"],["id","carouselExampleIndicators"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(19,0,null,null,16,"div",[["class","row carousel-inner"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(21,0,null,null,3,"div",[["class","carousel-item active"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(23,0,null,null,0,"img",[["alt","First slide"],["height","700px"],["src","../../assets/img/home-ss1.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(26,0,null,null,3,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(28,0,null,null,0,"img",[["alt","Second slide"],["height","700px"],["src","../../assets/img/home-ss2.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(31,0,null,null,3,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(33,0,null,null,0,"img",[["alt","Third slide"],["height","700px"],["src","../../assets/img/home-ss3.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n      \n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(38,0,null,null,79,"div",[["class","col-lg-6 my-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(40,0,null,null,76,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(42,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(44,0,null,null,15,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(46,0,null,null,12,"a",[["class","active"],["data-slide-to","0"],["data-target","#carouselExampleIndicators"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(48,0,null,null,9,"div",[["class","feature-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(50,0,null,null,0,"img",[["alt","First slide"],["height","100px"],["src","../../assets/img/pizza.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(52,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ai(-1,null,["Discover Unique Eats"])),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(55,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["Discover the new Dessert and appetizer in a restaurant or cafe near you"])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(61,0,null,null,16,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(63,0,null,null,13,"a",[["data-slide-to","1"],["data-target","#carouselExampleIndicators"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(65,0,null,null,10,"div",[["class","feature-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(67,0,null,null,0,"img",[["height","100px"],["src","../../assets/img/film.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(69,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ai(-1,null,["Video Menus"])),(t()(),Xr(71,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(73,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["Dont ask the waiter anymore. Our video will help you understand the food."])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(80,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(82,0,null,null,15,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(84,0,null,null,12,"a",[["data-slide-to","2"],["data-target","#carouselExampleIndicators"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(86,0,null,null,9,"div",[["class","feature-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(88,0,null,null,0,"img",[["height","100px"],["src","../../assets/img/table.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(90,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ai(-1,null,["Pre Order"])),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(93,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["Pre Order at your favourite restaurant and get your meal served as you reach"])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(99,0,null,null,15,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(101,0,null,null,12,"a",[["data-slide-to","3"],["data-target","#carouselExampleIndicators"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(103,0,null,null,9,"div",[["class","feature-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(105,0,null,null,0,"img",[["height","100px"],["src","../../assets/img/pizza.png"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(107,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ai(-1,null,["Great Offers"])),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(110,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["Pay through the app and get discounts on food bill"])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n"])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n\n    "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],null,null)}var qf=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Bf=br({encapsulation:0,styles:[[""]],data:{}});function Hf(t){return hi(0,[(t()(),ai(-1,null,["\n"]))],null,null)}var Wf=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Qf=br({encapsulation:0,styles:[[""]],data:{}});function zf(t){return hi(0,[(t()(),ai(-1,null,["\n"]))],null,null)}var Gf=function(){function t(t){this.navEle=t.list("categories").valueChanges()}return t.prototype.setActive=function(t){this.activeMenu=t},t.prototype.ngOnInit=function(){},t.prototype.navEleClick=function(t){t=t.toLowerCase(),$("[id='"+t+"']"),console.log(t)},t}(),Kf=br({encapsulation:0,styles:[[".cat-card[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;border-radius:25%;cursor:pointer;border:2px solid #009;outline:0}"]],data:{}});function Yf(t){return hi(0,[(t()(),Xr(0,0,null,null,11,"li",[["class","m-1 mb-3 p-3 cat-card"]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==To(t,1).onClick()&&r),"click"===e&&(r=!1!==o.navEleClick(t.context.$implicit.category_name)&&r),r},null,null)),Fo(1,16384,null,0,hd,[ad,Eh,[8,null],pn,fn],{routerLink:[0,"routerLink"]},null),ii(2,2),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n         "])),(t()(),Xr(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ai(7,null,["",""])),(t()(),ai(-1,null,["\n         "])),(t()(),Xr(9,0,null,null,0,"img",[["alt","image"],["style","max-width: 100px;min-height:80px"],["width","40%"]],[[8,"src",4]],null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["  \n  "]))],function(t,e){t(e,1,0,t(e,2,0,"/page-one",e.context.$implicit.category_name))},function(t,e){t(e,7,0,e.context.$implicit.category_name),t(e,9,0,Gr(1,"",e.context.$implicit.logo_url,""))})}function Xf(t){return hi(0,[(t()(),Xr(0,0,null,null,5,"ul",[["class","p-5 pb-0 mt-5"],["style","border-top: 5px solid white; width:100%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Yr(16777216,null,null,2,null,Yf)),Fo(3,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),Vo(131072,Ql,[En]),(t()(),ai(-1,null,["                                \n"]))],function(t,e){var n=e.component;t(e,3,0,mr(e,3,0,To(e,4).transform(n.navEle)))},null)}var $f=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Zf=br({encapsulation:0,styles:[[""]],data:{}});function Jf(t){return hi(0,[(t()(),Xr(0,0,null,null,27,"section",[["class","download bg-primary text-center p-0 pt-4"],["id","download"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,20,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,14,"div",[["class","col-md-8 mx-auto"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(8,0,null,null,1,"h2",[["class","section-heading"]],null,null,null,null,null)),(t()(),ai(-1,null,["Discover what all the buzz is about!"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["Our app is available on any android device! Download now to get started!"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(14,0,null,null,5,"div",[["class","badges"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(16,0,null,null,1,"a",[["class","badge-link"],["href","http://bit.ly/bingeandroidapp"]],null,null,null,null,null)),(t()(),Xr(17,0,null,null,0,"img",[["alt",""],["src","../../assets/img/google-play-badge.svg"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["       \n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["    \n  "])),(t()(),ai(-1,null,["\n\n      "])),(t()(),Xr(24,0,null,null,2,"app-category-cards",[],null,null,null,Xf,Kf)),jo(512,null,ju,ju,[$l]),Fo(26,114688,null,0,Gf,[ju],null,null),(t()(),ai(-1,null,["  \n      \n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,26,0)},null)}function tg(t){return function(t){var e=new T(function(e){return{unsubscribe:t.onSnapshot(e)}});return cu.call(e,new eu(Zone.current))}(t).share()}function eg(t){return tg(t).map(function(t){return{payload:t,type:"query"}})}function ng(t){return eg(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}var rg=function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?ng(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):ng(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),function(t,e){return eg(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}(this.query,t)},t.prototype.valueChanges=function(t){return eg(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new og(this.ref.doc(t))},t}(),og=function(){function t(t){this.ref=t}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=lg(this.ref.collection(t),e);return new rg(n.ref,n.query)},t.prototype.snapshotChanges=function(){return tg(this.ref).map(function(t){return{payload:t,type:"value"}})},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),ig=new bt("EnablePersistenceToken");function lg(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var ug=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=rt(e?t.firestore().enablePersistence().then(function(){return!0},function(){return!1}):new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=lg(this.firestore.collection(t),e);return new rg(n.ref,n.query)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new og(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),ag=Yl.default.SDK_VERSION,sg=[],cg=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),hg=cg.INFO,dg=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case cg.DEBUG:case cg.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case cg.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case cg.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case cg.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},pg=new(function(){function t(t){this.name=t,this._logLevel=hg,this._logHandler=dg,sg.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in cg))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,cg.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,cg.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,cg.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,cg.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,cg.ERROR].concat(t))},t}())("@firebase/firestore"),fg=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function gg(){return pg.logLevel===cg.DEBUG?fg.DEBUG:pg.logLevel===cg.SILENT?fg.SILENT:fg.ERROR}function yg(t){switch(t){case fg.DEBUG:pg.logLevel=cg.DEBUG;break;case fg.ERROR:pg.logLevel=cg.ERROR;break;case fg.SILENT:pg.logLevel=cg.SILENT;break;default:pg.error("Firestore ("+ag+"): Invalid value passed to `setLogLevel`")}}function mg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(pg.logLevel<=cg.DEBUG){var o=n.map(_g);pg.debug.apply(pg,["Firestore ("+ag+") ["+t+"]: "+e].concat(o))}}function vg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pg.logLevel<=cg.ERROR){var r=e.map(_g);pg.error.apply(pg,["Firestore ("+ag+"): "+t].concat(r))}}function _g(t){if("string"==typeof t)return t;var e=Cg.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function bg(t){var e="FIRESTORE ("+ag+") INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function wg(t,e){t||bg(e)}var Cg=function(){function t(){}return t.setPlatform=function(e){t.platform&&bg("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||bg("Platform not set"),t.platform},t}();function Eg(){return Cg.getPlatform().emptyByteString}var Sg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tg=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error);function Og(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Tg(Sg.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Ig(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xg(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function Pg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kg(t){for(var e in wg(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ag(t){wg(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ng(t,e,n){if(e.length!==n)throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires "+zg(n,"argument")+", but was called with "+zg(e.length,"argument")+".")}function Dg(t,e,n){if(e.length<n)throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires at least "+zg(n,"argument")+", but was called with "+zg(e.length,"argument")+".")}function Rg(t,e,n,r){if(e.length<n||e.length>r)throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+zg(e.length,"argument")+".")}function Mg(t,e,n,r){jg(t,e,Qg(n)+" argument",r)}function Lg(t,e,n,r){void 0!==r&&Mg(t,e,n,r)}function Fg(t,e,n,r){jg(t,e,n+" option",r)}function Vg(t,e,n,r){void 0!==r&&Fg(t,e,n,r)}function jg(t,e,n,r){if(typeof r!==e||"object"===e&&!Ug(r)){var o=qg(r);throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function Ug(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function qg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bg("Unknown wrong type: "+typeof t)}function Bg(t,e,n){if(void 0===n)throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Qg(e)+" argument, but it was undefined.")}function Hg(t,e,n){Pg(e,function(e,r){if(n.indexOf(e)<0)throw new Tg(Sg.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function Wg(t,e,n,r){var o=qg(r);return new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() requires its "+Qg(n)+" argument to be a "+e+", but it was: "+o)}function Qg(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function zg(t,e){return t+" "+e+(1===t?"":"s")}var Gg=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return wg(20===e.length,"Invalid auto ID: "+e),e},t}();function Kg(t,e){return t<e?-1:t>e?1:0}function Yg(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Xg(){if("undefined"==typeof Uint8Array)throw new Tg(Sg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $g(){if(!Cg.getPlatform().base64Available)throw new Tg(Sg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Zg=function(){function t(t){$g(),this._binaryString=t}return t.fromBase64String=function(e){Ng("Blob.fromBase64String",arguments,1),Mg("Blob.fromBase64String","string",1,e),$g();try{return new t(Cg.getPlatform().atob(e))}catch(t){throw new Tg(Sg.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(Ng("Blob.fromUint8Array",arguments,1),Xg(),!(e instanceof Uint8Array))throw Wg("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return Ng("Blob.toBase64",arguments,0),$g(),Cg.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){Ng("Blob.toUint8Array",arguments,0),Xg();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Kg(this._binaryString,t._binaryString)},t}(),Jg=Og(Zg,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ty=function(){function t(t,e){if(Ng("GeoPoint",arguments,2),Mg("GeoPoint","number",1,t),Mg("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Tg(Sg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tg(Sg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Kg(this._lat,t._lat)||Kg(this._long,t._long)},t}(),ey="(default)",ny=function(){function t(t,e){this.projectId=t,this.database=e||ey}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===ey},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Kg(this.projectId,t.projectId)||Kg(this.database,t.database)},t}(),ry=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&bg("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&bg("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):bg("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return wg(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return wg(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return wg(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return wg(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return wg(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ry),iy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.isValidIdentifier=function(t){return iy.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},l=!1;o<t.length;){var u=t[o];if("\\"===u){if(o+1===t.length)throw new Tg(Sg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[o+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Tg(Sg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,o+=2}else"`"===u?(l=!l,o++):"."!==u||l?(r+=u,o++):(i(),o++)}if(i(),l)throw new Tg(Sg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ry),uy=function(){function t(e){this.path=e,wg(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===oy.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return oy.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new oy(e.slice()))},t.fromPathString=function(e){return new t(oy.fromString(e))},t.EMPTY=new t(new oy([])),t}(),ay=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return uy.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):bg("Trying to compare documents on fields that don't exist")},t}(),sy=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return uy.comparator(t.key,e.key)},t}(),cy=function(){function t(t,e){this.comparator=t,this.root=e||dy.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dy.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dy.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new hy(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new hy(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new hy(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new hy(this.root,t,this.comparator,!0)},t}(),hy=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){wg(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),dy=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw bg("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw bg("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw bg("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();dy.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new dy(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var py=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),fy=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),gy=function(){function t(t){this.serverTimestampBehavior=t}return t.fromSnapshotOptions=function(e){switch(e.serverTimestamps){case"estimate":return new t(fy.Estimate);case"previous":return new t(fy.Previous);case"none":case void 0:return t.defaultOptions;default:return bg("fromSnapshotOptions() called with invalid options.")}},t.defaultOptions=new t(fy.Default),t}(),yy=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return wg(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Kg(this.typeOrder,t.typeOrder)},t}(),my=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=py.NullValue,e.internalValue=null,e}return r.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(yy),vy=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.BooleanValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Kg(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(yy),_y=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.NumberValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(yy);function by(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var wy=function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&by(this.internalValue,t.internalValue)},e}(_y),Cy=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return r.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&by(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(_y),Ey=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.StringValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Kg(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(yy),Sy=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.TimestampValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof Ty?-1:this.defaultCompareTo(t)},e}(yy),Ty=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=py.TimestampValue,r}return r.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===fy.Estimate?this.localWriteTime.toDate():t&&t.serverTimestampBehavior===fy.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof Sy?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(yy),Oy=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.BlobValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(yy),Iy=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=py.RefValue,r}return r.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:uy.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(yy),xy=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.GeoPointValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(yy),Py=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.ObjectValue,n}return r.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),l=Kg(o.key,i.key)||o.value.compareTo(i.value);if(l)return l}return Kg(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(wg(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if(wg(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){wg(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new cy(Kg)),e}(yy),ky=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=py.ArrayValue,n}return r.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return Kg(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(yy),Ay=Number,Ny=Ay.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Dy=Ay.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Ry=Ay.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function My(t){return null===t||void 0===t}var Ly=function(){function t(t,e,n,r,o,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=o,this.endAt=i,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Wy]:[new Hy(t),Wy];else{wg(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:qy.ASCENDING)===qy.ASCENDING?Wy:Qy)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){wg(null==this.getInequalityFilterField()||!(e instanceof Vy)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),wg(!uy.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){wg(!uy.isDocumentKey(this.path),"No ordering allowed for document query"),wg(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)t+=o[r].canonicalId(),t+=",";My(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),My(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],l=i.compare(t,e);if(0!==l)return l;n=n||i.field.isKeyField()}return wg(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!My(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Vy&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return uy.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return uy.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){wg(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Fy=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return bg("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),Vy=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){wg(this.value instanceof Iy,"Comparing on key, but filter value not a RefValue");var e=uy.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Fy.LESS_THAN:return t<0;case Fy.LESS_THAN_OR_EQUAL:return t<=0;case Fy.EQUAL:return 0===t;case Fy.GREATER_THAN:return t>0;case Fy.GREATER_THAN_OR_EQUAL:return t>=0;default:return bg("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Fy.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),jy=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),Uy=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),qy=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),By=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){wg(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],i=this.position[r];if(o.field.isKeyField())wg(i instanceof Iy,"Bound has a non-key value where the key path is being used."),n=uy.comparator(i.key,e.key);else{var l=e.field(o.field);wg(void 0!==l,"Field should exist since document matched the orderBy already."),n=i.compareTo(l)}if(o.dir===qy.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Hy=function(){function t(t,e){this.field=t,void 0===e&&(e=qy.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ay.compareByKey(t,e):ay.compareByField(this.field,t,e);switch(this.dir){case qy.ASCENDING:return n;case qy.DESCENDING:return-1*n;default:return bg("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Wy=new Hy(ly.keyField(),qy.ASCENDING),Qy=new Hy(ly.keyField(),qy.DESCENDING),zy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Gy=function(){function t(t,e){this.seconds=t,this.nanos=e,wg(e>=0,"timestamp nanoseconds out of range: "+e),wg(e<1e9,"timestamp nanoseconds out of range"+e),wg(t>=-62135596800,"timestamp seconds out of range: "+t),wg(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=zy.exec(e);if(wg(!!r,"invalid timestamp: "+e),r[1]){var o=r[1];o=(o+"000000000").substr(0,9),n=Number(o)}var i=new Date(e);return new t(Math.floor(i.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?Kg(this.nanos,t.nanos):Kg(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),Ky=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Gy(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Gy(0,0)),t}(),Yy=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Xy=function(){function t(t,e,n,r,o){void 0===r&&(r=Ky.MIN),void 0===o&&(o=Eg()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=o}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),$y=function(){function t(t){this.fields=t}return t.prototype.isEqual=function(t){return Yg(this.fields,t.fields)},t}(),Zy=function(){function t(){}return t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Jy=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),tm=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),em=function(){function t(t,e){this.updateTime=t,this.exists=e,wg(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ay&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof ay:null===t||t instanceof sy:(wg(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!==(e=this.updateTime)&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),nm=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&wg(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ay?t.version:Ky.MIN},t}(),rm=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=tm.Set,o}return r.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),wg(null==e.transformResults,"Transform results received by SetMutation.");var n=nm.getPostMutationVersion(t);return new ay(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=nm.getPostMutationVersion(t);return new ay(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(nm),om=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=tm.Patch,i}return r.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),wg(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=nm.getPostMutationVersion(t),r=this.patchDocument(t);return new ay(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=nm.getPostMutationVersion(t),o=this.patchDocument(t);return new ay(this.key,r,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ay?t.data:Py.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],o=this.data.field(r);t=void 0!==o?t.set(r,o):t.delete(r)}return t},e}(nm),im=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=tm.Transform,r.precondition=em.exists(!0),r}return r.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),wg(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.transformObject(r.data,n);return new ay(this.key,r.version,o,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,e),i=this.transformObject(r.data,o);return new ay(this.key,r.version,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Yg(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){wg(t instanceof ay,"Unknown MaybeDocument type "+t);var e=t;return wg(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var i=o[r],l=i.transform;if(!(l instanceof Zy))return bg("Encountered unknown transform: "+l);var u=null;e instanceof ay&&(u=e.field(i.field)||null),n.push(new Ty(t,u))}return n},e.prototype.transformObject=function(t,e){wg(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],o=r.transform,i=r.field;if(!(o instanceof Zy))return bg("Encountered unknown transform: "+o);t=t.set(i,e[n])}return t},e}(nm),lm=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=tm.Delete,r}return r.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),wg(null==e.transformResults,"Transform results received by DeleteMutation."),new sy(this.key,Ky.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&wg(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new sy(this.key,Ky.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(nm),um=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),am=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function sm(t){switch(t){case Sg.OK:return bg("Treated status OK as error");case Sg.CANCELLED:case Sg.UNKNOWN:case Sg.DEADLINE_EXCEEDED:case Sg.RESOURCE_EXHAUSTED:case Sg.INTERNAL:case Sg.UNAVAILABLE:case Sg.UNAUTHENTICATED:return!1;case Sg.INVALID_ARGUMENT:case Sg.NOT_FOUND:case Sg.ALREADY_EXISTS:case Sg.PERMISSION_DENIED:case Sg.FAILED_PRECONDITION:case Sg.ABORTED:case Sg.OUT_OF_RANGE:case Sg.UNIMPLEMENTED:case Sg.DATA_LOSS:return!0;default:return bg("Unknown status code: "+t)}}function cm(t){if(void 0===t)return vg("GRPC error has no .code"),Sg.UNKNOWN;switch(t){case am.OK:return Sg.OK;case am.CANCELLED:return Sg.CANCELLED;case am.UNKNOWN:return Sg.UNKNOWN;case am.DEADLINE_EXCEEDED:return Sg.DEADLINE_EXCEEDED;case am.RESOURCE_EXHAUSTED:return Sg.RESOURCE_EXHAUSTED;case am.INTERNAL:return Sg.INTERNAL;case am.UNAVAILABLE:return Sg.UNAVAILABLE;case am.UNAUTHENTICATED:return Sg.UNAUTHENTICATED;case am.INVALID_ARGUMENT:return Sg.INVALID_ARGUMENT;case am.NOT_FOUND:return Sg.NOT_FOUND;case am.ALREADY_EXISTS:return Sg.ALREADY_EXISTS;case am.PERMISSION_DENIED:return Sg.PERMISSION_DENIED;case am.FAILED_PRECONDITION:return Sg.FAILED_PRECONDITION;case am.ABORTED:return Sg.ABORTED;case am.OUT_OF_RANGE:return Sg.OUT_OF_RANGE;case am.UNIMPLEMENTED:return Sg.UNIMPLEMENTED;case am.DATA_LOSS:return Sg.DATA_LOSS;default:return bg("Unknown status code: "+t)}}var hm=function(){function t(t){this.comparator=t,this.data=new cy(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),dm=new cy(uy.comparator);function pm(){return dm}var fm=new cy(uy.comparator);function gm(){return fm}var ym=new cy(uy.comparator);function mm(){return ym}var vm=new hm(uy.comparator);function _m(){return vm}var bm=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new Em,snapshotVersion:Ky.MIN,currentStatusUpdate:wm.MarkNotCurrent,resumeToken:Eg()}},t}(),wm=function(t){return t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent",t}({}),Cm=_m(),Em=function(){function t(){this.docs=Cm}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.isEqual=function(t){return null!==t&&this.docs.isEqual(t.docs)},t}(),Sm=function(){function t(){this.addedDocuments=Cm,this.removedDocuments=Cm}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.isEqual=function(t){return null!==t&&this.addedDocuments.isEqual(t.addedDocuments)&&this.removedDocuments.isEqual(t.removedDocuments)},t}(),Tm=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Om=function(t,e){this.targetId=t,this.existenceFilter=e},Im=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),xm=function(){return function(t,e,n,r){void 0===n&&(n=Eg()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Pm=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=pm(),this.frozen=!1,this.pendingTargetResponses=Ag(n)}return t.prototype.add=function(t){wg(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof Tm?this.addDocumentChange(t):t instanceof xm?this.addTargetChange(t):t instanceof Om?this.addExistenceFilterChange(t):bg("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;wg(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return xg(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new bm(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:wm.None,snapshotVersion:this.snapshotVersion,mapping:new Sm,resumeToken:Eg()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!Ig(this.pendingTargetResponses,t)&&Ig(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++)this.isActiveTarget(l=r[n])&&(this.ensureTargetChange(l).mapping.add(t.key),e=!0);for(var o=0,i=t.removedTargetIds;o<i.length;o++){var l;this.isActiveTarget(l=i[o])&&(this.ensureTargetChange(l).mapping.delete(t.key),e=!0)}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Im.NoChange:e.isActiveTarget(n)&&km(r,t.resumeToken);break;case Im.Added:e.recordTargetResponse(n),Ig(e.pendingTargetResponses,n)||(r.mapping=new Sm,r.currentStatusUpdate=wm.None,delete e.existenceFilters[n]),km(r,t.resumeToken);break;case Im.Removed:e.recordTargetResponse(n),wg(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Im.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=wm.MarkCurrent,km(r,t.resumeToken));break;case Im.Reset:e.isActiveTarget(n)&&(r.mapping=new Em,km(r,t.resumeToken));break;default:bg("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();function km(t,e){e.length>0&&(t.resumeToken=e)}var Am,Nm,Dm=((Am={})[qy.ASCENDING.name]="ASCENDING",Am[qy.DESCENDING.name]="DESCENDING",Am),Rm=((Nm={})[Fy.LESS_THAN.name]="LESS_THAN",Nm[Fy.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Nm[Fy.GREATER_THAN.name]="GREATER_THAN",Nm[Fy.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Nm[Fy.EQUAL.name]="EQUAL",Nm);function Mm(t,e){wg(!My(t),e+" is missing")}function Lm(t){return"number"==typeof t?t:"string"==typeof t?Number(t):bg("can't parse "+t)}var Fm=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Sg.UNKNOWN:cm(t.code);return new Tg(e,t.message||"")},t.prototype.toInt32Value=function(t){return My(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return My(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return Gy.fromISOString(t);wg(!!t,"Cannot deserialize null or undefined timestamp.");var e=Lm(t.seconds||"0");return new Gy(e,t.nanos||0)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(wg(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Zg.fromBase64String(t)):(wg(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Zg.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return wg(!!t,"Trying to deserialize version that isn't set"),Ky.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=oy.fromString(t);return wg(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return wg(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),wg(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new uy(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?oy.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new oy(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new oy(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return wg(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof my)return{nullValue:"NULL_VALUE"};if(t instanceof vy)return{booleanValue:t.value()};if(t instanceof wy)return{integerValue:""+t.value()};if(t instanceof Cy){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ey?{stringValue:t.value()}:t instanceof Py?{mapValue:this.toMapValue(t)}:t instanceof ky?{arrayValue:this.toArrayValue(t)}:t instanceof Sy?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof xy?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Oy?{bytesValue:this.toBytes(t.value())}:t instanceof Iy?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:bg("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Vm(t,n,"nullValue"))return my.INSTANCE;if(Vm(t,n,"booleanValue"))return vy.of(t.booleanValue);if(Vm(t,n,"integerValue"))return new wy(Lm(t.integerValue));if(Vm(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Cy.NAN;if("Infinity"===t.doubleValue)return Cy.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Cy.NEGATIVE_INFINITY}return new Cy(t.doubleValue)}if(Vm(t,n,"stringValue"))return new Ey(t.stringValue);if(Vm(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Vm(t,n,"arrayValue"))return Mm(t.arrayValue,"arrayValue"),new ky((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Vm(t,n,"timestampValue"))return Mm(t.timestampValue,"timestampValue"),new Sy(this.fromTimestamp(t.timestampValue));if(Vm(t,n,"geoPointValue"))return Mm(t.geoPointValue,"geoPointValue"),new xy(new ty(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Vm(t,n,"bytesValue")){Mm(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Oy(r)}if(Vm(t,n,"referenceValue")){Mm(t.referenceValue,"referenceValue");var o=this.fromResourceName(t.referenceValue),i=new ny(o.get(1),o.get(3)),l=new uy(this.extractLocalPathFromResourceName(o));return new Iy(i,l)}return bg("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return wg(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new ay(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Py.EMPTY;return Pg(t,function(t,r){n=n.set(new ly([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){wg(!!t.found,"Tried to deserialize a found document from a missing document."),Mm(t.found.name,"doc.found.name"),Mm(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ay(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){wg(!!t.missing,"Tried to deserialize a missing document from a found document."),wg(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new sy(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Vm(t,e,"found")?this.fromFound(t):Vm(t,e,"missing")?this.fromMissing(t):bg("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Im.Added:return"ADD";case Im.Current:return"CURRENT";case Im.NoChange:return"NO_CHANGE";case Im.Removed:return"REMOVE";case Im.Reset:return"RESET";default:return bg("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Om)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Tm){var e;if(t.newDoc instanceof ay)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof sy)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof xm){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return am.OK;switch(t){case Sg.OK:return am.OK;case Sg.CANCELLED:return am.CANCELLED;case Sg.UNKNOWN:return am.UNKNOWN;case Sg.DEADLINE_EXCEEDED:return am.DEADLINE_EXCEEDED;case Sg.RESOURCE_EXHAUSTED:return am.RESOURCE_EXHAUSTED;case Sg.INTERNAL:return am.INTERNAL;case Sg.UNAVAILABLE:return am.UNAVAILABLE;case Sg.UNAUTHENTICATED:return am.UNAUTHENTICATED;case Sg.INVALID_ARGUMENT:return am.INVALID_ARGUMENT;case Sg.NOT_FOUND:return am.NOT_FOUND;case Sg.ALREADY_EXISTS:return am.ALREADY_EXISTS;case Sg.PERMISSION_DENIED:return am.PERMISSION_DENIED;case Sg.FAILED_PRECONDITION:return am.FAILED_PRECONDITION;case Sg.ABORTED:return am.ABORTED;case Sg.OUT_OF_RANGE:return am.OUT_OF_RANGE;case Sg.UNIMPLEMENTED:return am.UNIMPLEMENTED;case Sg.DATA_LOSS:return am.DATA_LOSS;default:return bg("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return bg("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Vm(t,n,"targetChange")){Mm(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),l=t.targetChange.cause,u=l&&this.fromRpcStatus(l);e=new xm(r,o,i,u||null)}else if(Vm(t,n,"documentChange")){Mm(t.documentChange,"documentChange"),Mm(t.documentChange.document,"documentChange.name"),Mm(t.documentChange.document.name,"documentChange.document.name"),Mm(t.documentChange.document.updateTime,"documentChange.document.updateTime");var a=t.documentChange,s=this.fromName(a.document.name),c=this.fromVersion(a.document.updateTime),h=this.fromFields(a.document.fields||{}),d=new ay(s,c,h,{hasLocalMutations:!1});e=new Tm(a.targetIds||[],a.removedTargetIds||[],d.key,d)}else if(Vm(t,n,"documentDelete")){Mm(t.documentDelete,"documentDelete"),Mm(t.documentDelete.document,"documentDelete.document");var p=t.documentDelete;s=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):Ky.forDeletedDoc(),d=new sy(s,c),e=new Tm([],p.removedTargetIds||[],d.key,d)}else if(Vm(t,n,"documentRemove")){Mm(t.documentRemove,"documentRemove"),Mm(t.documentRemove.document,"documentRemove");var f=t.documentRemove;s=this.fromName(f.document),e=new Tm([],f.removedTargetIds||[],s,null)}else{if(!Vm(t,n,"filter"))return bg("Unknown change type "+JSON.stringify(t));Mm(t.filter,"filter"),Mm(t.filter.targetId,"filter.targetId");var g=t.filter,y=new um(g.count||0);e=new Om(g.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Im.NoChange:"ADD"===t?Im.Added:"REMOVE"===t?Im.Removed:"CURRENT"===t?Im.Current:"RESET"===t?Im.Reset:bg("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Vm(t,t.response_type,"targetChange"))return Ky.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ky.MIN:e.readTime?this.fromVersion(e.readTime):Ky.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof rm)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof lm)e={delete:this.toName(t.key)};else if(t instanceof om)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof im))return bg("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):em.NONE;if(t.update){Mm(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var i=this.fromDocumentMask(t.updateMask);return new om(r,o,i,n)}return new rm(r,o,n)}if(t.delete)return r=this.fromName(t.delete),new lm(r,n);if(t.transform){r=this.fromName(t.transform.document);var l=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return wg(!0===n.exists,'Transforms only support precondition "exists == true"'),new im(r,l)}return bg("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return wg(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bg("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?em.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?em.exists(t.exists):em.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return wg(t.transform instanceof Zy,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){wg("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=ly.fromServerFormat(t.fieldPath);return new Jy(e,Zy.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return wg(1===e,"DocumentsTarget contained other than 1 document: "+e),Ly.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(oy.EMPTY_PATH);else{var n=t.path;wg(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toInt32Value(t.limit);return void 0!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(wg(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var o=[];n.where&&(o=this.fromFilter(n.where));var i=[];n.orderBy&&(i=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var a=null;return n.endAt&&(a=this.fromCursor(n.endAt)),new Ly(e,i,o,l,u,a)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Yy.Listen:return null;case Yy.ExistenceFilterMismatch:return"existence-filter-mismatch";case Yy.LimboResolution:return"limbo-document";default:return bg("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Vy?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):bg("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new By(r,n)},t.prototype.toDirection=function(t){return Dm[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return qy.ASCENDING;case"DESCENDING":return qy.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Rm[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Fy.EQUAL;case"GREATER_THAN":return Fy.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Fy.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Fy.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Fy.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return bg("Unspecified relation");default:return bg("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ly.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Hy(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Vy?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:bg("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Vy(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Uy?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof jy?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:bg("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Uy(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new jy(n);case"OPERATOR_UNSPECIFIED":return bg("Unspecified filter");default:return bg("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ly.fromServerFormat(t)});return new $y(e)},t}();function Vm(t,e,n){return e===n||!e&&n in t}var jm=n("FGoP"),Um=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){wg(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){wg(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){wg(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){wg(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){wg(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){wg(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),qm="Connection",Bm={BatchGetDocuments:"batchGet",Commit:"commit"},Hm="gl-js/ fire/"+ag,Wm=function(){function t(t){this.databaseId=t.databaseId,this.pool=new jm.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Hm},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(i,l){r.pool.getObject(function(u){u.listenOnce(jm.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case jm.ErrorCode.NO_ERROR:var e=u.getResponseJson();mg(qm,"XHR received:",JSON.stringify(e)),i(e);break;case jm.ErrorCode.TIMEOUT:mg(qm,'RPC "'+t+'" timed out'),l(new Tg(Sg.DEADLINE_EXCEEDED,"Request time out"));break;case jm.ErrorCode.HTTP_ERROR:var n=u.getStatus();mg(qm,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?l(new Tg(function(t){switch(t){case 200:return Sg.OK;case 400:return Sg.INVALID_ARGUMENT;case 401:return Sg.UNAUTHENTICATED;case 403:return Sg.PERMISSION_DENIED;case 404:return Sg.NOT_FOUND;case 409:return Sg.ABORTED;case 416:return Sg.OUT_OF_RANGE;case 429:return Sg.RESOURCE_EXHAUSTED;case 499:return Sg.CANCELLED;case 500:return Sg.UNKNOWN;case 501:return Sg.UNIMPLEMENTED;case 503:return Sg.UNAVAILABLE;case 504:return Sg.DEADLINE_EXCEEDED;default:return t>=200&&t<300?Sg.OK:t>=400&&t<500?Sg.FAILED_PRECONDITION:t>=500&&t<600?Sg.INTERNAL:Sg.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(mg(qm,'RPC "'+t+'" failed'),l(new Tg(Sg.UNAVAILABLE,"Connection failed.")));break;default:bg('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{mg(qm,'RPC "'+t+'" completed.'),r.pool.releaseObject(u)}});var a=JSON.stringify(e);mg(qm,"XHR sending: ",o+" "+a);var s={"Content-Type":"text/plain"};r.modifyHeadersForRequest(s,n),u.send(o,"POST",a,s,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=Object(jm.createWebChannelTransport)(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(o.initMessageHeaders,e);var i=n.join("");mg(qm,"Creating WebChannel: "+i+" "+o);var l=r.createWebChannel(i,o),u=!1,a=!1,s=new Um({sendFn:function(t){a?mg(qm,"Not sending because WebChannel is closed:",t):(u||(mg(qm,"Opening WebChannel transport."),l.open(),u=!0),mg(qm,"WebChannel sending:",t),l.send(t))},closeFn:function(){return l.close()}}),c=function(t,e){l.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return c(jm.WebChannel.EventType.OPEN,function(){a||mg(qm,"WebChannel transport opened.")}),c(jm.WebChannel.EventType.CLOSE,function(){a||(a=!0,mg(qm,"WebChannel transport closed"),s.callOnClose())}),c(jm.WebChannel.EventType.ERROR,function(t){a||(a=!0,mg(qm,"WebChannel transport errored:",t),s.callOnClose(new Tg(Sg.UNAVAILABLE,"The operation could not be completed")))}),c(jm.WebChannel.EventType.MESSAGE,function(t){if(!a){var e=t.data[0];wg(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){mg(qm,"WebChannel received error:",n);var r=n.status,o=function(t){var e=am[r];if(void 0!==e)return cm(e)}(),i=n.message;void 0===o&&(o=Sg.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),a=!0,s.callOnClose(new Tg(o,i)),l.close()}else mg(qm,"WebChannel received:",e),s.callOnMessage(e)}}),setTimeout(function(){s.callOnOpen()},0),s},t.prototype.makeUrl=function(t){var e=Bm[t];wg(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();Cg.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new Wm(t))},t.prototype.newSerializer=function(t){return new Fm(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var Qm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,o){if(!(t instanceof Array)||t.length<1)throw new Tg(Sg.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+zg(1,"element")+".")}();for(var n=0;n<t.length;++n)if(Mg("FieldPath","string",n,t[n]),0===t[n].length)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ly(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Wg("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ly.keyField().canonicalString()),t}(),zm=new RegExp("[~\\*/\\[\\]]"),Gm=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Km=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Ym=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Xm=function(){function t(){this.changeMap=new cy(uy.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Km.Added&&n.type===Km.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Km.Metadata&&n.type!==Km.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Km.Modified&&n.type===Km.Modified?this.changeMap=this.changeMap.insert(e,{type:Km.Modified,doc:t.doc}):t.type===Km.Modified&&n.type===Km.Added?this.changeMap=this.changeMap.insert(e,{type:Km.Added,doc:t.doc}):t.type===Km.Removed&&n.type===Km.Added?this.changeMap=this.changeMap.remove(e):t.type===Km.Removed&&n.type===Km.Modified?this.changeMap=this.changeMap.insert(e,{type:Km.Removed,doc:n.doc}):t.type===Km.Added&&n.type===Km.Removed?this.changeMap=this.changeMap.insert(e,{type:Km.Modified,doc:t.doc}):bg("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),$m=function(){function t(t,e,n,r,o,i,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=o,this.hasPendingWrites=i,this.syncStateChanged=l}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Zm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||uy.comparator(e.key,n.key)}:function(t,e){return uy.comparator(t.key,e.key)},this.keyedMap=gm(),this.sortedSet=new cy(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Jm=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],l=i[1];if(i[0].isEqual(t))return l}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Pg(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return kg(this.inner)},t}(),tv=function(){function t(t){this.syncEngine=t,this.queries=new Jm(function(t){return t.canonicalId()}),this.onlineState=Gm.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,o,i;return r.__generator(this,function(r){return n=!1,(o=this.queries.get(e=t.query))&&(i=o.listeners.indexOf(t))>=0&&(o.listeners.splice(i,1),n=0===o.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=this.queries.get(r.query);if(o){for(var i=0,l=o.listeners;i<l.length;i++)l[i].onViewSnapshot(r);o.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].applyOnlineStateChange(t)})},t}(),ev=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Gm.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(wg(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==Km.Metadata&&e.push(o)}t=new $m(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return wg(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Gm.Offline?(wg(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Gm.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){wg(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new $m(e.query,e.docs,Zm.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:Km.Added,doc:t})}),e},t}(),nv=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&bg("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,o=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},o).next(function(t){return n.push(t),n})},t}(),rv=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=_m()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=_m();return this.potentialGarbage.forEach(function(o){var i=e.documentHasAnyReferences(t,o);n.push(i.next(function(t){return t||(r=r.add(o)),nv.resolve()}))}),this.potentialGarbage=_m(),nv.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=nv.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?nv.resolve(!0):e()})},n)},t}(),ov=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=_m(),r=_m(),o=0,i=e.docChanges;o<i.length;o++){var l=i[o];switch(l.type){case Km.Added:n=n.add(l.doc.key);break;case Km.Removed:r=r.add(l.doc.key)}}return new t(e.query,n,r)},t}(),iv=function(){function t(){this.refsByKey=new hm(lv.compareByKey),this.refsByTarget=new hm(lv.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new lv(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new lv(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=uy.EMPTY,r=new lv(n,t),o=new lv(n,t+1);this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=uy.EMPTY,n=new lv(e,t),r=new lv(e,t+1),o=_m();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new lv(e,0),r=this.refsByKey.firstAfterOrEqual(n);return nv.resolve(null!==r&&e.isEqual(r.key))},t}(),lv=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return uy.comparator(t.key,e.key)||Kg(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Kg(t.targetOrBatchId,e.targetOrBatchId)||uy.comparator(t.key,e.key)},t}(),uv=1,av=function(t){return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}({}),sv=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>uv<<uv;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<uv)}return t.prototype.next=function(){return this.previousId+=1<<uv,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(av.LocalStore,e)},t.forSyncEngine=function(){return new t(av.SyncEngine)},t}(),cv=function(t){this.key=t},hv=function(t){this.key=t},dv=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=_m(),this.mutatedKeys=_m(),this.documentSet=new Zm(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Xm,o=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,l=o,u=!1,a=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var s=o.get(t),c=e instanceof ay?e:null;if(c&&(wg(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null),c?(l=l.add(c),i=c.hasLocalMutations?i.add(t):i.delete(t)):(l=l.delete(t),i=i.delete(t)),s&&c){var h=s.data.isEqual(c.data);h&&s.hasLocalMutations===c.hasLocalMutations||(r.track(h?{type:Km.Metadata,doc:c}:{type:Km.Modified,doc:c}),a&&n.query.docComparator(c,a)>0&&(u=!0))}else!s&&c?r.track({type:Km.Added,doc:c}):s&&!c&&(r.track({type:Km.Removed,doc:s}),a&&(u=!0))}),this.query.hasLimit())for(;l.size>this.query.limit;){var s=l.last();l=l.delete(s.key),r.track({type:Km.Removed,doc:s})}return wg(!u||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:l,changeSet:r,needsRefill:u,mutatedKeys:i}},t.prototype.applyChanges=function(t,e){var n=this;wg(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Km.Added:return 1;case Km.Modified:case Km.Metadata:return 2;case Km.Removed:return 0;default:return bg("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var i=this.updateLimboDocuments(),l=0===this.limboDocuments.size&&this.current?Ym.Synced:Ym.Local,u=l!==this.syncState;return this.syncState=l,0!==o.length||u?{snapshot:new $m(this.query,t.documentSet,r,o,l===Ym.Local,!t.mutatedKeys.isEmpty(),u),limboChanges:i}:{limboChanges:i}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Gm.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Xm,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){if(t){var e=t.mapping;switch(e instanceof Em?this.syncedDocuments=e.documents:e instanceof Sm&&(this.syncedDocuments=e.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case wm.MarkCurrent:this.current=!0;break;case wm.MarkNotCurrent:this.current=!1;break;case wm.None:break;default:bg("Unknown current status update: "+t.currentStatusUpdate)}}},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=_m(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new hv(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new cv(t))}),n},t}(),pv=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new Jm(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new cy(uy.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new iv,this.limboCollector=new rv,this.mutationUserCallbacks={},this.targetIdGenerator=sv.forSyncEngine()}return t.prototype.subscribe=function(t,e){wg(null!==t&&null!==e,"View and error handlers cannot be null"),wg(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),wg(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(o){var i=new dv(t,o),l=i.computeDocChanges(r),u=i.applyChanges(l);wg(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),wg(!!u.snapshot,"applyChanges for new view should always return a snapshot");var a=new function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}(t,n.targetId,n.resumeToken,i);e.queryViewsByQuery.set(t,a),e.queryViewsByTarget[n.targetId]=a,e.viewHandler([u.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return wg(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),wg(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!My(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),xg(t.targetChanges,function(n,r){var o=e.limboKeysByTarget[n];o&&r.currentStatusUpdate===wm.MarkCurrent&&!t.documentUpdates.get(o)&&t.addDocumentUpdate(new sy(o,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var o=r.view.applyOnlineStateChange(t);wg(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&e.push(o.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var o=new cy(uy.comparator);o=o.insert(r,new sy(r,Ky.forDeletedDoc()));var i=new bm(Ky.MIN,{},o);return this.applyRemoteEvent(i)}var l=this.queryViewsByTarget[t];return wg(!!l,"Unknown targetId: "+t),this.localStore.releaseQuery(l.query).then(function(){return n.removeAndCleanupQuery(l).then(function(){n.errorHandler(l.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new cy(Kg)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(wg(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof cv?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof hv?(mg("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t)):bg("Unknown limbo change: "+JSON.stringify(o))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){mg("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Ly.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Xy(r,n,Yy.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],o=[],i=[];return this.queryViewsByQuery.forEach(function(l,u){i.push(Promise.resolve().then(function(){var e=u.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(u.query).then(function(t){return u.view.computeDocChanges(t,e)}):e}).then(function(t){var i=u.view.applyChanges(t,e&&e.targetChanges[u.targetId]);return n.updateTrackedLimbos(u.targetId,i.limboChanges).then(function(){if(i.snapshot){r.push(i.snapshot);var t=ov.fromSnapshot(i.snapshot);o.push(t)}})}))}),Promise.all(i).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(o)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){wg(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),fv=-1,gv=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&wg(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;wg(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(t)&&(e=i.applyToRemoteDocument(e,r[o]))}return e},t.prototype.applyToLocalView=function(t,e){e&&wg(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=_m(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yg(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),yv=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){wg(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var i=mm(),l=e.mutations,u=0;u<l.length;u++){var a=r[u].version;null===a&&(a=n),i=i.insert(l[u].key,a)}return new t(e,n,r,o,i)},t}(),mv="\x01",vv="\x01",_v="\x10",bv="\x11";function wv(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ev(e)),e=Cv(t.get(n),e);return Ev(e)}function Cv(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=mv+_v;break;case mv:n+=mv+bv;break;default:n+=i}}return n}function Ev(t){return t+mv+vv}function Sv(t){var e=t.length;if(wg(e>=2,"Invalid path "+t),2===e)return wg(t.charAt(0)===mv&&t.charAt(1)===vv,"Non-empty path "+t+" had length 2"),oy.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var l=t.indexOf(mv,i);switch((l<0||l>n)&&bg('Invalid encoded resource path: "'+t+'"'),t.charAt(l+1)){case vv:var u=t.substring(i,l),a=void 0;0===o.length?a=u:(a=o+=u,o=""),r.push(a);break;case _v:o+=t.substring(i,l),o+="\0";break;case bv:o+=t.substring(i,l+1);break;default:bg('Invalid encoded resource path: "'+t+'"')}i=l+2}return new oy(r)}function Tv(t,e,n,r){wg(n<r&&n>=0&&r<=2,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Iv.store)}(t),function(t){t.createObjectStore(xv.store,{keyPath:xv.keyPath}),t.createObjectStore(Pv.store,{keyPath:Pv.keyPath}),t.createObjectStore(kv.store)}(t),function(t){t.createObjectStore(Dv.store,{keyPath:Dv.keyPath}).createIndex(Dv.documentTargetsIndex,Dv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nv.store,{keyPath:Nv.keyPath}).createIndex(Nv.queryTargetsIndexName,Nv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Rv.store)}(t),function(t){t.createObjectStore(Av.store)}(t));var o=nv.resolve();return n<2&&r>=2&&(o=function(t){var e=t.store(Rv.store);return e.get(Rv.key).next(function(t){return null!=t?nv.resolve(t):(t=new Rv(0,0,Ky.MIN.toTimestamp(),0),e.put(Rv.key,t).next(function(){return t}))})}(e).next(function(t){return function(t,e){var n=t.store(Rv.store);return t.store(Nv.store).count().next(function(t){return e.targetCount=t,n.put(Rv.key,e)})}(e,t)})),o}var Ov=function(t,e){this.seconds=t,this.nanos=e},Iv=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),xv=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Pv=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),kv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wv(e)]},t.key=function(t,e,n){return[t,wv(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Av=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Nv=function(){function t(t,e,n,r,o,i){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Dv=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Rv=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Mv=[xv.store,Pv.store,kv.store,Av.store,Nv.store,Iv.store,Rv.store,Dv.store],Lv=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return wg(t.isAvailable(),"IndexedDB not supported in current environment."),mg("SimpleDb","Opening database:",e),new nv(function(o,i){var l=window.indexedDB.open(e,n);l.onsuccess=function(e){o(new t(e.target.result))},l.onerror=function(t){i(t.target.error)},l.onupgradeneeded=function(t){mg("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,o=new Vv(l.transaction);r(n,o,t.oldVersion,2).next(function(){mg("SimpleDb","Database upgrade to version 2 complete")})}}).toPromise()},t.delete=function(t){return mg("SimpleDb","Removing database:",t),Uv(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=Vv.open(this.db,t,e),o=n(r).catch(function(t){return r.abort(),nv.reject(t)}).toPromise();return r.completionPromise.then(function(){return o})},t.prototype.close=function(){this.db.close()},t}(),Fv=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Uv(this.dbCursor.delete())},t}(),Vv=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionPromise=new Promise(function(t,n){e.transaction.onabort=e.transaction.oncomplete=function(e){t()},e.transaction.onerror=function(t){n(t.target.error)}})}return t.open=function(e,n,r){return new t(e.transaction(r,n))},t.prototype.abort=function(){this.aborted||(mg("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return wg(!!e,"Object store not part of transaction: "+t),new jv(e)},t}(),jv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(mg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(mg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Uv(n)},t.prototype.get=function(t){var e=this;return Uv(this.store.get(t)).next(function(n){return void 0===n&&(n=null),mg("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return mg("SimpleDb","DELETE",this.store.name,t),Uv(this.store.delete(t))},t.prototype.count=function(){return mg("SimpleDb","COUNT",this.store.name),Uv(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){mg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new nv(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(o){var i=new Fv(o),l=e(o.primaryKey,o.value,i);l instanceof nv&&n.push(l),i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}}).next(function(){return nv.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(wg(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Uv(t){return new nv(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var qv=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return wg(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,Qv(e).get(n.userId)}).next(function(t){return t||(t=new xv(n.userId,fv,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return wg(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=fv,Qv(e).put(n.metadata)}):nv.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=fv;return Hv(t).iterate({reverse:!0},function(t,n,r){var o,i,l=t[0];if(t[1]>e&&(e=n.batchId),""===l)r.done();else{var u=(i=(o=l).length-1,0===o.length?"":"\0"===o.charAt(i)?o.substring(0,i):o.substring(0,i)+String.fromCharCode(o.charCodeAt(i)-1));r.skip([u])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return Hv(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return nv.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return nv.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return wg(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=Bv(n),Qv(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return nv.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=Bv(e),Qv(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,o=this.nextBatchId;this.nextBatchId++;var i=new gv(o,e,n),l=this.serializer.toDbMutationBatch(this.userId,i);return Hv(t).put(l).next(function(){for(var e=0,i=n;e<i.length;e++){var l=kv.key(r.userId,i[e].key.path,o);Wv(t).put(l,kv.PLACEHOLDER)}return nv.waitFor([])}).next(function(){return i})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Hv(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound(this.keyForBatchId(r)),i=null;return Hv(t).iterate({range:o},function(t,e,o){e.userId===n.userId&&(wg(e.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(e)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(fv),this.keyForBatchId(Number.POSITIVE_INFINITY));return Hv(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(fv),this.keyForBatchId(e));return Hv(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=kv.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return Wv(t).iterate({range:o},function(r,o,l){var u=r[0],a=r[2],s=Sv(r[1]);if(u===n.userId&&e.path.isEqual(s)){var c=n.keyForBatchId(a);return Hv(t).get(c).next(function(t){null===t&&bg("Dangling document-mutation reference found: "+r+" which points to "+c),i.push(n.serializer.fromDbMutationBatch(t))})}l.done()}).next(function(){return i})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;wg(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,o=r.length+1,i=kv.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(i),u=new hm(Kg);return Wv(t).iterate({range:l},function(t,e,i){var l=t[0],a=t[2],s=Sv(t[1]);l===n.userId&&r.isPrefixOf(s)?s.length===o&&(u=u.add(a)):i.done()}).next(function(){var e=[],r=[];return u.forEach(function(o){var i=n.keyForBatchId(o);r.push(Hv(t).get(i).next(function(t){null===t&&bg("Dangling document-mutation reference found, which points to "+i),e.push(n.serializer.fromDbMutationBatch(t))}))}),nv.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=Hv(t),r=Wv(t),o=[],i=function(t){var e=IDBKeyRange.only(l.keyForBatchId(t.batchId)),i=0,u=n.iterate({range:e},function(t,e,n){return i++,n.delete()});o.push(u.next(function(){wg(1===i,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var a=0,s=t.mutations;a<s.length;a++){var c=s[a],h=kv.key(l.userId,c.key.path,t.batchId);o.push(r.delete(h)),null!==l.garbageCollector&&l.garbageCollector.addPotentialGarbageKey(c.key)}},l=this,u=0,a=e;u<a.length;u++)i(a[u]);return nv.waitFor(o)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return nv.resolve();var r=IDBKeyRange.lowerBound(kv.prefixForUser(e.userId)),o=[];return Wv(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var i=Sv(t[1]);o.push(i)}else r.done()}).next(function(){wg(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=kv.prefixForPath(this.userId,e.path),o=r[1],i=IDBKeyRange.lowerBound(r),l=!1;return Wv(t).iterate({range:i,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===o&&(l=!0),r.done()}).next(function(){return l})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function Bv(t){return wg("string"==typeof t,"Persisting non-string stream token not supported."),t}function Hv(t){return zv(t,Pv.store)}function Wv(t){return zv(t,kv.store)}function Qv(t){return zv(t,xv.store)}function zv(t,e){return t instanceof Vv?t.store(e):bg("Invalid transaction object provided!")}var Gv=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Ky.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return Yv(t).get(Rv.key).next(function(t){wg(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Ky.fromTimestamp(new Gy(n.seconds,n.nanos)),nv.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),Yv(t).put(Rv.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):nv.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return wg(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Kv(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return Yv(t).put(Rv.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return Kv(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return Kv(t).iterate({range:o,index:Nv.queryTargetsIndexName},function(t,r,o){var l=n.serializer.fromDbTarget(r);e.isEqual(l.query)&&(i=l,o.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],o=Xv(t);return e.forEach(function(t){var e=wv(t.path);r.push(o.put(new Dv(n,e)))}),nv.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=[],i=Xv(t);return e.forEach(function(t){var e=wv(t.path);o.push(i.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),nv.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Xv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=Xv(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var o=Sv(t[1]),i=new uy(o);wg(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(i)}):nv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Xv(t),o=_m();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Sv(t[1]),i=new uy(r);o=o.add(i)}).next(function(){return o})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){wg(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n,r=wv(e.path),o=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),i=0;return Xv(t).iterate({index:Dv.documentTargetsIndex,keysOnly:!0,range:o},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}();function Kv(t){return $v(t,Nv.store)}function Yv(t){return $v(t,Rv.store)}function Xv(t){return $v(t,Dv.store)}function $v(t,e){return t instanceof Vv?t.store(e):bg("Invalid transaction object provided!")}var Zv=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return Jv(t).put(t_(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return Jv(t).delete(t_(e))},t.prototype.getEntry=function(t,e){var n=this;return Jv(t).get(t_(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=gm(),o=e.path.toArray(),i=IDBKeyRange.lowerBound(o);return Jv(t).iterate({range:i},function(t,o,i){var l=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(l.key.path)?l instanceof ay&&e.matches(l)&&(r=r.insert(l.key,l)):i.done()}).next(function(){return r})},t}();function Jv(t){return t instanceof Vv?t.store(Av.store):bg("Invalid transaction object provided!")}function t_(t){return t.path.toArray()}var e_,n_=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=uy.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Gy(n.seconds,n.nanos);return new sy(e,Ky.fromTimestamp(r))}return bg("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ay){var e=this.remoteSerializer.toDocument(t);return new Av(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),o=new Ov(r.seconds,r.nanos);return new Av(new function(t,e){this.path=t,this.readTime=e}(n,o),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Pv(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Gy.fromEpochMilliseconds(t.localWriteTimeMs);return new gv(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Gy(t.readTime.seconds,t.readTime.nanos),r=Ky.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Xy(e,t.targetId,Yy.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){wg(Yy.Listen===t.purpose,"Only queries with purpose "+Yy.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new Ov(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),wg("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var o=t.resumeToken;return new Nv(t.targetId,t.query.canonicalId(),r,o,0,e)},t}(),r_="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",o_=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new n_(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(wg(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Lv.openOrCreate(this.dbName,2,Tv).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new Tg(Sg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return wg(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return qv.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new Gv(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new Zv(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(mg("IndexedDbPersistence","Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Mv,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Lv.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Iv.store],function(e){var n=e.store(Iv.store);return n.get("owner").next(function(e){if(t.validOwner(e))return mg("IndexedDbPersistence","Valid owner already. Failing. Current owner:",e),t.persistenceError=new Tg(Sg.FAILED_PRECONDITION,r_),nv.reject(t.persistenceError);var r=new Iv(t.ownerId,Date.now());return mg("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Iv.store],function(e){var n=e.store(Iv.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(mg("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):nv.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Iv.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new Tg(Sg.FAILED_PRECONDITION,r_),nv.reject(e.persistenceError)):nv.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(vg("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(Iv.store).put("owner",new Iv(t.ownerId,Date.now()))}).catch(function(e){vg(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return mg("IndexedDbPersistence","Zombied ownerID from LocalStorage:",t),t}catch(t){return vg("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){vg("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return Gg.newId()},t.MAIN_DATABASE="main",t}(),i_=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],o=pm();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new sy(e,Ky.forDeletedDoc())),o=o.insert(e,t)}))}),nv.waitFor(r).next(function(){return o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return uy.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new uy(e)).next(function(t){var e=gm();return t instanceof ay&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var o=_m(),i=0,l=e;i<l.length;i++)for(var u=0,a=l[i].mutations;u<a.length;u++){var s=a[u];n.get(s.key)||(o=o.add(s.key))}var c=[];return o.forEach(function(e){c.push(r.getDocument(t,e).next(function(t){t instanceof ay&&(n=n.insert(t.key,t))}))}),nv.waitFor(c)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,o=t;r<o.length;r++)n=o[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(o,i){r.push(n.computeLocalDocument(t,o,i).next(function(t){t instanceof ay?e=e.insert(t.key,t):t instanceof sy?e=e.remove(t.key):bg("Unknown MaybeDocument: "+t)}))}),nv.waitFor(r).next(function(){return e})},t}(),l_=function(){function t(t){this.remoteDocumentCache=t,this.changes=pm()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?nv.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,o){n.push(e.remoteDocumentCache.addEntry(t,o))}),this.changes=null,nv.waitFor(n)},t.prototype.assertChanges=function(){return wg(null!==this.changes,"Changes have already been applied."),this.changes},t}(),u_=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new iv,this.targetIds={},this.targetIdGenerator=sv.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new i_(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new i_(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=_m(),i=0,l=[r,t];i<l.length;i++)for(var u=0,a=l[i];u<a.length;u++)for(var s=0,c=a[u].mutations;s<c.length;s++)o=o.add(c[s].key);return e.localDocuments.getDocuments(n,o)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=sv.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==fv?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):nv.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):nv.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,o=Gy.now();return e.mutationQueue.addMutationBatch(n,o,t).next(function(t){var o=(r=t).keys();return e.localDocuments.getDocuments(n,o)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=_m(),nv.resolve();var o=new l_(e.remoteDocuments);return e.releaseBatchResults(n,[t],o).next(function(t){return r=t,o.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,o;return e.mutationQueue.lookupMutationBatch(n,t).next(function(o){return wg(null!=o,"Attempt to reject nonexistent batch!"),r=o,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return wg(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return o=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,o)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new l_(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var o=[];xg(t.targetChanges,function(t,n){var i=e.targetIds[t];if(i){var l=n.mapping;if(l)if(l instanceof Em)o.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,l.documents,t)}));else{if(!(l instanceof Sm))return bg("Unknown mapping type: "+JSON.stringify(l));o.push(e.queryCache.removeMatchingKeys(r,l.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,l.addedDocuments,t)}))}var u=n.resumeToken;u.length>0&&(i=i.update({resumeToken:u,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=i,o.push(e.queryCache.updateQueryData(r,i)))}});var i=_m();t.documentUpdates.forEach(function(t,l){i=i.add(t),o.push(n.getEntry(r,t).next(function(r){null==r||l.version.isEqual(Ky.MIN)||l.version.compareTo(r.version)>=0?n.addEntry(l):mg("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",l.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var l,u=e.queryCache.getLastRemoteSnapshotVersion(),a=t.snapshotVersion;return a.isEqual(Ky.MIN)||(wg(a.compareTo(u)>=0,"Watch stream reverted to previous snapshot?? "+a+" < "+u),o.push(e.queryCache.setLastRemoteSnapshotVersion(r,a))),nv.waitFor(o).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return l=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,i.unionWith(l))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],o=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){wg(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},i=0,l=t;i<l.length;i++)o(l[i]);return nv.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=fv),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){if(o)return r=o,nv.resolve();var i=e.targetIdGenerator.next();return r=new Xy(t,i,Yy.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return wg(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return wg(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):nv.resolve()}).next(function(){if(kg(e.targetIds)){var t=new l_(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return nv.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),nv.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,o=this.heldBatchResults;r<o.length;r++){var i=o[r];if(!this.isRemoteUpToVersion(i.commitVersion))break;n.push(i)}return 0===n.length?nv.resolve(_m()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||kg(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,o=nv.resolve(),i=function(e){o=o.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},l=0,u=e;l<u.length;l++)i(u[l]);return o.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=_m(),r=0,o=e;r<o.length;r++)for(var i=0,l=o[r].mutations;i<l.length;i++)n=n.add(l[i].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,o=r.keys(),i=nv.resolve();return o.forEach(function(o){i=i.next(function(){return n.getEntry(t,o)}).next(function(t){var i=t,l=e.docVersions.get(o);wg(null!==l,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(l)<0)&&((i=r.applyToRemoteDocument(o,i,e))?n.addEntry(i):wg(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),i},t}(),a_=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=fv,this.lastStreamToken=Eg(),this.garbageCollector=null,this.batchesByDocumentKey=new hm(lv.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=fv),wg(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),nv.resolve()},t.prototype.checkEmpty=function(t){return nv.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return nv.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return nv.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;wg(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var o=this.indexOfExistingBatchId(r,"acknowledged"),i=this.mutationQueue[o];return wg(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),wg(!i.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,nv.resolve()},t.prototype.getLastStreamToken=function(t){return nv.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,nv.resolve()},t.prototype.addMutationBatch=function(t,e,n){wg(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&wg(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new gv(r,e,n);this.mutationQueue.push(o);for(var i=0,l=n;i<l.length;i++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new lv(l[i].key,r));return nv.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return nv.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,o=this.indexOfBatchId(r),i=o<0?0:o;i<n;i++){var l=this.mutationQueue[i];if(!l.isTombstone())return nv.resolve(l)}return nv.resolve(null)},t.prototype.getAllMutationBatches=function(t){return nv.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,nv.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new lv(e,0),o=new lv(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){wg(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);wg(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),nv.resolve(i)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,o=r.length+1,i=r;uy.isDocumentKey(i)||(i=i.child(""));var l=new lv(new uy(i),0),u=new hm(Kg);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===o&&(u=u.add(t.targetOrBatchId)),!0)},l);var a=[];return u.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&a.push(e)}),nv.resolve(a)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;wg(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,o=this.mutationQueue.length,i=this.indexOfExistingBatchId(r,"removed");wg(this.mutationQueue[i].batchId===r,"Removed batches must exist in the queue");for(var l=1,u=i+1;l<n&&u<o;)(d=this.mutationQueue[u]).isTombstone()?u++:(wg(d.batchId===e[l].batchId,"Removed batches must be contiguous in the queue"),l++,u++);if(0===i){for(;u<o&&(d=this.mutationQueue[u]).isTombstone();u++);this.mutationQueue.splice(i,u-i)}else for(var a=i;a<u;a++)this.mutationQueue[a]=this.mutationQueue[a].toTombstone();for(var s=this.batchesByDocumentKey,c=0,h=e;c<h.length;c++)for(var d,p=(d=h[c]).batchId,f=0,g=d.mutations;f<g.length;f++){var y=g[f].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(y);var m=new lv(y,p);s=s.delete(m)}return this.batchesByDocumentKey=s,nv.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new lv(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return nv.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&wg(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),nv.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return wg(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return wg(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),s_=function(){function t(){this.queries=new Jm(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Ky.MIN,this.highestTargetId=0,this.references=new iv,this.targetCount=0}return t.prototype.start=function(t){return nv.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,nv.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return wg(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,nv.resolve()},t.prototype.updateQueryData=function(t,e){return wg(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),nv.resolve()},t.prototype.removeQueryData=function(t,e){return wg(this.targetCount>0,"Removing a target from an empty cache"),wg(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,nv.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return nv.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),nv.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),nv.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),nv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return nv.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),c_=function(){function t(){this.docs=pm()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),nv.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),nv.resolve()},t.prototype.getEntry=function(t,e){return nv.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=gm(),r=new uy(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),l=i.value;if(!e.path.isPrefixOf(i.key.path))break;l instanceof ay&&e.matches(l)&&(n=n.insert(l.key,l))}return nv.resolve(n)},t}(),h_=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new c_,this.queryCache=new s_,this.started=!1}return t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return wg(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},t.prototype.shutdown=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return wg(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new a_,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return mg("MemoryPersistence","Starting transaction:",t),e(new d_).toPromise()},t}(),d_=function(){},p_=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return nv.resolve(_m())},t}(),f_=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(e_||(e_={}));var g_=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new f_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,i){var l=new t(e,n,Date.now()+r,o,i);return l.start(r),l},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tg(Sg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),y_=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw vg("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),wg(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=g_.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&bg("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){wg(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){wg(t===e_.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==e_.All&&o.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);wg(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),m_=function(){function t(t,e,n,r,o){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&mg("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),v_=function(t){return t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped",t}({}),__=1e3,b_=6e4,w_=1.5,C_=function(){function t(t,e,n,r,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new m_(t,e,__,w_,b_),this.state=v_.Initial}return t.prototype.isStarted=function(){return this.state===v_.Backoff||this.state===v_.Auth||this.state===v_.Open},t.prototype.isOpen=function(){return this.state===v_.Open},t.prototype.start=function(t){this.state!==v_.Error?(wg(this.state===v_.Initial,"Already started"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(v_.Stopped)},t.prototype.inhibitBackoff=function(){wg(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=v_.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.isOpen()?[2,this.close(v_.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){return wg(t===v_.Error||My(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),t!==v_.Error?this.backoff.reset():e&&e.code===Sg.RESOURCE_EXHAUSTED&&(vg(e.toString()),vg("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==v_.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;wg(this.state===v_.Initial,"Must be in initial state to auth"),this.state=v_.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return r.__awaiter(t,void 0,void 0,function(){var t;return r.__generator(this,function(n){return this.state!==v_.Stopped?(t=new Tg(Sg.UNKNOWN,"Fetching auth token failed: "+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==v_.Stopped){wg(this.state===v_.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.enqueue(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var o=this.startRpc(t);this.stream=o,this.stream.onOpen(function(){n(o,function(){return wg(e.state===v_.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=v_.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(o,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(o,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;wg(this.state===v_.Error,"Should only perform backoff in an error case"),this.state=v_.Backoff,this.backoff.backoffAndRun(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return this.state===v_.Stopped?[2]:(this.state=v_.Initial,this.start(t),wg(this.isStarted(),"PersistentStream should have started"),[2])})})})},t.prototype.handleStreamClose=function(t){return wg(this.isStarted(),"Can't handle server close on non-started stream"),mg("PersistentStream","close with error: "+t),this.stream=null,this.close(v_.Error,t)},t}(),E_=function(t){function e(e,n,r,o){var i=t.call(this,e,e_.ListenStreamConnectionBackoff,e_.ListenStreamIdle,n,r)||this;return i.serializer=o,i}return r.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(C_),S_=function(t){function e(e,n,r,o){var i=t.call(this,e,e_.WriteStreamConnectionBackoff,e_.WriteStreamIdle,n,r)||this;return i.serializer=o,i.handshakeComplete_=!1,i}return r.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(wg(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return wg(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){wg(this.isOpen(),"Writing handshake requires an opened stream"),wg(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;wg(this.isOpen(),"Writing mutations requires an opened stream"),wg(this.handshakeComplete_,"Handshake must be complete before writing mutations"),wg(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(C_),T_=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(){return new S_(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new E_(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=pm();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);wg(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeRPC(t,e,r)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeStreamingRPC(t,e,r)})},t}(),O_=function(){function t(t){this.datastore=t,this.readVersions=mm(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof sy&&(e=Ky.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new Tg(Sg.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new Tg(Sg.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?em.updateTime(e):em.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Ky.forDeletedDoc()))throw new Tg(Sg.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?em.updateTime(e):em.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new lm(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Ky.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),I_=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Gm.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Gm.Unknown),wg(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(e_.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,wg(t.state===Gm.Unknown,"Timer should be canceled if we transitioned to a different state."),mg("OnlineStateTracker","Watch stream didn't reach online or offline within 10000ms. Considering client offline."),t.logClientOfflineWarningIfNecessary(),t.setAndBroadcast(Gm.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(){this.state===Gm.Online?(this.setAndBroadcast(Gm.Unknown),wg(0===this.watchStreamFailures,"watchStreamFailures must be 0"),wg(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(),this.setAndBroadcast(Gm.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Gm.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(){this.shouldWarnClientIsOffline&&(vg("Could not reach Firestore backend."),this.shouldWarnClientIsOffline=!1)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),x_=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.pendingWrites=[],this.lastBatchSeen=fv,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new I_(n,r)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return wg(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(Gm.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(Gm.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return mg("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(Gm.Unknown),Promise.resolve()},t.prototype.listen=function(t){wg(!Ig(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){wg(Ig(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),kg(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){wg(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!kg(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){return r.__awaiter(this,void 0,void 0,function(){var t=this;return r.__generator(this,function(e){return xg(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return wg(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.onlineStateTracker.handleWatchStreamFailure(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Gm.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){return this.onlineStateTracker.set(Gm.Online),t instanceof xm&&t.state===Im.Removed&&t.cause?[2,this.handleTargetError(t)]:(this.accumulatedWatchChanges.push(t),!e.isEqual(Ky.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(e,n)]):[2])})})},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Pm(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var o=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var i=[];return xg(r.existenceFilters,function(e,r){var l=n.listenTargets[e];if(l){var u=l.query;if(u.isDocumentQuery())if(0===r.count){var a=new uy(u.path),s=new sy(a,t);o.addDocumentUpdate(s)}else wg(1===r.count,"Single document existence filter with count: "+r.count);else{var c=n.localStore.remoteDocumentKeys(e).then(function(t){if(o.targetChanges[e]){var i=o.targetChanges[e].mapping;null!==i&&(i instanceof Sm?t=i.applyToKeySet(t):(wg(i instanceof Em,"Expected either reset or update mapping but got something else: "+i),t=i.documents))}if(t.size!==r.count){o.handleExistenceFilterMismatch(e);var a=new Xy(u,e,l.purpose);n.listenTargets[e]=a,n.sendUnwatchRequest(e);var s=new Xy(u,e,Yy.ExistenceFilterMismatch);n.sendWatchRequest(s)}});i.push(c)}}}),Promise.all(i).then(function(){return xg(o.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(o)})},t.prototype.handleTargetError=function(t){var e=this;wg(!!t.cause,"Handling target error without a cause");var n=t.cause,o=Promise.resolve();return t.targetIds.forEach(function(t){o=o.then(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return Ig(this.listenTargets,t)?(delete this.listenTargets[t],[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),o},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=fv,mg("RemoteStore","Stopping write stream with "+this.pendingWrites.length+" pending writes"),this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){return r.__awaiter(this,void 0,void 0,function(){var t=this;return r.__generator(this,function(e){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){if(null!==e)return t.commit(e),t.fillWritePipeline();0===t.pendingWrites.length&&t.writeStream.markIdle()})]:[2]})})},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){wg(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){wg(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;wg(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),o=yv.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return r.__awaiter(this,void 0,void 0,function(){var e=this;return r.__generator(this,function(n){return wg(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0?(wg(!!t,"We have pending writes, but the write stream closed without an error"),[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return sm(t.code)||t.code===Sg.ABORTED?(mg("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Eg(),[2,this.localStore.setLastStreamToken(Eg())]):[2]})})},t.prototype.handleWriteError=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n=this;return r.__generator(this,function(r){return sm(t.code)?(e=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new O_(this.datastore)},t.prototype.handleUserChange=function(t){if(mg("RemoteStore","RemoteStore changing users: uid=",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(Gm.Unknown),this.enableNetwork()},t}(),P_=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new f_,r=new f_,o=!1;return this.credentials.setUserChangeListener(function(i){o?e.asyncQueue.enqueue(function(){return e.handleUserChange(i)}):(o=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(i)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===Sg.FAILED_PRECONDITION||t.code===Sg.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new p_;var t=o_.buildStoragePrefix(this.databaseInfo),e=new Fm(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new o_(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new rv,this.persistence=new h_,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new u_(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),o=new T_(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new x_(e.localStore,o,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new pv(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new tv(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),mg("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,o=new ev(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new f_;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),k_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),A_=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),N_=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){wg(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(A_.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){wg(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),D_=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;wg(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new Tg(Sg.ABORTED,"getToken aborted due to uid change.");return t?(wg("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){wg(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){wg(null!=this.tokenListener,"removeUserChangeListener() called twice"),wg(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&bg("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return wg(null===t||"string"==typeof t,"Received invalid UID: "+t),new A_(t)},t}(),R_=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=A_.FIRST_PARTY,wg(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),M_=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,wg(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new R_(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(A_.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();function L_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}var F_=function(){function t(t){this.methodName=t}return t.delete=function(){return V_.instance},t.serverTimestamp=function(){return j_.instance},t.prototype.isEqual=function(t){return this===t},t}(),V_=function(t){function e(){return t.call(this,"FieldValue.delete()")||this}return r.__extends(e,t),e.instance=new e,e}(F_),j_=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp()")||this}return r.__extends(e,t),e.instance=new e,e}(F_),U_=Og(F_,"Use FieldValue.<field>() instead."),q_=/^__.*__$/,B_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new om(t,this.data,this.fieldMask,e):new rm(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new im(t,this.fieldTransforms)),n},t}(),H_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new om(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new im(t,this.fieldTransforms)),n},t}(),W_=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue",t}({});function Q_(t){switch(t){case W_.Set:case W_.MergeSet:case W_.Update:return!0;case W_.QueryValue:return!1;default:throw bg("Unexpected case for UserDataSource: "+t)}}var z_=function(){function t(t,e,n,r,o,i){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Tg(Sg.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Q_(this.dataSource)&&q_.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),G_=function(t,e){this.databaseId=t,this.key=e},K_=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new z_(W_.Set,t,ly.EMPTY_PATH);X_("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new B_(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new z_(W_.MergeSet,t,ly.EMPTY_PATH);X_("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),o=new $y(n.fieldMask);return new B_(r,o,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new z_(W_.Update,t,ly.EMPTY_PATH);X_("Data must be an object, but it was:",r,e);var o=[],i=Py.EMPTY;Pg(e,function(e,l){var u=Z_(t,e),a=r.childContextForFieldPath(u);if((l=n.runPreConverter(l,a))instanceof V_)o.push(u);else{var s=n.parseData(l,a);null!=s&&(o.push(u),i=i.set(u,s))}});var l=new $y(o);return new H_(i,l,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new z_(W_.Update,t,ly.EMPTY_PATH),i=[$_(t,e)],l=[n];if(r.length%2!=0)throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<r.length;u+=2)i.push($_(t,r[u])),l.push(r[u+1]);var a=[],s=Py.EMPTY;for(u=0;u<i.length;++u){var c=i[u],h=o.childContextForFieldPath(c),d=this.runPreConverter(l[u],h);if(d instanceof V_)a.push(c);else{var p=this.parseData(d,h);null!=p&&(a.push(c),s=s.set(c,p))}}var f=new $y(a);return new H_(s,f,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new z_(W_.QueryValue,t,ly.EMPTY_PATH),r=this.parseData(e,n);return wg(null!=r,"Parsed data should not be null."),wg(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=J_(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(Y_(t=this.runPreConverter(t,e)))return X_("Unsupported field value:",e,t),this.parseObject(t,e);if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return t instanceof F_?(this.parseSentinelFieldValue(t,e),null):this.parseScalarValue(t,e)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var l=this.parseData(i[o],e.childContextForArray(r));null==l&&(l=my.INSTANCE),n.push(l),r++}return new ky(n)},t.prototype.parseObject=function(t,e){var n=this,r=new cy(Kg);return Pg(t,function(t,o){var i=n.parseData(o,e.childContextForField(t));null!=i&&(r=r.insert(t,i))}),new Py(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return my.INSTANCE;if("number"==typeof t)return function(t){return Ry(t)&&t<=Dy&&t>=Ny}(t)?new wy(t):new Cy(t);if("boolean"==typeof t)return vy.of(t);if("string"==typeof t)return new Ey(t);if(t instanceof Date)return new Sy(Gy.fromDate(t));if(t instanceof ty)return new xy(t);if(t instanceof Zg)return new Oy(t);if(t instanceof G_)return new Iy(t.databaseId,t.key);throw e.createError("Unsupported field value: "+qg(t))},t.prototype.parseSentinelFieldValue=function(t,e){if(!Q_(e.dataSource))throw e.createError(t.methodName+" can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+" is not currently supported inside arrays");if(t instanceof V_){if(e.dataSource!==W_.MergeSet)throw e.dataSource===W_.Update?(wg(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}")}else t instanceof j_?e.fieldTransforms.push(new Jy(e.path,Zy.instance)):bg("Unknown FieldValue type: "+t)},t}();function Y_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ty||t instanceof Zg||t instanceof G_||t instanceof F_)}function X_(t,e,n){if(!Y_(n)||!Ug(n)){var r=qg(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function $_(t,e){if(e instanceof Qm)return e._internalPath;if("string"==typeof e)return Z_(t,e);throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Z_(t,e){try{return function(t){if(t.search(zm)>=0)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Qm.bind.apply(Qm,[void 0].concat(t.split("."))))}catch(e){throw new Tg(Sg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=J_(e);throw new Tg(Sg.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function J_(t){return t instanceof Error?t.message:t.toString()}var tb="firestore.googleapis.com",eb=!0,nb=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Tg(Sg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=eb}else Fg("settings","string","host",t.host),this.host=t.host,Vg("settings","boolean","ssl",t.ssl),this.ssl=void 0!==(e=t.ssl)?e:eb;var e;Hg("settings",t,["host","ssl","credentials"]),Vg("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),rb=function(){},ob=function(){function t(e){var n=this;this._queue=new y_,this.INTERNAL={delete:function(){return r.__awaiter(n,void 0,void 0,function(){return r.__generator(this,function(t){return this._firestoreClient?[2,this._firestoreClient.shutdown()]:[2]})})}};var o=new rb;if("object"==typeof e.options){var i=e;o.firebaseApp=i,o.databaseId=t.databaseIdFromApp(i),o.persistenceKey=o.firebaseApp.name,o.credentials=new D_(i)}else{var l=e;if(!l.projectId)throw new Tg(Sg.INVALID_ARGUMENT,"Must provide projectId");o.databaseId=new ny(l.projectId,l.database),o.persistenceKey="[DEFAULT]",o.credentials=new N_}o.settings=new nb({}),this._config=o,this._databaseId=o.databaseId}return t.prototype.settings=function(t){if(Ng("Firestore.settings",arguments,1),Mg("Firestore.settings","object",1,t),Ig(t,"persistence"))throw new Tg(Sg.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new nb(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new Tg(Sg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new N_;switch(t.type){case"gapi":return new M_(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new Tg(Sg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new Tg(Sg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;wg(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),wg(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new K_(function(t){if(t instanceof ub){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new Tg(Sg.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new G_(e._config.databaseId,t._key)}return t}),this._firestoreClient=new P_(Cg.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!Ig(e,"projectId")){if(Ig(e,"firestoreId"))throw new Tg(Sg.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new Tg(Sg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(Ig(e,"firestoreOptions"))throw new Tg(Sg.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new Tg(Sg.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ny(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new Tg(Sg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Ng("Firestore.collection",arguments,1),Mg("Firestore.collection","string",1,t),!t)throw new Tg(Sg.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new pb(oy.fromString(t),this)},t.prototype.doc=function(t){if(Ng("Firestore.doc",arguments,1),Mg("Firestore.doc","string",1,t),!t)throw new Tg(Sg.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),ub.forPath(oy.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return Ng("Firestore.runTransaction",arguments,1),Mg("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ib(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new lb(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(gg()){case fg.DEBUG:return"debug";case fg.ERROR:return"error";case fg.SILENT:return"silent";default:return bg("Unknown log level: "+gg())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Ng("Firestore.setLogLevel",arguments,1),Mg("Firestore.setLogLevel","string",1,t),t){case"debug":yg(fg.DEBUG);break;case"error":yg(fg.ERROR);break;case"silent":yg(fg.SILENT);break;default:throw new Tg(Sg.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),ib=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;Ng("Transaction.get",arguments,1);var n=yb("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return bg("Mismatch in docs returned from document lookup.");var r=t[0];return new sb(e._firestore,n._key,r instanceof sy?null:r,!1)})},t.prototype.set=function(t,e,n){Rg("Transaction.set",arguments,2,3);var r=yb("Transaction.set",t,this._firestore),o=(n=fb("Transaction.set",n)).merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],l=3;l<arguments.length;l++)i[l-3]=arguments[l];return"string"==typeof e||e instanceof Qm?(Dg("Transaction.update",arguments,3),r=yb("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,i)):(Ng("Transaction.update",arguments,2),r=yb("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){Ng("Transaction.delete",arguments,1);var e=yb("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),lb=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){Rg("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=yb("WriteBatch.set",t,this._firestore),o=(n=fb("WriteBatch.set",n)).merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,em.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],l=3;l<arguments.length;l++)i[l-3]=arguments[l];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Qm?(Dg("WriteBatch.update",arguments,3),r=yb("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,i)):(Ng("WriteBatch.update",arguments,2),r=yb("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,em.exists(!0))),this},t.prototype.delete=function(t){Ng("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=yb("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new lm(e._key,em.NONE)),this},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new Tg(Sg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ub=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new uy(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pb(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Ng("DocumentReference.collection",arguments,1),Mg("DocumentReference.collection","string",1,t),!t)throw new Tg(Sg.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=oy.fromString(t);return new pb(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Wg("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){Rg("DocumentReference.set",arguments,1,2);var n=(e=fb("DocumentReference.set",e)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,em.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof Qm?(Dg("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(Ng("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,em.exists(!0)))},t.prototype.delete=function(){return Ng("DocumentReference.delete",arguments,0),this._firestoreClient.write([new lm(this._key,em.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Rg("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||L_(t[o])||(Hg("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),Vg("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return L_(t[o])?n=t[o]:(Mg("DocumentReference.onSnapshot","function",o,t[o]),Lg("DocumentReference.onSnapshot","function",o+1,t[o+1]),Lg("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new k_({next:function(t){if(e.next){wg(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new sb(n.firestore,n._key,r,t.fromCache))}},error:r}),i=this._firestoreClient.listen(Ly.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(){var t=this;return Ng("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new Tg(Sg.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),ab=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),sb=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return Rg("DocumentSnapshot.data",arguments,0,1),t=gb("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,gy.fromSnapshotOptions(t)):void 0},t.prototype.get=function(t,e){if(Rg("DocumentSnapshot.get",arguments,1,2),e=gb("DocumentSnapshot.get",e),this._document){var n=this._document.data.field($_("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,gy.fromSnapshotOptions(e))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ub(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ab(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Wg("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,o){r[t]=n.convertValue(o,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Py)return this.convertObject(t,e);if(t instanceof ky)return this.convertArray(t,e);if(t instanceof Iy){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||vg("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new ub(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),cb=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return r.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return wg("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(sb),hb=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var o;Ng("Query.where",arguments,3),Mg("Query.where","string",2,n),Bg("Query.where",3,r);var i=$_("Query.where",e);if(i.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new Tg(Sg.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new Tg(Sg.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var l=this._query.path.child(new oy([r]));wg(l.length%2==0,"Path should be a document key"),o=new Iy(this.firestore._databaseId,new uy(l))}else{if(!(r instanceof ub))throw new Tg(Sg.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+qg(r)+".");o=new Iy(this.firestore._databaseId,r._key)}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=function(t,e,n){if(n.isEqual(my.INSTANCE)){if(e!==Fy.EQUAL)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new jy(t)}if(n.isEqual(Cy.NAN)){if(e!==Fy.EQUAL)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Uy(t)}return new Vy(t,e,n)}(i,Fy.fromString(n),o);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(Rg("Query.orderBy",arguments,1,2),Lg("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=qy.ASCENDING;else{if("desc"!==n)throw new Tg(Sg.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=qy.DESCENDING}if(null!==this._query.startAt)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=$_("Query.orderBy",e),i=new Hy(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore)},t.prototype.limit=function(e){if(Ng("Query.limit",arguments,1),Mg("Query.limit","number",1,e),e<=0)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Dg("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Dg("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Dg("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Dg("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Wg("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(Bg(t,1,e),e instanceof sb){if(n.length>0)throw new Tg(Sg.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new Tg(Sg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var l=i[o];if(l.field.isKeyField())r.push(new Iy(this.firestore._databaseId,e.key));else{var u=e.field(l.field);if(void 0===u){var a=l.field.canonicalString();throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}r.push(u)}}return new By(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Tg(Sg.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var l=e[i];if(r[i].field.isKeyField()){if("string"!=typeof l)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof l);if(-1!==l.indexOf("/"))throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. Document ID '"+l+"' contains a slash in "+t+"()");var u=new uy(this._query.path.child(l));o.push(new Iy(this.firestore._databaseId,u))}else{var a=this.firestore._dataConverter.parseQueryValue(t,l);o.push(a)}}return new By(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Rg("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||L_(t[o])||(Hg("Query.onSnapshot",r=t[o],["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),Vg("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),Vg("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),o++),L_(t[o])?n=t[o]:(Mg("Query.onSnapshot","function",o,t[o]),Lg("Query.onSnapshot","function",o+1,t[o+1]),Lg("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new k_({next:function(t){e.next&&e.next(new db(n.firestore,n._query,t))},error:r}),i=this.firestore.ensureClientConfigured(),l=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(l)}},t.prototype.get=function(){var t=this;return Ng("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof Vy&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new Tg(Sg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),db=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata=new ab(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Rg("QuerySnapshot.forEach",arguments,1,2),Mg("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new hb(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=function(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(o){var i=new cb(t,o.doc.key,o.doc,e.fromCache);return wg(o.type===Km.Added,"Invalid event type for first snapshot"),wg(!n||e.query.docComparator(n,o.doc)<0,"Got added events in wrong order"),n=o.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var o=e.oldDocs;return e.docChanges.map(function(n){var r=new cb(t,n.doc.key,n.doc,e.fromCache),i=-1,l=-1;return n.type!==Km.Added&&(wg((i=o.indexOf(n.doc.key))>=0,"Index for document not found"),o=o.delete(n.doc.key)),n.type!==Km.Removed&&(l=(o=o.add(n.doc)).indexOf(n.doc.key)),{type:function(t){switch(t){case Km.Added:return"added";case Km.Modified:case Km.Metadata:return"modified";case Km.Removed:return"removed";default:return bg("Unknown change type: "+t)}}(n.type),doc:r,oldIndex:i,newIndex:l}})}(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Wg("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new cb(this._firestore,t.key,t,this.metadata.fromCache)},t}(),pb=function(t){function e(e,n){var r=t.call(this,Ly.atPath(e),n)||this;if(e.length%2!=1)throw new Tg(Sg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new ub(new uy(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(Rg("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Gg.newId()),Mg("CollectionReference.doc","string",1,t),""===t)throw new Tg(Sg.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=oy.fromString(t);return ub.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){Ng("CollectionReference.add",arguments,1),Mg("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(hb);function fb(t,e){return void 0===e?{merge:!1}:(Hg(t,e,["merge"]),Vg(t,"boolean","merge",e.merge),e)}function gb(t,e){return void 0===e?{}:(Hg(t,e,["serverTimestamps"]),void 0!==(n=e.serverTimestamps)&&function(t,e,n,r,o){for(var i=[],l=0,u=["estimate","previous","none"];l<u.length;l++){var a=u[l];if(a===r)return;i.push(qg(a))}var s=qg(r);throw new Tg(Sg.INVALID_ARGUMENT,"Invalid value "+s+" provided to function "+t+'() for option "serverTimestamps". Acceptable values: '+i.join(", "))}(t,0,0,n),e);var n}function yb(t,e,n){if(e instanceof ub){if(e.firestore!==n)throw new Tg(Sg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Wg(t,"DocumentReference",1,e)}var mb=Og(ob,"Use firebase.firestore() instead."),vb=Og(ib,"Use firebase.firestore().runTransaction() instead."),_b=Og(lb,"Use firebase.firestore().batch() instead."),bb=Og(ub,"Use firebase.firestore().doc() instead."),wb=Og(sb),Cb=Og(cb),Eb=Og(hb),Sb=Og(db),Tb=Og(pb,"Use firebase.firestore().collection() instead.");Yl.default.INTERNAL.registerService("firestore",function(t){return new ob(t)},Ag({Firestore:mb,GeoPoint:ty,Blob:Jg,Transaction:vb,WriteBatch:_b,DocumentReference:bb,DocumentSnapshot:wb,Query:Eb,QueryDocumentSnapshot:Cb,QuerySnapshot:Sb,CollectionReference:Tb,FieldPath:Qm,FieldValue:U_,setLogLevel:ob.setLogLevel}));var Ob=function(){function t(t){this.afs=t,this.UsersCollection=this.afs.collection("login/"),this.Users=this.afs.collection("login").valueChanges()}return t.prototype.getOrders=function(t){return this.OrdersCollection=this.afs.collection("orders/"+t+"/order",function(t){return t.orderBy("location_lat","asc")}),this.Orders=this.OrdersCollection.snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})}),this.Orders},t.prototype.getPreOrders=function(t){return this.OrdersCollection=this.afs.collection("orders/"+t+"/PreOrder",function(t){return t.orderBy("location_lat","asc")}),this.PreOrders=this.OrdersCollection.snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})}),this.PreOrders},t.prototype.getInsideOrders=function(t){return this.OrdersCollection=this.afs.collection("orders/"+t+"/InsideOrder",function(t){return t.orderBy("location_lat","asc")}),this.InsideOrders=this.OrdersCollection.snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})}),this.InsideOrders},t.prototype.DeleteOrder=function(t,e){this.OrdersDoc=this.afs.doc("orders/"+t+"/order/"+e.id),this.OrdersDoc.delete()},t.prototype.UpdateOrder=function(t,e,n){e.status=n,this.OrdersDoc=this.afs.doc("orders/"+t+"/PreOrder/"+e.id),this.OrdersDoc.update(e)},t.prototype.getUsers=function(){return this.Users},t.prototype.signup=function(t,e,n,r,o,i){console.log(e,o,n),this.UserCollection=this.afs.collection("login"),this.UserCollection.add({RestaurantName:t,username:e,Email:r,password:o,restaurant_id:n,Phone:i})},t.prototype.getMenuItem=function(t){return this.MenuItems=this.afs.collection("Menu/"+t+"/course 1").snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})}),this.MenuItems},t.prototype.SaveMenuItem=function(t,e,n,r,o,i,l,u){console.log(e,n,r,o,i,l,u),this.afs.collection("Menu/"+t+"/"+l).add({title:e,description:n,category:r,price:o,veg:i,serving:u})},t.prototype.SaveOffer=function(t,e,n,r,o,i,l){console.log(t,e,n,r,o,i,l),this.afs.collection("Offers/"+t+"/offer").add({title:e,date:n,day:r,start_time:o,end_time:i,discount:l})},t.prototype.addRestaurantInfo=function(t,e,n,r,o,i,l,u,a,s){this.afs.collection("Restaurant Info").add({Email:e,Description:n,Address:r,FacebookLink:o,TwitterLink:i,Latitude:l,Longitude:u,Contact:a,RestaurantName:s})},t.prototype.getOffers=function(t){return this.Offers=this.afs.collection("Offers/"+t+"/offer").snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})}),this.Offers},t.prototype.SubmitContact=function(t,e,n){console.log(t,e,n),this.afs.collection("ContactUs/").add({Email:e,Name:t,Message:n})},t}(),Ib=function(){function t(t){this.Service=t}return t.prototype.ngOnInit=function(){},t.prototype.submit=function(){console.log(this.name,this.email,this.message),this.Service.SubmitContact(this.name,this.email,this.message)},t}(),xb=br({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:#efefef;max-width:1170px;margin:auto;padding:0}#contact[_ngcontent-%COMP%]{background-color:#f7f7f7}"]],data:{}});function Pb(t){return hi(0,[(t()(),Xr(0,0,null,null,121,"section",[["class","features"],["id","features"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,118,"div",[["class","sixth-section"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(6,0,null,null,113,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(8,0,null,null,110,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(10,0,null,null,73,"div",[["class","col-sm-12 col-md-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(13,0,null,null,68,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(15,0,null,null,65,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(17,0,null,null,62,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(19,0,null,null,59,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(21,0,null,null,56,"div",[["class","col-sm-12 col-sm-offset-2"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Xr(23,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(25,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["CONTACT US"])),(t()(),ai(-1,null,["\n                    "])),(t()(),ai(-1,null,["\n                    "])),(t()(),Xr(29,0,null,null,47,"form",[["data-form-title","CONTACT US"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==To(t,31).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,31).onReset()&&r),r},null,null)),Fo(30,16384,null,0,lf,[],null,null),Fo(31,4210688,null,0,Qp,[[8,null],[8,null]],null,null),jo(2048,null,$d,null,[Qp]),Fo(33,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(35,0,null,null,0,"input",[["data-form-email","true"],["type","hidden"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(37,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(39,0,null,null,7,"input",[["class","form-control"],["data-form-field","Name"],["name","name"],["placeholder","Name*"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,40)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,40).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,40)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,40)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.name=n)&&r),r},null,null)),Fo(40,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(41,16384,null,0,ef,[],{required:[0,"required"]},null),jo(1024,null,Jd,function(t){return[t]},[ef]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(44,671744,null,0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(46,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n                      "])),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(49,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(51,0,null,null,7,"input",[["class","form-control"],["data-form-field","Email"],["name","email"],["placeholder","Email*"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,52)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,52).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,52)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,52)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.email=n)&&r),r},null,null)),Fo(52,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(53,16384,null,0,ef,[],{required:[0,"required"]},null),jo(1024,null,Jd,function(t){return[t]},[ef]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(56,671744,null,0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(58,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n                      "])),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(61,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(63,0,null,null,5,"textarea",[["class","form-control"],["data-form-field","Message"],["name","message"],["placeholder","Message"],["rows","7"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,64)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,64).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,64)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,64)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.message=n)&&r),r},null,null)),Fo(64,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(66,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(68,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n                      "])),(t()(),ai(-1,null,["\n                      "])),(t()(),Xr(71,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                        "])),(t()(),Xr(73,0,null,null,1,"button",[["class","btn btn-lg btn-danger"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.submit()&&r),r},null,null)),(t()(),ai(-1,null,["CONTACT US"])),(t()(),ai(-1,null,["\n                      "])),(t()(),ai(-1,null,["\n                    "])),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(85,0,null,null,32,"div",[["class","col-sm-12 col-md-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(87,0,null,null,29,"section",[["class","contact bg-primary"],["id","contact"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(89,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(91,0,null,null,3,"h2",[],null,null,null,null,null)),(t()(),ai(-1,null,["We\n                "])),(t()(),Xr(93,0,null,null,0,"i",[["class","fa fa-heart"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                new friends!"])),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(96,0,null,null,18,"ul",[["class","list-inline list-social"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(99,0,null,null,6,"li",[["class","list-inline-item social-facebook"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(101,0,null,null,3,"a",[["href","https://www.facebook.com/bingedigital"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Xr(103,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(107,0,null,null,6,"li",[["class","list-inline-item social-google-plus"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(109,0,null,null,3,"a",[["href","http://www.instagram.com/binge.digital"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Xr(111,0,null,null,0,"i",[["class","fa fa-instagram"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),ai(-1,null,["\n                "])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n            "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,41,0,""),t(e,44,0,"name",n.name),t(e,53,0,""),t(e,56,0,"email",n.email),t(e,66,0,"message",n.message)},function(t,e){t(e,29,0,To(e,33).ngClassUntouched,To(e,33).ngClassTouched,To(e,33).ngClassPristine,To(e,33).ngClassDirty,To(e,33).ngClassValid,To(e,33).ngClassInvalid,To(e,33).ngClassPending),t(e,39,0,To(e,41).required?"":null,To(e,46).ngClassUntouched,To(e,46).ngClassTouched,To(e,46).ngClassPristine,To(e,46).ngClassDirty,To(e,46).ngClassValid,To(e,46).ngClassInvalid,To(e,46).ngClassPending),t(e,51,0,To(e,53).required?"":null,To(e,58).ngClassUntouched,To(e,58).ngClassTouched,To(e,58).ngClassPristine,To(e,58).ngClassDirty,To(e,58).ngClassValid,To(e,58).ngClassInvalid,To(e,58).ngClassPending),t(e,63,0,To(e,68).ngClassUntouched,To(e,68).ngClassTouched,To(e,68).ngClassPristine,To(e,68).ngClassDirty,To(e,68).ngClassValid,To(e,68).ngClassInvalid,To(e,68).ngClassPending)})}var kb=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ab=br({encapsulation:0,styles:[["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}body[_ngcontent-%COMP%]{font-family:Muli,Helvetica,Arial,sans-serif}a[_ngcontent-%COMP%]{color:#fdcc52;transition:all .35s}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:#fcbd20}hr[_ngcontent-%COMP%]{max-width:100px;margin:25px auto 0;border-width:1px;border-color:rgba(34,34,34,.1)}hr.light[_ngcontent-%COMP%]{border-color:#fff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Catamaran,Helvetica,Arial,sans-serif;font-weight:200;letter-spacing:1px}p[_ngcontent-%COMP%]{font-size:18px;line-height:1.5;margin-bottom:20px}section[_ngcontent-%COMP%]{padding:100px 0}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px}#mainNav[_ngcontent-%COMP%]{border-color:rgba(34,34,34,.05);background-color:#fff;transition:all .35s;font-family:Catamaran,Helvetica,Arial,sans-serif;font-weight:200;letter-spacing:1px}#mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fdcc52;font-family:Catamaran,Helvetica,Arial,sans-serif;font-weight:200;letter-spacing:1px}#mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus, #mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#fcbd20}#mainNav[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{font-size:12px;padding:8px 10px;color:#222}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:11px;font-family:Lato,Helvetica,Arial,sans-serif;letter-spacing:2px;text-transform:uppercase}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{color:#fdcc52!important;background-color:transparent}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]:hover{background-color:transparent}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], #mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:#222}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus:hover, #mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#fdcc52}header.masthead[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:150px;padding-bottom:100px;color:#fff;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABkCAMAAADqvX3PAAAAKlBMVEUAAADX19fX19fBwcHT09PX19fW1tbT09PW1tbV1dXOzs7Ozs7BwcHV1dX5uIg2AAAADnRSTlMAPQAKH0czAAApFAAAAHys1goAAAHwSURBVHja7ZfdcuMwCEb1GUIDcd//dZuk2n5rZzCKOzuzFzo3+XNOBAIHtQosxwi0XUw/jjh2qN1pVzV43FJwJIDLuq5tvaNmzxeEZI5wWP/p9v0gypgGYhGH8fL28yyM7ycOJkFlJW3tZDHhRdBjIO22JR6a1BGMgTAWopvr6BC1jSB1MDWyXYfvkpDlg4iiV83lITiuoXZL+U4/ltcNq2MhogaYBWMYjYU8HHfSRdTrCIOLYImemrfz8dMO6DlVGYyFMWz3tmuGY6GgO1ikXVM51JDXurBO0nyEcyPTnvOXvmyb0hzqfV64jUUYw47Re9CZe6EbeC+M39+TcfK/gTFZuxZgOSag7aMASwGkrQW1Y2lLwXRMx3RMx3T8Pw67FpSOcA5RCccOcTMNL05aRw7Fn2kizA7+1VNH6ENAOBgOxiIK888dHPVqh+Q/yeknzQfHkhx+nqyjT0QFzDUd2Skp53lp7PdFnEkYIhzQv/KRzJUV0QdDSON5+S14CEW0vqSTiAPWWDknCLsY0BZxnNP0L/Z9YQEO8yznXZ2yNwfgTu7rNFgj9aamvS9eZljMTNOeoybSGNwQkvZ+3XrCU07t4HmWSBjDLBzEwdSzhMYcRPRZNYmgdjA1FyahcKQIqpKZs8N0TMd0TMd0/BvHF8n9f8tHo7HcAAAAAElFTkSuQmCC),#7b4397;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABkCAMAAADqvX3PAAAAKlBMVEUAAADX19fX19fBwcHT09PX19fW1tbT09PW1tbV1dXOzs7Ozs7BwcHV1dX5uIg2AAAADnRSTlMAPQAKH0czAAApFAAAAHys1goAAAHwSURBVHja7ZfdcuMwCEb1GUIDcd//dZuk2n5rZzCKOzuzFzo3+XNOBAIHtQosxwi0XUw/jjh2qN1pVzV43FJwJIDLuq5tvaNmzxeEZI5wWP/p9v0gypgGYhGH8fL28yyM7ycOJkFlJW3tZDHhRdBjIO22JR6a1BGMgTAWopvr6BC1jSB1MDWyXYfvkpDlg4iiV83lITiuoXZL+U4/ltcNq2MhogaYBWMYjYU8HHfSRdTrCIOLYImemrfz8dMO6DlVGYyFMWz3tmuGY6GgO1ikXVM51JDXurBO0nyEcyPTnvOXvmyb0hzqfV64jUUYw47Re9CZe6EbeC+M39+TcfK/gTFZuxZgOSag7aMASwGkrQW1Y2lLwXRMx3RMx3T8Pw67FpSOcA5RCccOcTMNL05aRw7Fn2kizA7+1VNH6ENAOBgOxiIK888dHPVqh+Q/yeknzQfHkhx+nqyjT0QFzDUd2Skp53lp7PdFnEkYIhzQv/KRzJUV0QdDSON5+S14CEW0vqSTiAPWWDknCLsY0BZxnNP0L/Z9YQEO8yznXZ2yNwfgTu7rNFgj9aamvS9eZljMTNOeoybSGNwQkvZ+3XrCU07t4HmWSBjDLBzEwdSzhMYcRPRZNYmgdjA1FyahcKQIqpKZs8N0TMd0TMd0/BvHF8n9f8tHo7HcAAAAAElFTkSuQmCC),linear-gradient(to left,#7b4397,#dc2430)}header.masthead[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:500px;margin-bottom:100px;text-align:center}header.masthead[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}header.masthead[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%]{max-width:325px;margin-right:auto;margin-left:auto}header.masthead[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%]   .screen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px}@media (min-width:992px){#mainNav[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent}#mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:fade(white,70%)}#mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus, #mainNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#fff}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], #mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:rgba(255,255,255,.7)}#mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus:hover, #mainNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#fff}#mainNav.navbar-shrink[_ngcontent-%COMP%]{border-color:rgba(34,34,34,.1);background-color:#fff}#mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#222}#mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus, #mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#fdcc52}#mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], #mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:#222}#mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus:hover, #mainNav.navbar-shrink[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#fdcc52}header.masthead[_ngcontent-%COMP%]{height:100vh;min-height:775px;padding-top:0;padding-bottom:0}header.masthead[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{margin-bottom:0;text-align:left}header.masthead[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}header.masthead[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%]{max-width:325px}}section.download[_ngcontent-%COMP%]{position:relative;padding:150px 0}section.download[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin-top:0}section.download[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge-link[_ngcontent-%COMP%]{display:block;margin-bottom:25px}section.download[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge-link[_ngcontent-%COMP%]:last-child{margin-bottom:0}section.download[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px}section.features[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{margin-bottom:100px}section.features[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}section.features[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}section.features[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%], section.features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{max-width:325px;margin:0 auto}section.features[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%]{margin-bottom:100px}@media (min-width:992px){section.features[_ngcontent-%COMP%]   .device-container[_ngcontent-%COMP%]{margin-bottom:0}}section.features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:50px;text-align:center}section.features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px}section.features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;display:block;margin-bottom:15px;background:linear-gradient(to left,#7b4397,#dc2430);-webkit-background-clip:text;-webkit-text-fill-color:transparent}section.cta[_ngcontent-%COMP%]{position:relative;padding:250px 0;background-image:url(bg-cta.36ddbb2de498313fdacd.jpg);background-position:center;background-size:cover}section.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{position:relative;z-index:1}section.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;max-width:450px;margin-top:0;margin-bottom:25px;color:#fff}@media (min-width:768px){section.download[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:0}section.download[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:70px}section.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:80px}}section.cta[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}section.contact[_ngcontent-%COMP%]{text-align:center}section.contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:25px}section.contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dd4b39}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]{margin-bottom:0}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:40px;line-height:80px;display:block;width:80px;height:80px;color:#fff;border-radius:100%}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-twitter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#1da1f2}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-twitter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0d95e8}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-facebook[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#3b5998}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-facebook[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#344e86}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-google-plus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#dd4b39}section.contact[_ngcontent-%COMP%]   ul.list-social[_ngcontent-%COMP%]   li.social-google-plus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d73925}footer[_ngcontent-%COMP%]{padding:25px 0;text-align:center;color:rgba(255,255,255,.3);background-color:#222}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:rgba(255,255,255,.3)}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.bg-primary[_ngcontent-%COMP%]{background:#fdcc52;background:linear-gradient(#fdcc52,#fdc539)}.text-primary[_ngcontent-%COMP%]{color:#fdcc52}.no-gutter[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:0;padding-left:0}.btn-outline[_ngcontent-%COMP%]{color:#fff;border:1px solid #fff}.btn-outline.active[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]:active, .btn-outline[_ngcontent-%COMP%]:focus, .btn-outline[_ngcontent-%COMP%]:hover{color:#fff;border-color:#fdcc52;background-color:#fdcc52}.btn[_ngcontent-%COMP%]{border-radius:300px;font-family:Lato,Helvetica,Arial,sans-serif;letter-spacing:2px;text-transform:uppercase}.btn-xl[_ngcontent-%COMP%]{font-size:11px;padding:15px 45px}"]],data:{}});function Nb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-first-section",[],null,null,null,Ff,Lf)),Fo(1,114688,null,0,Mf,[],null,null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(3,0,null,null,1,"app-second-section",[],null,null,null,Uf,jf)),Fo(4,114688,null,0,Vf,[],null,null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(6,0,null,null,1,"app-third-section",[],null,null,null,Hf,Bf)),Fo(7,114688,null,0,qf,[],null,null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(9,0,null,null,1,"app-fourth-section",[],null,null,null,zf,Qf)),Fo(10,114688,null,0,Wf,[],null,null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(12,0,null,null,1,"app-fifth-section",[],null,null,null,Jf,Zf)),Fo(13,114688,null,0,$f,[],null,null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(15,0,null,null,1,"app-sixth-section",[],null,null,null,Pb,xb)),Fo(16,114688,null,0,Ib,[Ob],null,null),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,1,0),t(e,4,0),t(e,7,0),t(e,10,0),t(e,13,0),t(e,16,0)},null)}var Db=function(){function t(t){this.ordersService=t,this.naviGate=new qe,this.viewMap=!1}return t.prototype.ngOnInit=function(){},t.prototype.printFunction=function(){},t.prototype.DeleteOrder=function(t){this.ordersService.DeleteOrder(this.user.restaurant_id,t),this.ShowOrder=null,console.log(t),console.log(this.user.restaurant_id)},t.prototype.UpdateOrder=function(t,e){console.log(e),this.ordersService.UpdateOrder(this.user.restaurant_id,t,e)},t.prototype.getDirection=function(){this.origin={lat:this.ShowOrder.location_lat,lng:this.ShowOrder.location_long},this.destination={lat:28.5244,lng:77.1855}},t.prototype.initMap=function(){this.viewMap=!this.viewMap;var t=new google.maps.DirectionsService,e=new google.maps.DirectionsRenderer,n=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:this.ShowOrder.location_lat,lng:this.ShowOrder.location_long},mapTypeId:google.maps.MapTypeId.ROADMAP});e.setMap(n),this.calculateAndDisplayRoute(t,e)},t.prototype.calculateAndDisplayRoute=function(t,e){var n=new google.maps.LatLng(this.ShowOrder.location_lat,this.ShowOrder.location_long),r=new google.maps.LatLng(28.5244,77.1855);t.route({origin:n,destination:r,travelMode:"DRIVING"},function(t,n){"OK"===n?e.setDirections(t):window.alert("Directions request failed due to "+n)})},t}(),Rb=br({encapsulation:0,styles:[["agm-map[_ngcontent-%COMP%]{height:250px;width:100%}.modal-body[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{color:#000}.googleMap[_ngcontent-%COMP%]{height:300px;width:100%}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{text-align:left;padding:8px;border:.5px solid silver}th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}"]],data:{}});function Mb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.initMap()&&r),r},null,null)),(t()(),ai(-1,null,["View map"]))],null,null)}function Lb(t){return hi(0,[(t()(),Xr(0,0,null,null,0,"div",[["class","googleMap"],["id","map"]],null,null,null,null,null))],null,null)}function Fb(t){return hi(0,[(t()(),Xr(0,0,null,null,12,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n       "])),(t()(),Yr(16777216,null,null,1,null,Mb)),Fo(8,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Lb)),Fo(11,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n      "]))],function(t,e){var n=e.component;t(e,8,0,0!=n.ShowOrder.location_lat),t(e,11,0,0!=n.ShowOrder.location_lat)},null)}function Vb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(1,null,["time to reach - ",""]))],null,function(t,e){t(e,1,0,e.component.time_to_reach)})}function jb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit)})}function Ub(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,[" ",""]))],null,function(t,e){t(e,1,0,e.component.quantities[e.parent.context.index])})}function qb(t){return hi(0,[(t()(),Xr(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),ai(-1,null,["\n                      "])),(t()(),Yr(16777216,null,null,1,null,jb)),Fo(3,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n                      "])),(t()(),Yr(16777216,null,null,1,null,Ub)),Fo(6,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["  \n                   "]))],function(t,e){t(e,3,0,0==e.context.index),t(e,6,0,0==e.context.index)},null)}function Bb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit)})}function Hb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,[" ",""]))],null,function(t,e){t(e,1,0,e.component.quantities[e.parent.context.index+1])})}function Wb(t){return hi(0,[(t()(),Xr(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Yr(16777216,null,null,1,null,Bb)),Fo(3,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n                    "])),(t()(),Yr(16777216,null,null,1,null,Hb)),Fo(6,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["    \n                "]))],function(t,e){var n=e.component;t(e,3,0,e.context.index+1<n.dishes.length),t(e,6,0,e.context.index+1<n.dishes.length)},null)}function Qb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(1,null,["order type : ",""]))],null,function(t,e){t(e,1,0,e.component.ShowOrder.status)})}function zb(t){return hi(0,[(t()(),Xr(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,[" "])),(t()(),Xr(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(3,null,["Payment : ",""]))],null,function(t,e){t(e,3,0,e.component.ShowOrder.payment)})}function Gb(t){return hi(0,[(t()(),Xr(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,[" "])),(t()(),Xr(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(3,null,["Table Number : ",""]))],null,function(t,e){t(e,3,0,e.component.ShowOrder.tableNo)})}function Kb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.UpdateOrder(o.ShowOrder,"recieved")&&r),r},null,null)),(t()(),ai(-1,null,["Order Recieved"]))],null,function(t,e){var n=e.component;t(e,0,0,"recieved"===n.ShowOrder.status||"mealPreparing"===n.ShowOrder.status||"delivered"===n.ShowOrder.status)})}function Yb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.UpdateOrder(o.ShowOrder,"mealPreparing")&&r),r},null,null)),(t()(),ai(-1,null,["Meal Preparing"]))],null,function(t,e){var n=e.component;t(e,0,0,"mealPreparing"===n.ShowOrder.status||"delivered"===n.ShowOrder.status||"pending"===n.ShowOrder.status)})}function Xb(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.UpdateOrder(o.ShowOrder,"delivered")&&r),r},null,null)),(t()(),ai(-1,null,["Order Delivered"]))],null,function(t,e){var n=e.component;t(e,0,0,"recieved"===n.ShowOrder.status||"delivered"===n.ShowOrder.status||"pending"===n.ShowOrder.status)})}function $b(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"button",[["class","btn btn-primary"],["data-dismiss","modal"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.DeleteOrder(o.ShowOrder)&&r),r},null,null)),(t()(),ai(-1,null,["Delete"]))],null,function(t,e){t(e,0,0,"done"!=e.component.ShowOrder.payment)})}function Zb(t){return hi(0,[(t()(),Xr(0,0,null,null,99,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","exampleModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,96,"div",[["class","modal-dialog modal-lg"],["role","document"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,93,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(8,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),ai(9,null,[" "," "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(11,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(13,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),ai(-1,null,["\xd7"])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Yr(16777216,null,null,1,null,Fb)),Fo(19,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(21,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Vb)),Fo(24,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Xr(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(28,0,null,null,29,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        \n           "])),(t()(),Xr(30,0,null,null,26,"table",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(32,0,null,null,24,"tbody",[],null,null,null,null,null)),(t()(),Xr(33,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(35,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Cart Number"])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(38,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Item Name"])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(41,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Quantity"])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(45,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(47,0,null,null,1,"td",[],[[1,"rowspan",0]],null,null,null,null)),(t()(),ai(48,null,["",""])),(t()(),ai(-1,null,["\n                   "])),(t()(),Yr(16777216,null,null,1,null,qb)),Fo(51,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["    \n               "])),(t()(),ai(-1,null,["\n               "])),(t()(),Yr(16777216,null,null,1,null,Wb)),Fo(55,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n           "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(59,0,null,null,18,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(61,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(62,null,["cart value : ",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Qb)),Fo(65,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n       "])),(t()(),Yr(16777216,null,null,1,null,zb)),Fo(68,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n         "])),(t()(),Yr(16777216,null,null,1,null,Gb)),Fo(71,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(73,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,[" "])),(t()(),Xr(75,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ai(-1,null,[" payment via: Credit-Card"])),(t()(),ai(-1,null,["\n       "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(79,0,null,null,16,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(81,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,null,null,null,null)),(t()(),ai(-1,null,["Print"])),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Kb)),Fo(85,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Yb)),Fo(88,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,Xb)),Fo(91,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),Yr(16777216,null,null,1,null,$b)),Fo(94,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n     "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n"])),(t()(),ai(-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,19,0,0!=n.ShowOrder.location_lat),t(e,24,0,0!=n.ShowOrder.location_lat),t(e,51,0,n.dishes),t(e,55,0,n.dishes),t(e,65,0,0!=n.ShowOrder.location_lat),t(e,68,0,0===n.ShowOrder.location_lat),t(e,71,0,0===n.ShowOrder.location_lat),t(e,85,0,0!=n.ShowOrder.location_lat),t(e,88,0,0!=n.ShowOrder.location_lat),t(e,91,0,0!=n.ShowOrder.location_lat),t(e,94,0,0===n.ShowOrder.location_lat)},function(t,e){var n=e.component;t(e,9,0,n.ShowOrder.userId),t(e,47,0,n.dishes.length),t(e,48,0,n.ShowOrder.cart_value),t(e,62,0,n.ShowOrder.cart_value)})}var Jb=function(){function t(){this.dayname=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],this.monthname=["January","February","March","April","May","June","July","August","September","October","November","December"]}return t.prototype.ngOnInit=function(){var t=this;this.getTime(),this.f=setInterval(function(){t.getTime()},1e4)},t.prototype.getTime=function(){this.hours=(new Date).getHours();var t=(new Date).getMinutes();this.day=this.dayname[(new Date).getDay()],this.Month=this.monthname[(new Date).getMonth()],this.Date=(new Date).getDate(),t/10<1?(this.minutes="0"+t.toString(),console.log(this.Date)):this.minutes=t.toString(),this.minutes+=this.hours>=12?" pm":" am",this.hours=this.hours>=13?this.hours-12:this.hours},t}(),tw=br({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function ew(t){return hi(0,[(t()(),Xr(0,0,null,null,73,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,16,"div",[["class","col-lg-3 col-sm-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,13,"div",[["class","card border-info mb-3"],["style","max-width: 18rem;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),ai(-1,null,["ICON"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(9,0,null,null,7,"div",[["class","card-body text-info"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(11,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(12,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(14,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(-1,null,["MENU ITEMS"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(20,0,null,null,16,"div",[["class","col-lg-3 col-sm-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(22,0,null,null,13,"div",[["class","card border-info mb-3"],["style","max-width: 18rem;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(24,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),ai(-1,null,["ICON"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(27,0,null,null,7,"div",[["class","card-body text-info"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(29,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(-1,null,["18"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(32,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(-1,null,["CATEGORIES"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(38,0,null,null,16,"div",[["class","col-lg-3 col-sm-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(40,0,null,null,13,"div",[["class","card border-info mb-3"],["style","max-width: 18rem;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(42,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),ai(-1,null,["ICON"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(45,0,null,null,7,"div",[["class","card-body text-info"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(47,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(48,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(50,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(-1,null,["ORDERS"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(56,0,null,null,16,"div",[["class","col-lg-3 col-sm-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(58,0,null,null,13,"div",[["class","card border-info mb-3"],["style","max-width: 18rem;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(60,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),ai(61,null,[""," ",""])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(63,0,null,null,7,"div",[["class","card-body text-info"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(65,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(66,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(68,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(69,null,["",":",""])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],null,function(t,e){var n=e.component;t(e,12,0,n.MenuItems.length),t(e,48,0,n.Orders.length),t(e,61,0,n.Month,n.Date),t(e,66,0,n.day),t(e,69,0,n.hours,n.minutes)})}var nw=function(){function t(){this.status=new Array,this.status.length=50}return t.prototype.ngOnInit=function(){},t.prototype.change=function(t){this.status[t]=this.st},t}(),rw=br({encapsulation:0,styles:[["td[_ngcontent-%COMP%]{width:100px}"]],data:{}});function ow(t){return hi(0,[(t()(),Xr(0,0,null,null,25,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Time"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Date"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(8,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["User"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Person"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(14,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Table No."])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["status"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(20,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Action"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(23,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Assign Table"])),(t()(),ai(-1,null,["\n    "]))],null,null)}function iw(t){return hi(0,[(t()(),Xr(0,0,null,null,114,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,111,"table",[["class","table table-striped"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,4,"thead",[["class","thead-dark"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Yr(16777216,null,null,1,null,ow)),Fo(7,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(10,0,null,null,102,"tbody",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(12,0,null,null,100,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,["10:00"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(17,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,["09-4-2018"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(21,null,[" "," "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(23,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,["5"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(26,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(27,null,[" "," "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(29,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(30,null,[" "," "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(32,0,null,null,19,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,[" "])),(t()(),Xr(34,0,null,null,16,"select",[["class","form-control form-control-sm"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,35).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,35).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.st=n)&&r),"change"===e&&(r=!1!==o.change(o.i)&&r),r},null,null)),Fo(35,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(37,671744,null,0,Zp,[[8,null],[8,null],[8,null],[2,ip]],{model:[0,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(39,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(41,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Fo(42,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(43,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Approve"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(46,0,null,null,3,"option",[],null,null,null,null,null)),Fo(47,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(48,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Rejected"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(53,0,null,null,58,"td",[],null,null,null,null,null)),(t()(),Xr(54,0,null,null,56,"select",[["class","form-control form-control-sm"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,55).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,55).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.TableNo=n)&&r),r},null,null)),Fo(55,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(57,671744,null,0,Zp,[[8,null],[8,null],[8,null],[2,ip]],{model:[0,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(59,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(61,0,null,null,3,"option",[],null,null,null,null,null)),Fo(62,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(63,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["1"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(66,0,null,null,3,"option",[],null,null,null,null,null)),Fo(67,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(68,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["2"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(71,0,null,null,3,"option",[],null,null,null,null,null)),Fo(72,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(73,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["3"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(76,0,null,null,3,"option",[],null,null,null,null,null)),Fo(77,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(78,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["4"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(81,0,null,null,3,"option",[],null,null,null,null,null)),Fo(82,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(83,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["5"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(86,0,null,null,3,"option",[],null,null,null,null,null)),Fo(87,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(88,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["6"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(91,0,null,null,3,"option",[],null,null,null,null,null)),Fo(92,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(93,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["7"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(96,0,null,null,3,"option",[],null,null,null,null,null)),Fo(97,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(98,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["8"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(101,0,null,null,3,"option",[],null,null,null,null,null)),Fo(102,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(103,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["9"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(106,0,null,null,3,"option",[],null,null,null,null,null)),Fo(107,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(108,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["10"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,7,0,0===n.index),t(e,37,0,n.st),t(e,57,0,n.TableNo)},function(t,e){var n=e.component;t(e,21,0,n.SelectedOrder.userId),t(e,27,0,n.TableNo||7),t(e,30,0,n.status[n.i]||"Rejected"),t(e,34,0,To(e,39).ngClassUntouched,To(e,39).ngClassTouched,To(e,39).ngClassPristine,To(e,39).ngClassDirty,To(e,39).ngClassValid,To(e,39).ngClassInvalid,To(e,39).ngClassPending),t(e,54,0,To(e,59).ngClassUntouched,To(e,59).ngClassTouched,To(e,59).ngClassPristine,To(e,59).ngClassDirty,To(e,59).ngClassValid,To(e,59).ngClassInvalid,To(e,59).ngClassPending)})}function lw(t){return hi(0,[(t()(),Yr(16777216,null,null,1,null,iw)),Fo(1,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n\n"]))],function(t,e){t(e,1,0,e.component.SelectedOrder)},null)}var uw=function(){function t(t){this.orderService=t,this.MenuForm=!1}return t.prototype.ngOnInit=function(){},t.prototype.ShowMenuForm=function(){this.MenuForm=!this.MenuForm},t.prototype.SaveMenu=function(t,e,n,r,o,i,l){this.orderService.SaveMenuItem(this.Restaurant.restaurant_id,t,e,n,r,"1"===o?0:1,i,l),console.log(this.title),this.title=""},t}(),aw=br({encapsulation:0,styles:[[""]],data:{}});function sw(t){return hi(0,[(t()(),Xr(0,0,null,null,263,"div",[["class","menu-form"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(2,0,null,null,260,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==To(t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,4).onReset()&&r),r},null,null)),Fo(3,16384,null,0,lf,[],null,null),Fo(4,4210688,null,0,Qp,[[8,null],[8,null]],null,null),jo(2048,null,$d,null,[Qp]),Fo(6,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(8,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(10,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Title"]],null,null,null,null,null)),(t()(),ai(-1,null,["Title"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(13,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(15,0,null,null,5,"input",[["class","form-control"],["id","Title"],["name","title"],["placeholder","Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,16)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.title=n)&&r),r},null,null)),Fo(16,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(18,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(20,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(24,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(26,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","exampleFormControlTextarea1"]],null,null,null,null,null)),(t()(),ai(-1,null,["Description"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(29,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(31,0,null,null,5,"textarea",[["class","form-control"],["id","exampleFormControlTextarea1"],["name","desc"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,32)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.desc=n)&&r),r},null,null)),Fo(32,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(34,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(36,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(40,0,null,null,110,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(42,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","CategoryType"]],null,null,null,null,null)),(t()(),ai(-1,null,["Category"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(45,0,null,null,104,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(47,0,null,null,101,"select",[["class","custom-select"],["id","CategoryType"],["name","CategoryType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,48).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,48).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.category=n)&&r),r},null,null)),Fo(48,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(50,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(52,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(54,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Fo(55,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(56,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Category Type"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(59,0,null,null,3,"option",[],null,null,null,null,null)),Fo(60,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(61,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["French"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(64,0,null,null,3,"option",[],null,null,null,null,null)),Fo(65,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(66,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Cocktail"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(69,0,null,null,3,"option",[],null,null,null,null,null)),Fo(70,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(71,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Desert"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(74,0,null,null,3,"option",[],null,null,null,null,null)),Fo(75,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(76,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Sushi"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(79,0,null,null,3,"option",[],null,null,null,null,null)),Fo(80,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(81,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Thai/Asian"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(84,0,null,null,3,"option",[],null,null,null,null,null)),Fo(85,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(86,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Coffee"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(89,0,null,null,3,"option",[],null,null,null,null,null)),Fo(90,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(91,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Pizza"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(94,0,null,null,3,"option",[],null,null,null,null,null)),Fo(95,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(96,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Burger"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(99,0,null,null,3,"option",[],null,null,null,null,null)),Fo(100,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(101,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Salad"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(104,0,null,null,3,"option",[],null,null,null,null,null)),Fo(105,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(106,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Breakfast"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(109,0,null,null,3,"option",[],null,null,null,null,null)),Fo(110,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(111,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Italian"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(114,0,null,null,3,"option",[],null,null,null,null,null)),Fo(115,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(116,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Modern India"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(119,0,null,null,3,"option",[],null,null,null,null,null)),Fo(120,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(121,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Middle Eastern"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(124,0,null,null,3,"option",[],null,null,null,null,null)),Fo(125,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(126,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Sea Food"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(129,0,null,null,3,"option",[],null,null,null,null,null)),Fo(130,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(131,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Mexican"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(134,0,null,null,3,"option",[],null,null,null,null,null)),Fo(135,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(136,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["European"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(139,0,null,null,3,"option",[],null,null,null,null,null)),Fo(140,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(141,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Brewery"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(144,0,null,null,3,"option",[],null,null,null,null,null)),Fo(145,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(146,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Other"])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(152,0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(154,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Price"]],null,null,null,null,null)),(t()(),ai(-1,null,["Price"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(157,0,null,null,9,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(159,0,null,null,6,"input",[["class","form-control"],["id","Price"],["name","price"],["placeholder","Price"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,160)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,160).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,160)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,160)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==To(t,161).onChange(n.target.value)&&r),"input"===e&&(r=!1!==To(t,161).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,161).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.price=n)&&r),r},null,null)),Fo(160,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(161,16384,null,0,hp,[pn,fn],null,null),jo(1024,null,ip,function(t,e){return[t,e]},[ap,hp]),Fo(163,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(165,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(169,0,null,null,30,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(171,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","veg-nonveg"]],null,null,null,null,null)),(t()(),ai(-1,null,["Veg/Non-Veg"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(174,0,null,null,24,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(176,0,null,null,21,"select",[["class","custom-select"],["id","veg-nonveg"],["name","veg/non-veg"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,177).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,177).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.veg=n)&&r),r},null,null)),Fo(177,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(179,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(181,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(183,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Fo(184,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(185,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Category"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(188,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),Fo(189,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(190,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Veg"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(193,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),Fo(194,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(195,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Non Veg"])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(201,0,null,null,40,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(203,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Course Type"]],null,null,null,null,null)),(t()(),ai(-1,null,["Course Type"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(206,0,null,null,34,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(208,0,null,null,31,"select",[["class","custom-select"],["id","Course Type"],["name","courseType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,209).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,209).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.course_type=n)&&r),r},null,null)),Fo(209,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(211,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(213,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(215,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Fo(216,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(217,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["Course Type"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(220,0,null,null,3,"option",[],null,null,null,null,null)),Fo(221,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(222,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["course 1"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(225,0,null,null,3,"option",[],null,null,null,null,null)),Fo(226,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(227,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["course 2"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(230,0,null,null,3,"option",[],null,null,null,null,null)),Fo(231,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(232,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["course 3"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(235,0,null,null,3,"option",[],null,null,null,null,null)),Fo(236,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(237,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,["course 4"])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(243,0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(245,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Serving"]],null,null,null,null,null)),(t()(),ai(-1,null,["Serving"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(248,0,null,null,9,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(250,0,null,null,6,"input",[["class","form-control"],["id","Serving"],["name","Serving"],["placeholder","Serving"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,251)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,251).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,251)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,251)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==To(t,252).onChange(n.target.value)&&r),"input"===e&&(r=!1!==To(t,252).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,252).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.Serving=n)&&r),r},null,null)),Fo(251,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(252,16384,null,0,hp,[pn,fn],null,null),jo(1024,null,ip,function(t,e){return[t,e]},[ap,hp]),Fo(254,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(256,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(260,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.SaveMenu(o.title,o.desc,o.category,o.price,o.veg,o.course_type,o.serving)&&r),r},null,null)),(t()(),ai(-1,null,["Submit"])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,18,0,"title",n.title),t(e,34,0,"desc",n.desc),t(e,50,0,"CategoryType",n.category),t(e,163,0,"price",n.price),t(e,179,0,"veg/non-veg",n.veg),t(e,189,0,"1"),t(e,190,0,"1"),t(e,194,0,"2"),t(e,195,0,"2"),t(e,211,0,"courseType",n.course_type),t(e,254,0,"Serving",n.Serving)},function(t,e){t(e,2,0,To(e,6).ngClassUntouched,To(e,6).ngClassTouched,To(e,6).ngClassPristine,To(e,6).ngClassDirty,To(e,6).ngClassValid,To(e,6).ngClassInvalid,To(e,6).ngClassPending),t(e,15,0,To(e,20).ngClassUntouched,To(e,20).ngClassTouched,To(e,20).ngClassPristine,To(e,20).ngClassDirty,To(e,20).ngClassValid,To(e,20).ngClassInvalid,To(e,20).ngClassPending),t(e,31,0,To(e,36).ngClassUntouched,To(e,36).ngClassTouched,To(e,36).ngClassPristine,To(e,36).ngClassDirty,To(e,36).ngClassValid,To(e,36).ngClassInvalid,To(e,36).ngClassPending),t(e,47,0,To(e,52).ngClassUntouched,To(e,52).ngClassTouched,To(e,52).ngClassPristine,To(e,52).ngClassDirty,To(e,52).ngClassValid,To(e,52).ngClassInvalid,To(e,52).ngClassPending),t(e,159,0,To(e,165).ngClassUntouched,To(e,165).ngClassTouched,To(e,165).ngClassPristine,To(e,165).ngClassDirty,To(e,165).ngClassValid,To(e,165).ngClassInvalid,To(e,165).ngClassPending),t(e,176,0,To(e,181).ngClassUntouched,To(e,181).ngClassTouched,To(e,181).ngClassPristine,To(e,181).ngClassDirty,To(e,181).ngClassValid,To(e,181).ngClassInvalid,To(e,181).ngClassPending),t(e,208,0,To(e,213).ngClassUntouched,To(e,213).ngClassTouched,To(e,213).ngClassPristine,To(e,213).ngClassDirty,To(e,213).ngClassValid,To(e,213).ngClassInvalid,To(e,213).ngClassPending),t(e,250,0,To(e,256).ngClassUntouched,To(e,256).ngClassTouched,To(e,256).ngClassPristine,To(e,256).ngClassDirty,To(e,256).ngClassValid,To(e,256).ngClassInvalid,To(e,256).ngClassPending)})}function cw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,["Non-veg"]))],null,null)}function hw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(-1,null,["Veg"]))],null,null)}function dw(t){return hi(0,[(t()(),Xr(0,0,null,null,27,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(3,null,["",""])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(6,null,["",""])),(t()(),ai(-1,null,["\n      "])),(t()(),Yr(16777216,null,null,1,null,cw)),Fo(9,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n      "])),(t()(),Yr(16777216,null,null,1,null,hw)),Fo(12,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(15,null,[" ",""])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(17,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(18,null,["",""])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(20,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Xr(21,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,null,null,null,null)),(t()(),ai(-1,null,["Edit"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(24,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Xr(25,0,null,null,1,"button",[["class","btn btn-danger btn-sm"]],null,null,null,null,null)),(t()(),ai(-1,null,["Delete"])),(t()(),ai(-1,null,["\n    "]))],function(t,e){t(e,9,0,0===e.context.$implicit.veg),t(e,12,0,1===e.context.$implicit.veg)},function(t,e){t(e,3,0,e.context.$implicit.title),t(e,6,0,e.context.$implicit.price),t(e,15,0,e.context.$implicit.category),t(e,18,0,e.context.$implicit.serving)})}function pw(t){return hi(0,[(t()(),Xr(0,0,null,null,57,"div",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,0,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(6,0,null,null,4,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(8,0,null,null,1,"button",[["class","btn btn-group-lg"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.ShowMenuForm()&&r),r},null,null)),(t()(),ai(-1,null,["Add Menu Item"])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n\n  "])),(t()(),ai(-1,null,["\n\n  "])),(t()(),Yr(16777216,null,null,1,null,sw)),Fo(17,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n\n  "])),(t()(),ai(-1,null,["\n\n  "])),(t()(),Xr(22,0,null,null,34,"table",[["class","table table-striped"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(24,0,null,null,25,"thead",[["class","thead-dark"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(26,0,null,null,22,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(28,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Title"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(31,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Price"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(34,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Veg/Non-Veg"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(37,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Category"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(40,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Serving"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(43,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Edit"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(46,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),ai(-1,null,["Delete"])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(51,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Yr(16777216,null,null,1,null,dw)),Fo(54,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,17,0,n.MenuForm),t(e,54,0,n.Menu)},null)}function fw(t){return hi(0,[(t()(),Yr(16777216,null,null,1,null,pw)),Fo(1,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"]))],function(t,e){t(e,1,0,e.component.Restaurant)},null)}var gw=function(){function t(t){this.Services=t,this.OfferForm=!1}return t.prototype.ngOnInit=function(){},t.prototype.findDay=function(t){this.day=new Date(t).getDay(),console.log(this.day)},t.prototype.ShowOfferForm=function(){this.OfferForm=!this.OfferForm},t.prototype.SaveOffer=function(t,e,n,r,o){switch(this.day){case 0:this.day="Sunday";break;case 1:this.day="Monday";break;case 2:this.day="Tuesday";break;case 3:this.day="Wednesday";break;case 4:this.day="Thursday";break;case 5:this.day="Friday";break;case 6:this.day="Saturday"}this.Services.SaveOffer(this.Restaurant.restaurant_id,t,e,this.day,n,r,o+="%")},t}(),yw=br({encapsulation:0,styles:[[""]],data:{}});function mw(t){return hi(0,[(t()(),Xr(0,0,null,null,147,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,144,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==To(t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,4).onReset()&&r),r},null,null)),Fo(3,16384,null,0,lf,[],null,null),Fo(4,4210688,null,0,Qp,[[8,null],[8,null]],null,null),jo(2048,null,$d,null,[Qp]),Fo(6,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(8,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(10,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Title"]],null,null,null,null,null)),(t()(),ai(-1,null,["Title"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(13,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(15,0,null,null,5,"input",[["class","form-control"],["id","Title"],["name","title"],["placeholder","Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,16)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.name=n)&&r),r},null,null)),Fo(16,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(18,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(20,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(24,0,null,null,118,"div",[["class","discount-form"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(26,0,null,null,69,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(28,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","date"]],null,null,null,null,null)),(t()(),ai(-1,null,["Date"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(31,0,null,null,8,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(33,0,null,null,5,"input",[["class","form-control"],["id","date"],["name","date"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,34)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,34).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,34)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,34)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.date=n)&&r),"change"===e&&(r=!1!==o.findDay(o.date)&&r),r},null,null)),Fo(34,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(36,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(38,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(41,0,null,null,1,"label",[["class","col-sm-1 col-form-label"],["for","day"]],null,null,null,null,null)),(t()(),ai(-1,null,["Day"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(44,0,null,null,50,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(47,0,null,null,46,"select",[["class","form-control"],["id","day"],["name","day"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==To(t,48).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,48).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.day=n)&&r),r},null,null)),Fo(48,16384,null,0,vp,[pn,fn],null,null),jo(1024,null,ip,function(t){return[t]},[vp]),Fo(50,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(52,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(54,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Fo(55,147456,null,0,_p,[fn,pn,[2,vp]],null,null),Fo(56,147456,null,0,Cp,[fn,pn,[8,null]],null,null),(t()(),ai(-1,null,[" Select Day "])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(59,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),Fo(60,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(61,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Sunday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(64,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),Fo(65,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(66,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Monday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(69,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),Fo(70,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(71,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Tuesday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(74,0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),Fo(75,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(76,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Wednesday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(79,0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),Fo(80,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(81,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Thursday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(84,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),Fo(85,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(86,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Friday"])),(t()(),ai(-1,null,["\n            "])),(t()(),Xr(89,0,null,null,3,"option",[["value","6"]],null,null,null,null,null)),Fo(90,147456,null,0,_p,[fn,pn,[2,vp]],{value:[0,"value"]},null),Fo(91,147456,null,0,Cp,[fn,pn,[8,null]],{value:[0,"value"]},null),(t()(),ai(-1,null,["Saturday"])),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(97,0,null,null,27,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(99,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","start_time"]],null,null,null,null,null)),(t()(),ai(-1,null,["Start Time"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(102,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(104,0,null,null,5,"input",[["class","form-control"],["id","start_time"],["name","price"],["type","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,105)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,105).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,105)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,105)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.start_time=n)&&r),r},null,null)),Fo(105,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(107,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(109,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(112,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","end_time"]],null,null,null,null,null)),(t()(),ai(-1,null,["End Time"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(115,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(117,0,null,null,5,"input",[["class","form-control"],["id","end_time"],["name","price"],["type","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,118)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,118).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,118)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,118)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.end_time=n)&&r),r},null,null)),Fo(118,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(120,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(122,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(126,0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(128,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","discount"]],null,null,null,null,null)),(t()(),ai(-1,null,["Discount"])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(131,0,null,null,9,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(133,0,null,null,6,"input",[["class","form-control"],["id","discount"],["name","discount"],["placeholder","Discount"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,134)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,134).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,134)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,134)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==To(t,135).onChange(n.target.value)&&r),"input"===e&&(r=!1!==To(t,135).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,135).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.percentage=n)&&r),r},null,null)),Fo(134,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(135,16384,null,0,hp,[pn,fn],null,null),jo(1024,null,ip,function(t,e){return[t,e]},[ap,hp]),Fo(137,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(139,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(144,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.SaveOffer(o.name,o.date,o.start_time,o.end_time,o.percentage)&&r),r},null,null)),(t()(),ai(-1,null,["Submit"])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,18,0,"title",n.name),t(e,36,0,"date",n.date),t(e,50,0,"day",n.day),t(e,60,0,"0"),t(e,61,0,"0"),t(e,65,0,"1"),t(e,66,0,"1"),t(e,70,0,"2"),t(e,71,0,"2"),t(e,75,0,"3"),t(e,76,0,"3"),t(e,80,0,"4"),t(e,81,0,"4"),t(e,85,0,"5"),t(e,86,0,"5"),t(e,90,0,"6"),t(e,91,0,"6"),t(e,107,0,"price",n.start_time),t(e,120,0,"price",n.end_time),t(e,137,0,"discount",n.percentage)},function(t,e){t(e,2,0,To(e,6).ngClassUntouched,To(e,6).ngClassTouched,To(e,6).ngClassPristine,To(e,6).ngClassDirty,To(e,6).ngClassValid,To(e,6).ngClassInvalid,To(e,6).ngClassPending),t(e,15,0,To(e,20).ngClassUntouched,To(e,20).ngClassTouched,To(e,20).ngClassPristine,To(e,20).ngClassDirty,To(e,20).ngClassValid,To(e,20).ngClassInvalid,To(e,20).ngClassPending),t(e,33,0,To(e,38).ngClassUntouched,To(e,38).ngClassTouched,To(e,38).ngClassPristine,To(e,38).ngClassDirty,To(e,38).ngClassValid,To(e,38).ngClassInvalid,To(e,38).ngClassPending),t(e,47,0,To(e,52).ngClassUntouched,To(e,52).ngClassTouched,To(e,52).ngClassPristine,To(e,52).ngClassDirty,To(e,52).ngClassValid,To(e,52).ngClassInvalid,To(e,52).ngClassPending),t(e,104,0,To(e,109).ngClassUntouched,To(e,109).ngClassTouched,To(e,109).ngClassPristine,To(e,109).ngClassDirty,To(e,109).ngClassValid,To(e,109).ngClassInvalid,To(e,109).ngClassPending),t(e,117,0,To(e,122).ngClassUntouched,To(e,122).ngClassTouched,To(e,122).ngClassPristine,To(e,122).ngClassDirty,To(e,122).ngClassValid,To(e,122).ngClassInvalid,To(e,122).ngClassPending),t(e,133,0,To(e,139).ngClassUntouched,To(e,139).ngClassTouched,To(e,139).ngClassPristine,To(e,139).ngClassDirty,To(e,139).ngClassValid,To(e,139).ngClassInvalid,To(e,139).ngClassPending)})}function vw(t){return hi(0,[(t()(),Xr(0,0,null,null,27,"div",[["class","col-lg-6 col-sm-12"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(2,0,null,null,24,"div",[["class","card bg-light mb-3"],["style","max-width: 18rem;"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(4,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Xr(5,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),ai(6,null,["",""])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(8,0,null,null,17,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(10,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(11,null,["Discount : ",""])),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(15,0,null,null,9,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(16,null,["Date : "," "])),(t()(),Xr(17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(18,null,["\n            Day : "," "])),(t()(),Xr(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(20,null,["\n            Open : "," "])),(t()(),Xr(21,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(22,null,["\n            Close : "," "])),(t()(),Xr(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "]))],null,function(t,e){t(e,6,0,e.context.$implicit.title),t(e,11,0,e.context.$implicit.discount),t(e,16,0,e.context.$implicit.date),t(e,18,0,e.context.$implicit.day),t(e,20,0,e.context.$implicit.start_time),t(e,22,0,e.context.$implicit.end_time)})}function _w(t){return hi(0,[(t()(),Xr(0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,0,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(4,0,null,null,4,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(6,0,null,null,1,"button",[["class","btn btn-group-lg"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.ShowOfferForm()&&r),r},null,null)),(t()(),ai(-1,null,["Add Offers"])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"])),(t()(),Xr(11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n\n"])),(t()(),Yr(16777216,null,null,1,null,mw)),Fo(14,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n"])),(t()(),Xr(18,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(20,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Yr(16777216,null,null,1,null,vw)),Fo(23,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,14,0,n.OfferForm),t(e,23,0,n.CurrentOffers)},null)}var bw=function(){function t(t){this.Service=t}return t.prototype.ngOnInit=function(){},t.prototype.SaveInfo=function(){var t,e;(new google.maps.Geocoder).geocode({address:this.Location},function(n,r){r===google.maps.GeocoderStatus.OK&&(t=n[0].geometry.location.lat(),e=n[0].geometry.location.lng())}),this.Service.addRestaurantInfo(this.Restaurant.restaurant_id,this.Email,this.desc,this.Address,this.FacebookLink,this.TwitterLink,t,e,this.Contact_No,this.RestaurantName)},t}(),ww=br({encapsulation:0,styles:[[""]],data:{}});function Cw(t){return hi(0,[(t()(),Xr(0,0,null,null,139,"div",[["class","menu-form"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,136,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==To(t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,4).onReset()&&r),r},null,null)),Fo(3,16384,null,0,lf,[],null,null),Fo(4,4210688,null,0,Qp,[[8,null],[8,null]],null,null),jo(2048,null,$d,null,[Qp]),Fo(6,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(8,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(10,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Email"]],null,null,null,null,null)),(t()(),ai(-1,null,["Email"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(13,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(15,0,null,null,5,"input",[["class","form-control"],["id","Email"],["name","title"],["placeholder","abc@gmail.com"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,16)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Email=n)&&r),r},null,null)),Fo(16,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(18,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(20,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(24,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(26,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","exampleFormControlTextarea1"]],null,null,null,null,null)),(t()(),ai(-1,null,["Description"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(29,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(31,0,null,null,5,"textarea",[["class","form-control"],["id","exampleFormControlTextarea1"],["name","desc"],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,32)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,32).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,32)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,32)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.desc=n)&&r),r},null,null)),Fo(32,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(34,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(36,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(40,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(42,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","exampleFormControlTextarea2"]],null,null,null,null,null)),(t()(),ai(-1,null,["Address"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(45,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(47,0,null,null,5,"textarea",[["class","form-control"],["id","exampleFormControlTextarea2"],["name","Address"],["rows","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,48)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,48).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,48)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,48)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Address=n)&&r),r},null,null)),Fo(48,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(50,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(52,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(56,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(58,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","FacebookLink"]],null,null,null,null,null)),(t()(),ai(-1,null,["Twitter Link"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(61,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(63,0,null,null,5,"input",[["class","form-control"],["id","FacebookLink"],["name","FacebookLink"],["placeholder","www.facebook.com/xyz"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,64)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,64).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,64)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,64)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.FacebookLink=n)&&r),r},null,null)),Fo(64,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(66,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(68,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(72,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(74,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","TwitterLink"]],null,null,null,null,null)),(t()(),ai(-1,null,["Twitter Link"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(77,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(79,0,null,null,5,"input",[["class","form-control"],["id","TwitterLink"],["name","TwitterLink"],["placeholder","www.twitter.com/xyz"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,80)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,80).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,80)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,80)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.TwitterLink=n)&&r),r},null,null)),Fo(80,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(82,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(84,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(88,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(90,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Location"]],null,null,null,null,null)),(t()(),ai(-1,null,["Resaturant Location"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(93,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(95,0,null,null,5,"input",[["class","form-control"],["id","Location"],["name","Location"],["placeholder","Chandini chowk,New Delhi"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,96)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,96).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,96)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,96)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Location=n)&&r),r},null,null)),Fo(96,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(98,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(100,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(104,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(106,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Contact"]],null,null,null,null,null)),(t()(),ai(-1,null,["Contact Number"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(109,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(111,0,null,null,5,"input",[["class","form-control"],["id","Contact"],["name","Contact"],["placeholder","+91-9871878432"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,112)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,112).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,112)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,112)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Contact_No=n)&&r),r},null,null)),Fo(112,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(114,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(116,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(120,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(122,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Name"]],null,null,null,null,null)),(t()(),ai(-1,null,["Restaurant Name"])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(125,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(127,0,null,null,5,"input",[["class","form-control"],["id","Name"],["name","title"],["placeholder",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,128)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,128).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,128)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,128)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.RestaurantName=n)&&r),r},null,null)),Fo(128,16384,null,0,ap,[pn,fn,[2,up]],null,null),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(130,671744,null,0,Zp,[[2,$d],[8,null],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(132,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(136,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.SaveInfo()&&r),r},null,null)),(t()(),ai(-1,null,["Submit"])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,18,0,"title",n.Email),t(e,34,0,"desc",n.desc),t(e,50,0,"Address",n.Address),t(e,66,0,"FacebookLink",n.FacebookLink),t(e,82,0,"TwitterLink",n.TwitterLink),t(e,98,0,"Location",n.Location),t(e,114,0,"Contact",n.Contact_No),t(e,130,0,"title",n.RestaurantName)},function(t,e){t(e,2,0,To(e,6).ngClassUntouched,To(e,6).ngClassTouched,To(e,6).ngClassPristine,To(e,6).ngClassDirty,To(e,6).ngClassValid,To(e,6).ngClassInvalid,To(e,6).ngClassPending),t(e,15,0,To(e,20).ngClassUntouched,To(e,20).ngClassTouched,To(e,20).ngClassPristine,To(e,20).ngClassDirty,To(e,20).ngClassValid,To(e,20).ngClassInvalid,To(e,20).ngClassPending),t(e,31,0,To(e,36).ngClassUntouched,To(e,36).ngClassTouched,To(e,36).ngClassPristine,To(e,36).ngClassDirty,To(e,36).ngClassValid,To(e,36).ngClassInvalid,To(e,36).ngClassPending),t(e,47,0,To(e,52).ngClassUntouched,To(e,52).ngClassTouched,To(e,52).ngClassPristine,To(e,52).ngClassDirty,To(e,52).ngClassValid,To(e,52).ngClassInvalid,To(e,52).ngClassPending),t(e,63,0,To(e,68).ngClassUntouched,To(e,68).ngClassTouched,To(e,68).ngClassPristine,To(e,68).ngClassDirty,To(e,68).ngClassValid,To(e,68).ngClassInvalid,To(e,68).ngClassPending),t(e,79,0,To(e,84).ngClassUntouched,To(e,84).ngClassTouched,To(e,84).ngClassPristine,To(e,84).ngClassDirty,To(e,84).ngClassValid,To(e,84).ngClassInvalid,To(e,84).ngClassPending),t(e,95,0,To(e,100).ngClassUntouched,To(e,100).ngClassTouched,To(e,100).ngClassPristine,To(e,100).ngClassDirty,To(e,100).ngClassValid,To(e,100).ngClassInvalid,To(e,100).ngClassPending),t(e,111,0,To(e,116).ngClassUntouched,To(e,116).ngClassTouched,To(e,116).ngClassPristine,To(e,116).ngClassDirty,To(e,116).ngClassValid,To(e,116).ngClassInvalid,To(e,116).ngClassPending),t(e,127,0,To(e,132).ngClassUntouched,To(e,132).ngClassTouched,To(e,132).ngClassPristine,To(e,132).ngClassDirty,To(e,132).ngClassValid,To(e,132).ngClassInvalid,To(e,132).ngClassPending)})}var Ew=function(){function t(t){this.ordersService=t,this.LoginSuccess=new qe}return t.prototype.ngOnInit=function(){var t=this;this.ordersService.getUsers().subscribe(function(e){t.Users=e})},t.prototype.login=function(t){if(this.Users&&t.valid)for(var e=0;e<this.Users.length;e++)this.Users[e].username===this.username&&this.Users[e].password===this.password&&(this.LoginUser=this.Users[e],this.LoginSuccess.emit(this.Users[e]))},t}(),Sw=br({encapsulation:0,styles:[["form[_ngcontent-%COMP%]{width:60%;margin:0 auto}button[_ngcontent-%COMP%]{text-align:center;width:100%;margin:0 auto}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}p[_ngcontent-%COMP%]{font-size:small;margin-top:5px}"]],data:{}});function Tw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Username must be of atleast 3 letters "]))],null,null)}function Ow(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Please enter a valid Password"]))],null,null)}function Iw(t){return hi(0,[(t()(),Xr(0,0,null,null,49,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,43,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,o=t.component;return"submit"===e&&(r=!1!==To(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,8).onReset()&&r),"ngSubmit"===e&&(r=!1!==o.login(To(t,8))&&r),r},null,null)),Fo(7,16384,null,0,lf,[],null,null),Fo(8,4210688,[["f",4]],0,Qp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),jo(2048,null,$d,null,[Qp]),Fo(10,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(12,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(14,0,null,null,8,"input",[["class","form-control"],["minlength","3"],["name","username"],["placeholder","Username"],["required",""],["type","email"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.username=n)&&r),r},null,null)),Fo(15,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(16,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(17,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(20,671744,[["Username",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(22,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Tw)),Fo(25,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(28,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(30,0,null,null,8,"input",[["class","form-control"],["minlength","5"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,31)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.password=n)&&r),r},null,null)),Fo(31,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(32,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(33,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(36,671744,[["Password",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(38,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Ow)),Fo(41,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(44,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(t()(),ai(-1,null,["LogIn"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,16,0,""),t(e,17,0,"3"),t(e,20,0,"username",n.username),t(e,25,0,!To(e,20).valid&&To(e,20).touched),t(e,32,0,""),t(e,33,0,"5"),t(e,36,0,"password",n.password),t(e,41,0,!To(e,36).valid&&To(e,36).touched)},function(t,e){t(e,6,0,To(e,10).ngClassUntouched,To(e,10).ngClassTouched,To(e,10).ngClassPristine,To(e,10).ngClassDirty,To(e,10).ngClassValid,To(e,10).ngClassInvalid,To(e,10).ngClassPending),t(e,14,0,To(e,16).required?"":null,To(e,17).minlength?To(e,17).minlength:null,To(e,22).ngClassUntouched,To(e,22).ngClassTouched,To(e,22).ngClassPristine,To(e,22).ngClassDirty,To(e,22).ngClassValid,To(e,22).ngClassInvalid,To(e,22).ngClassPending),t(e,30,0,To(e,32).required?"":null,To(e,33).minlength?To(e,33).minlength:null,To(e,38).ngClassUntouched,To(e,38).ngClassTouched,To(e,38).ngClassPristine,To(e,38).ngClassDirty,To(e,38).ngClassValid,To(e,38).ngClassInvalid,To(e,38).ngClassPending)})}var xw=function(){function t(t){this.ordersService=t}return t.prototype.ngOnInit=function(){},t.prototype.signup=function(t){t.valid&&this.ordersService.signup(this.Name,this.username,this.Id,this.email,this.password,this.phone)},t}(),Pw=br({encapsulation:0,styles:[["form[_ngcontent-%COMP%]{width:60%;margin:0 auto}button[_ngcontent-%COMP%]{text-align:center;width:100%;margin:0 auto}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}p[_ngcontent-%COMP%]{font-size:small;margin-top:5px}"]],data:{}});function kw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Restaurant Name must be of atleast 3 letters "]))],null,null)}function Aw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Username must be of atleast 3 letters"]))],null,null)}function Nw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Restaurant Id cannot be empty"]))],null,null)}function Dw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Please enter a valid Email Address"]))],null,null)}function Rw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Please enter a valid Password"]))],null,null)}function Mw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"p",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),ai(-1,null,["Enter a Valid Phone Number"]))],null,null)}function Lw(t){return hi(0,[(t()(),Xr(0,0,null,null,117,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,114,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,111,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,108,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,o=t.component;return"submit"===e&&(r=!1!==To(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==To(t,8).onReset()&&r),"ngSubmit"===e&&(r=!1!==o.signup(To(t,8))&&r),r},null,null)),Fo(7,16384,null,0,lf,[],null,null),Fo(8,4210688,[["f",4]],0,Qp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),jo(2048,null,$d,null,[Qp]),Fo(10,16384,null,0,Mp,[$d],null,null),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(12,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(14,0,null,null,8,"input",[["class","form-control"],["minlength","3"],["name","name"],["placeholder","Restaurant Name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Name=n)&&r),r},null,null)),Fo(15,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(16,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(17,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(20,671744,[["RestaurantName",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(22,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,kw)),Fo(25,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(28,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(30,0,null,null,8,"input",[["class","form-control"],["minlength","3"],["name","username"],["placeholder","Username"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,31)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.username=n)&&r),r},null,null)),Fo(31,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(32,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(33,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(36,671744,[["Username",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(38,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Aw)),Fo(41,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(44,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(46,0,null,null,7,"input",[["class","form-control"],["name","Id"],["placeholder","Restaurant Id"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,47)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,47).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,47)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,47)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.Id=n)&&r),r},null,null)),Fo(47,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(48,16384,null,0,ef,[],{required:[0,"required"]},null),jo(1024,null,Jd,function(t){return[t]},[ef]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(51,671744,[["RestaurantId",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(53,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Nw)),Fo(56,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(59,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(61,0,null,null,8,"input",[["class","form-control"],["email",""],["id","exampleInputEmail1"],["name","email"],["placeholder","Email Address"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,62)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,62).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,62)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,62)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.email=n)&&r),r},null,null)),Fo(62,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(63,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(64,16384,null,0,nf,[],{email:[0,"email"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,nf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(67,671744,[["Email",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(69,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Dw)),Fo(72,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(75,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(77,0,null,null,8,"input",[["class","form-control"],["minlength","6"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,78)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,78).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,78)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,78)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.password=n)&&r),r},null,null)),Fo(78,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(79,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(80,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(83,671744,[["Password",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(85,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Rw)),Fo(88,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(91,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n          "])),(t()(),Xr(93,0,null,null,8,"input",[["class","form-control"],["minlength","10"],["name","phone"],["placeholder","Contact No."],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==To(t,94)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==To(t,94).onTouched()&&r),"compositionstart"===e&&(r=!1!==To(t,94)._compositionStart()&&r),"compositionend"===e&&(r=!1!==To(t,94)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.phone=n)&&r),r},null,null)),Fo(94,16384,null,0,ap,[pn,fn,[2,up]],null,null),Fo(95,16384,null,0,ef,[],{required:[0,"required"]},null),Fo(96,540672,null,0,rf,[],{minlength:[0,"minlength"]},null),jo(1024,null,Jd,function(t,e){return[t,e]},[ef,rf]),jo(1024,null,ip,function(t){return[t]},[ap]),Fo(99,671744,[["Phone",4]],0,Zp,[[2,$d],[2,Jd],[8,null],[2,ip]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),jo(2048,null,pp,null,[Zp]),Fo(101,16384,null,0,Rp,[pp],null,null),(t()(),ai(-1,null,["\n          "])),(t()(),Yr(16777216,null,null,1,null,Mw)),Fo(104,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(107,0,null,null,1,"small",[["class","form-text text-muted"]],null,null,null,null,null)),(t()(),ai(-1,null,["We'll never share your information with anyone else."])),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(110,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(112,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),ai(-1,null,["Signup"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,16,0,""),t(e,17,0,"3"),t(e,20,0,"name",n.Name),t(e,25,0,!To(e,20).valid&&To(e,20).touched),t(e,32,0,""),t(e,33,0,"3"),t(e,36,0,"username",n.username),t(e,41,0,!To(e,36).valid&&To(e,36).touched),t(e,48,0,""),t(e,51,0,"Id",n.Id),t(e,56,0,!To(e,51).valid&&To(e,51).touched),t(e,63,0,""),t(e,64,0,""),t(e,67,0,"email",n.email),t(e,72,0,!To(e,67).valid&&To(e,67).touched),t(e,79,0,""),t(e,80,0,"6"),t(e,83,0,"password",n.password),t(e,88,0,!To(e,83).valid&&To(e,83).touched),t(e,95,0,""),t(e,96,0,"10"),t(e,99,0,"phone",n.phone),t(e,104,0,!To(e,99).valid&&To(e,99).touched)},function(t,e){t(e,6,0,To(e,10).ngClassUntouched,To(e,10).ngClassTouched,To(e,10).ngClassPristine,To(e,10).ngClassDirty,To(e,10).ngClassValid,To(e,10).ngClassInvalid,To(e,10).ngClassPending),t(e,14,0,To(e,16).required?"":null,To(e,17).minlength?To(e,17).minlength:null,To(e,22).ngClassUntouched,To(e,22).ngClassTouched,To(e,22).ngClassPristine,To(e,22).ngClassDirty,To(e,22).ngClassValid,To(e,22).ngClassInvalid,To(e,22).ngClassPending),t(e,30,0,To(e,32).required?"":null,To(e,33).minlength?To(e,33).minlength:null,To(e,38).ngClassUntouched,To(e,38).ngClassTouched,To(e,38).ngClassPristine,To(e,38).ngClassDirty,To(e,38).ngClassValid,To(e,38).ngClassInvalid,To(e,38).ngClassPending),t(e,46,0,To(e,48).required?"":null,To(e,53).ngClassUntouched,To(e,53).ngClassTouched,To(e,53).ngClassPristine,To(e,53).ngClassDirty,To(e,53).ngClassValid,To(e,53).ngClassInvalid,To(e,53).ngClassPending),t(e,61,0,To(e,63).required?"":null,To(e,69).ngClassUntouched,To(e,69).ngClassTouched,To(e,69).ngClassPristine,To(e,69).ngClassDirty,To(e,69).ngClassValid,To(e,69).ngClassInvalid,To(e,69).ngClassPending),t(e,77,0,To(e,79).required?"":null,To(e,80).minlength?To(e,80).minlength:null,To(e,85).ngClassUntouched,To(e,85).ngClassTouched,To(e,85).ngClassPristine,To(e,85).ngClassDirty,To(e,85).ngClassValid,To(e,85).ngClassInvalid,To(e,85).ngClassPending),t(e,93,0,To(e,95).required?"":null,To(e,96).minlength?To(e,96).minlength:null,To(e,101).ngClassUntouched,To(e,101).ngClassTouched,To(e,101).ngClassPristine,To(e,101).ngClassDirty,To(e,101).ngClassValid,To(e,101).ngClassInvalid,To(e,101).ngClassPending),t(e,112,0,!To(e,8).valid)})}var Fw=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Vw=br({encapsulation:0,styles:[[""]],data:{}});function jw(t){return hi(0,[(t()(),Xr(0,0,null,null,30,"footer",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ai(-1,null,["\xa9 Binge 2018. All Rights Reserved."])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(7,0,null,null,21,"ul",[["class","list-inline"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(9,0,null,null,6,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(11,0,null,null,3,"a",[["href","javascript:void(0)"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==To(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Fo(12,671744,null,0,dd,[ad,Eh,El],{routerLink:[0,"routerLink"]},null),ii(13,1),(t()(),ai(-1,null,["Privacy"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(17,0,null,null,4,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(19,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),ai(-1,null,["Terms"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(23,0,null,null,4,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(25,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),ai(-1,null,["FAQ"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,12,0,t(e,13,0,"/privacypolicy.html"))},function(t,e){t(e,11,0,To(e,12).target,To(e,12).href)})}var Uw=function(){function t(t){this.ordersService=t,this.CurrentOffers=[],this.LoadedFeature="homepage"}return t.prototype.ngOnInit=function(){},t.prototype.SendOrderDetail=function(t){this.Dishes=[],this.Quantity=[],this.selectedOrder=t;for(var e=0,n=t.dishes;e<n.length;e++)for(var r=n[e],o=0,i=Object.keys(r);o<i.length;o++){var l=i[o];this.Dishes.push(l),this.Quantity.push(r[l])}this.TimeToReach=Object.values(t.time_to_reach)},t.prototype.OnNavigate=function(t){this.LoadedFeature=t,"Login"===t&&(this.LoggedInUser=null)},t.prototype.showOrders=function(t){var e=this;this.LoggedInUser=t,this.ordersService.getOrders(t.restaurant_id).subscribe(function(t){e.Orders=t}),this.ordersService.getPreOrders(t.restaurant_id).subscribe(function(t){e.PreOrders=t,console.log("this preorders",e.PreOrders)}),this.ordersService.getInsideOrders(t.restaurant_id).subscribe(function(t){e.InsideOrders=t}),this.LoadedFeature="Orders",this.getMenuItems(),this.getOffers()},t.prototype.getMenuItems=function(){var t=this;this.ordersService.getMenuItem(this.LoggedInUser.restaurant_id).subscribe(function(e){t.MenuItems=e})},t.prototype.getOffers=function(){var t=this;this.ordersService.getOffers(this.LoggedInUser.restaurant_id).subscribe(function(e){t.Offers=e,t.getCurrentOffer()})},t.prototype.getCurrentOffer=function(){if(this.CurrentOffers)for(var t=0;t<this.CurrentOffers.length;t++)this.CurrentOffers.pop();if(this.Offers)for(t=0;t<this.Offers.length;t++){var e=this.Offers[t].date+" "+this.Offers[t].end_time,n=new Date(this.Offers[t].date+" "+this.Offers[t].start_time).getTime(),r=new Date(e).getTime(),o=(new Date).getTime();o>n&&o<r&&this.CurrentOffers.push(this.Offers[t])}else console.log("Offers does not exist")},t.prototype.separateKyesValues=function(t,e){this.keys=[],this.values=[];for(var n=0,r=t;n<r.length;n++)for(var o=r[n],i=0,l=Object.keys(o);i<l.length;i++){var u=l[i];this.keys.push(u),this.values.push(o[u])}return"loop"==e?this.keys:"length"==e?this.keys.length:void 0},t.prototype.printFunction=function(){},t}(),qw=br({encapsulation:0,styles:[["#showOrder[_ngcontent-%COMP%]{padding-left:50px}.card[_ngcontent-%COMP%]{margin-left:50px}#map[_ngcontent-%COMP%]{height:200px;width:100%}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}card[_ngcontent-%COMP%]{background:red}"]],data:{}});function Bw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-homepage",[],null,null,null,Nb,Ab)),Fo(1,114688,null,0,kb,[],null,null)],function(t,e){t(e,1,0)},null)}function Hw(t){return hi(0,[(t()(),Xr(0,0,null,null,23,"div",[["class","p-1 ml-1"],["style","display:inline-block;width: 45%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n         "])),(t()(),Xr(2,0,null,null,20,"div",[["class","card text-white mb-3 m-0"],["style","width: 100%;"]],null,null,null,null,null)),Fo(3,278528,null,0,Ml,[Wn,Qn,fn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),li(4,{"bg-danger":0,"bg-warning":1,"bg-success":2}),(t()(),ai(-1,null,["\n           "])),(t()(),Xr(6,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n             "])),(t()(),Xr(8,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(9,null,[" Order No : ",""])),(t()(),ai(-1,null,["\n             "])),(t()(),Xr(11,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(12,null,["User       : "," "])),(t()(),Xr(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(14,null,[" cart value : ",""])),(t()(),ai(-1,null,["\n             "])),(t()(),Xr(16,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(17,null,["Location: "," , ",""])),(t()(),ai(-1,null,["\n             "])),(t()(),Xr(19,0,null,null,1,"button",[["class","btn btn-light"],["data-target","#exampleModal"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.SendOrderDetail(t.context.$implicit)&&r),r},null,null)),(t()(),ai(-1,null,["\n               View Details\n             "])),(t()(),ai(-1,null,["\n           "])),(t()(),ai(-1,null,["\n         "])),(t()(),ai(-1,null,["\n       "]))],function(t,e){t(e,3,0,"card text-white mb-3 m-0",t(e,4,0,e.context.index>=0&&e.context.index<10,e.context.index>=10&&e.context.index<15,e.context.index>=15))},function(t,e){t(e,9,0,e.context.index+1),t(e,12,0,e.context.$implicit.userId),t(e,14,0,e.context.$implicit.cart_value),t(e,17,0,e.context.$implicit.location_lat,e.context.$implicit.location_long)})}function Ww(t){return hi(0,[(t()(),Xr(0,0,null,null,21,"div",[["class","p-1 ml-1"],["style","display:inline-block;width: 45%"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n           "])),(t()(),Xr(2,0,null,null,18,"div",[["class","card text-white mb-3 m-0"],["style","width: 100%;"]],null,null,null,null,null)),Fo(3,278528,null,0,Ml,[Wn,Qn,fn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),li(4,{"bg-danger":0,"bg-warning":1,"bg-success":2}),(t()(),ai(-1,null,["\n             "])),(t()(),Xr(6,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(8,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),ai(9,null,[" Order No : ",""])),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(11,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),ai(12,null,["User       : "," "])),(t()(),Xr(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(14,null,[" cart value : ",""])),(t()(),ai(-1,null,["\n               "])),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(17,0,null,null,1,"button",[["class","btn btn-light"],["data-target","#exampleModal"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.SendOrderDetail(t.context.$implicit)&&r),r},null,null)),(t()(),ai(-1,null,["\n                 View Details\n               "])),(t()(),ai(-1,null,["\n             "])),(t()(),ai(-1,null,["\n           "])),(t()(),ai(-1,null,["\n         "]))],function(t,e){t(e,3,0,"card text-white mb-3 m-0",t(e,4,0,e.context.index>=0&&e.context.index<10,e.context.index>=10&&e.context.index<15,e.context.index>=15))},function(t,e){t(e,9,0,e.context.index+1),t(e,12,0,e.context.$implicit.userId),t(e,14,0,e.context.$implicit.cart_value)})}function Qw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.keys[e.parent.context.index])})}function zw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,[" ",""]))],null,function(t,e){t(e,1,0,e.component.values[e.parent.context.index])})}function Gw(t){return hi(0,[(t()(),Xr(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),ai(-1,null,["\n                      "])),(t()(),Yr(16777216,null,null,1,null,Qw)),Fo(3,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n                      "])),(t()(),Yr(16777216,null,null,1,null,zw)),Fo(6,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["  \n                   "]))],function(t,e){t(e,3,0,0==e.context.index),t(e,6,0,0==e.context.index)},null)}function Kw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.keys[e.parent.context.index+1])})}function Yw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),ai(1,null,[" ",""]))],null,function(t,e){t(e,1,0,e.component.values[e.parent.context.index+1])})}function Xw(t){return hi(0,[(t()(),Xr(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                    "])),(t()(),Yr(16777216,null,null,1,null,Kw)),Fo(3,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n                    "])),(t()(),Yr(16777216,null,null,1,null,Yw)),Fo(6,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["    \n                "]))],function(t,e){var n=e.component;t(e,3,0,e.context.index+1<n.keys.length),t(e,6,0,e.context.index+1<n.keys.length)},null)}function $w(t){return hi(0,[(t()(),Xr(0,0,null,null,13,null,null,null,null,null,null,null)),(t()(),ai(-1,null,["\n               "])),(t()(),Xr(2,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                  "])),(t()(),Xr(4,0,null,null,1,"td",[],[[1,"rowspan",0]],null,null,null,null)),(t()(),ai(5,null,["",""])),(t()(),ai(-1,null,["\n                   "])),(t()(),Yr(16777216,null,null,1,null,Gw)),Fo(8,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["    \n               "])),(t()(),ai(-1,null,["\n               "])),(t()(),Yr(16777216,null,null,1,null,Xw)),Fo(12,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,8,0,n.separateKyesValues(e.context.$implicit.dishes,"loop")),t(e,12,0,n.separateKyesValues(e.context.$implicit.dishes,"loop"))},function(t,e){t(e,4,0,e.component.separateKyesValues(e.context.$implicit.dishes,"length")),t(e,5,0,e.context.$implicit.cart_value)})}function Zw(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-order-detail",[],null,null,null,Zb,Rb)),Fo(1,114688,null,0,Db,[Ob],{ShowOrder:[0,"ShowOrder"],dishes:[1,"dishes"],quantities:[2,"quantities"],user:[3,"user"],time_to_reach:[4,"time_to_reach"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selectedOrder,n.Dishes,n.Quantity,n.LoggedInUser,n.TimeToReach)},null)}function Jw(t){return hi(0,[(t()(),Xr(0,0,null,null,49,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n "])),(t()(),Xr(2,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n   "])),(t()(),Xr(4,0,null,null,9,"div",[["class","col-sm-12 col-md-6 col-lg-6 p-0"],["style","border-right: 0.8px solid black"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Xr(6,0,null,null,2,"div",[["class","9"]],null,null,null,null,null)),(t()(),Xr(7,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(t()(),ai(-1,null,["PreOrders"])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n       "])),(t()(),Yr(16777216,null,null,1,null,Hw)),Fo(12,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n    "])),(t()(),ai(-1,null,["\n    "])),(t()(),Xr(15,0,null,null,29,"div",[["class","col-sm-12 col-md-6 col-lg-6 p-0"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n        "])),(t()(),Xr(17,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(t()(),ai(-1,null,["InsideOrders"])),(t()(),ai(-1,null,["\n         "])),(t()(),Yr(16777216,null,null,1,null,Ww)),Fo(21,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n         "])),(t()(),Xr(23,0,null,null,20,"div",[["id","printData"],["style","display:none"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n           "])),(t()(),Xr(25,0,null,null,17,"table",[["border","1px"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n              "])),(t()(),Xr(27,0,null,null,15,"tbody",[],null,null,null,null,null)),(t()(),Xr(28,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(30,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Cart Number"])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Item Name"])),(t()(),ai(-1,null,["\n                "])),(t()(),Xr(36,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ai(-1,null,["Quantity"])),(t()(),ai(-1,null,["\n              "])),(t()(),ai(-1,null,["\n              "])),(t()(),Yr(16777216,null,null,1,null,$w)),Fo(41,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n           "])),(t()(),ai(-1,null,["\n        "])),(t()(),ai(-1,null,["\n      "])),(t()(),ai(-1,null,["\n   "])),(t()(),Yr(16777216,null,null,1,null,Zw)),Fo(47,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n "])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,12,0,n.PreOrders),t(e,21,0,n.InsideOrders),t(e,41,0,n.PreOrders),t(e,47,0,n.selectedOrder)},null)}function tC(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-dashboard",[],null,null,null,ew,tw)),Fo(1,114688,null,0,Jb,[],{Orders:[0,"Orders"],MenuItems:[1,"MenuItems"]},null)],function(t,e){var n=e.component;t(e,1,0,n.Orders,n.MenuItems)},null)}function eC(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-table-booking",[],null,null,null,lw,rw)),Fo(1,114688,null,0,nw,[],{SelectedOrder:[0,"SelectedOrder"],index:[1,"index"]},null)],function(t,e){t(e,1,0,e.parent.context.$implicit,e.parent.context.index)},null)}function nC(t){return hi(0,[(t()(),Xr(0,0,null,null,4,"div",[["class","table-booking"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n      "])),(t()(),Yr(16777216,null,null,1,null,eC)),Fo(3,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n    "]))],function(t,e){t(e,3,0,"TableBooking"===e.component.LoadedFeature)},null)}function rC(t){return hi(0,[(t()(),Xr(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,1,"app-menu-item",[],null,null,null,fw,aw)),Fo(3,114688,null,0,uw,[Ob],{Restaurant:[0,"Restaurant"],Menu:[1,"Menu"]},null),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,n.LoggedInUser,n.MenuItems)},null)}function oC(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-discount",[],null,null,null,_w,yw)),Fo(1,114688,null,0,gw,[Ob],{Restaurant:[0,"Restaurant"],CurrentOffers:[1,"CurrentOffers"]},null)],function(t,e){var n=e.component;t(e,1,0,n.LoggedInUser,n.CurrentOffers)},null)}function iC(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-restaurant-info",[],null,null,null,Cw,ww)),Fo(1,114688,null,0,bw,[Ob],{Restaurant:[0,"Restaurant"]},null)],function(t,e){t(e,1,0,e.component.LoggedInUser)},null)}function lC(t){return hi(0,[(t()(),Xr(0,0,null,null,4,"div",[["class","container login"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,1,"app-login",[],null,[[null,"LoginSuccess"]],function(t,e,n){var r=!0;return"LoginSuccess"===e&&(r=!1!==t.component.showOrders(n)&&r),r},Iw,Sw)),Fo(3,114688,null,0,Ew,[Ob],null,{LoginSuccess:"LoginSuccess"}),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,3,0)},null)}function uC(t){return hi(0,[(t()(),Xr(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(2,0,null,null,1,"app-signup",[],null,null,null,Lw,Pw)),Fo(3,114688,null,0,xw,[Ob],null,null),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,3,0)},null)}function aC(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-footer",[],null,null,null,jw,Vw)),Fo(1,114688,null,0,Fw,[],null,null)],function(t,e){t(e,1,0)},null)}function sC(t){return hi(0,[(t()(),Xr(0,0,null,null,51,"div",[["id","holdprintData"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n"])),(t()(),Xr(2,0,null,null,1,"app-navbar",[],null,[[null,"Feature"]],function(t,e,n){var r=!0;return"Feature"===e&&(r=!1!==t.component.OnNavigate(n)&&r),r},Qd,qd)),Fo(3,114688,null,0,Ud,[],{user:[0,"user"]},{Feature:"Feature"}),(t()(),ai(-1,null,["\n"])),(t()(),Yr(16777216,null,null,1,null,Bw)),Fo(6,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n"])),(t()(),Xr(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),ai(-1,null,["\n"])),(t()(),Yr(16777216,null,null,1,null,Jw)),Fo(11,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(13,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Xr(15,0,null,null,4,"div",[["class","dashboard"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Yr(16777216,null,null,1,null,tC)),Fo(18,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n  "])),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(22,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n    "])),(t()(),Yr(16777216,null,null,1,null,nC)),Fo(25,802816,null,0,Fl,[Cn,wn,Wn],{ngForOf:[0,"ngForOf"]},null),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n"])),(t()(),Yr(16777216,null,null,1,null,rC)),Fo(29,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(31,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Yr(16777216,null,null,1,null,oC)),Fo(34,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n"])),(t()(),Xr(37,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),ai(-1,null,["\n  "])),(t()(),Yr(16777216,null,null,1,null,iC)),Fo(40,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n\n\n"])),(t()(),Yr(16777216,null,null,1,null,lC)),Fo(44,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"])),(t()(),Yr(16777216,null,null,1,null,uC)),Fo(47,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n\n"])),(t()(),Yr(16777216,null,null,1,null,aC)),Fo(50,16384,null,0,jl,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),ai(-1,null,["\n"])),(t()(),ai(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,n.LoggedInUser),t(e,6,0,"homepage"==n.LoadedFeature),t(e,11,0,"Orders"==n.LoadedFeature),t(e,18,0,"Home"===n.LoadedFeature),t(e,25,0,n.Orders),t(e,29,0,"Menu"===n.LoadedFeature),t(e,34,0,"Offers"===n.LoadedFeature),t(e,40,0,"info"==n.LoadedFeature),t(e,44,0,"Login"===n.LoadedFeature),t(e,47,0,"Signup"===n.LoadedFeature),t(e,50,0,"homepage"===n.LoadedFeature)},null)}var cC=fo("app-index-comp",Uw,function(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-index-comp",[],null,null,null,sC,qw)),Fo(1,114688,null,0,Uw,[Ob],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),hC=br({encapsulation:0,styles:[["#showOrder[_ngcontent-%COMP%]{padding-left:50px}.card[_ngcontent-%COMP%]{margin-left:50px}#map[_ngcontent-%COMP%]{height:200px;width:100%}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(1){background-color:#ddd}login[_ngcontent-%COMP%]{align-items:center}card[_ngcontent-%COMP%]{background:red}"]],data:{}});function dC(t){return hi(0,[(t()(),ai(-1,null,["\n"])),(t()(),Xr(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Fo(2,212992,null,0,yd,[gd,Cn,Ne,[8,null],En],null,null),(t()(),ai(-1,null,["\n"]))],function(t,e){t(e,2,0)},null)}var pC=fo("app-root",bl,function(t){return hi(0,[(t()(),Xr(0,0,null,null,1,"app-root",[],null,null,null,dC,hC)),Fo(1,114688,null,0,bl,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);Object.setPrototypeOf||Array,new bt("angular-google-maps LAZY_MAPS_API_CONFIG");var fC=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}(),gC=function(t,e,n){return new vl(_l,[bl],function(t){return function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[yr(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}([oo(512,Ne,De,[[8,[jd,kf,Rf,cC,pC]],[3,Ne],Me]),oo(5120,Xn,Jn,[[3,Xn]]),oo(4608,Dl,Rl,[Xn,[2,Nl]]),oo(5120,ye,me,[]),oo(5120,Wn,$n,[]),oo(5120,Qn,Zn,[]),oo(4608,as,ss,[Kl]),oo(6144,nr,null,[as]),oo(4608,Ma,La,[]),oo(5120,aa,function(t,e,n,r,o){return[new Da(t,e),new Ua(n),new Fa(r,o)]},[Kl,Be,Kl,Kl,Ma]),oo(4608,sa,sa,[aa,Be]),oo(135680,da,da,[Kl]),oo(4608,_a,_a,[sa,da]),oo(6144,hn,null,[_a]),oo(6144,ha,null,[da]),oo(4608,Xe,Xe,[Be]),oo(4608,ta,ta,[Kl]),oo(4608,oa,oa,[Kl]),oo(4608,fp,fp,[]),oo(4608,of,of,[]),oo(5120,$l,Zl,[Xl,Jl]),oo(5120,ju,Uu,[$l]),oo(5120,Eh,Ad,[ad]),oo(4608,bd,bd,[]),oo(6144,vd,null,[bd]),oo(135680,wd,wd,[ad,gn,Se,Qt,vd]),oo(4608,_d,_d,[]),oo(5120,Md,Rd,[Nd]),oo(5120,we,function(t){return[t]},[Md]),oo(4608,hf,hf,[]),oo(4608,df,df,[]),oo(4608,cf,mf,[yf,hf,df]),oo(4608,ug,ug,[$l,[2,ig]]),oo(4608,Ob,Ob,[ug]),oo(1024,Ed,xd,[[3,ad]]),oo(1024,he,ms,[]),oo(1024,rn,function(){return[Td()]},[]),oo(512,Nd,Nd,[Qt]),oo(1024,fe,function(t,e){return[(n=t,ia("probe",ua),ia("coreTokens",Object(r.__assign)({},la,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return ua}),Dd(e)];var n},[[2,rn],Nd]),oo(512,ge,ge,[[2,fe]]),oo(131584,sn,sn,[Be,Ce,Qt,he,Ne,ge]),oo(512,Qc,zc,[]),oo(512,gd,gd,[]),oo(256,Cd,{},[]),oo(1024,El,Id,[wl,[2,Sl],Cd]),oo(512,Tl,Tl,[El]),oo(512,Se,Se,[]),oo(512,gn,_n,[Se,[2,mn]]),oo(1024,nd,function(){return[[{path:"page-two/:restroId",component:Ld},{path:"page-one/:catName",component:If},{path:"privacypolicy.html",component:Af},{path:"",component:Uw}]]},[]),oo(1024,ad,kd,[sn,Qc,gd,Tl,Qt,gn,Se,nd,Cd,[2,od],[2,td]]),oo(512,Od,Od,[[2,Ed],[2,ad]]),oo(512,Gl,Gl,[]),oo(512,tr,tr,[sn]),oo(512,vs,vs,[[3,vs]]),oo(512,uf,uf,[]),oo(512,af,af,[]),oo(512,sf,sf,[]),oo(512,tu,tu,[]),oo(512,qu,qu,[]),oo(512,vf,vf,[]),oo(512,fC,fC,[]),oo(512,_l,_l,[]),oo(256,Xl,{apiKey:"AIzaSyDLAnATlnf23w5xhAebPcFQw2POdrGK-NQ",authDomain:"bingetesting.firebaseapp.com",databaseURL:"https://bingetesting.firebaseio.com",projectId:"bingetesting",storageBucket:"bingetesting.appspot.com",messagingSenderId:"254566168359"},[]),oo(256,Jl,void 0,[]),oo(256,yf,{apiKey:"AIzaSyAyfSgfWLxQxcgl8D2RFsiaSJaaOTuyy48",libraries:["places"]},[])])})}();(function(){if(tn)throw new Error("Cannot enable prod mode after platform setup.");Je=!1})(),ys().bootstrapModuleFactory(gC).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},u=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],l=o+1<t.length,u=l?t[o+1]:0,a=o+2<t.length,s=a?t[o+2]:0,c=(15&u)<<2|s>>6,h=63&s;a||(h=64,l||(c=64)),r.push(n[i>>2],n[(3&i)<<4|u>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var l=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(u=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{i=t[n++];var u=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],l=o<t.length?n[t.charAt(o)]:0,u=++o<t.length?n[t.charAt(o)]:64,a=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==l||null==u||null==a)throw Error();r.push(i<<2|l>>4),64!=u&&(r.push(l<<4&240|u>>2),64!=a&&r.push(u<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),d=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p=Error.captureStackTrace,f=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,g.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="FirebaseError";var g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var i=new f(o,n=this.serviceName+": "+n+" ("+o+").");for(var l in e)e.hasOwnProperty(l)&&"_"!==l.slice(-1)&&(i[l]=e[l]);return i},t}();function y(t){return JSON.parse(t)}var m=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=y(s(i[0])||""),n=y(s(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:o}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return v(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var o,i,l=this.chain_[0],u=this.chain_[1],a=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=s^u&(a^s),i=1518500249):(o=u^a^s,i=1859775393):r<60?(o=u&a|s&(u|a),i=2400959708):(o=u^a^s,i=3395469782);var h=(l<<5|l>>>27)+o+c+i+n[r]&4294967295;c=s,s=a,a=4294967295&(u<<30|u>>>2),u=l,l=h}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},e}(function(){this.blockSize=-1}),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=i,e.assertionError=l,e.base64=a,e.base64Decode=s,e.base64Encode=function(t){var e=u(t);return a.encodeByteArray(e,!0)},e.CONSTANTS=o,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=d,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=g,e.FirebaseError=f,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=m,e.isAdmin=function(t){var e=m(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=m(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=m(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=m(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var l=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(l<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e}}},[[9,0]]]);